(self.webpackChunkfirebase_auth_credentail_manager=self.webpackChunkfirebase_auth_credentail_manager||[]).push([[179],{111:(kd,Rd,Xs)=>{"use strict";function me(n){return"function"==typeof n}function ea(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const fs=ea(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function ta(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class Pe{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(me(i))try{i()}catch(s){t=s instanceof fs?s.errors:[s]}const{_teardowns:r}=this;if(r){this._teardowns=null;for(const s of r)try{Ql(s)}catch(o){t=null!=t?t:[],o instanceof fs?t=[...t,...o.errors]:t.push(o)}}if(t)throw new fs(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Ql(t);else{if(t instanceof Pe){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(e=this._teardowns)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&ta(e,t)}remove(t){const{_teardowns:e}=this;e&&ta(e,t),t instanceof Pe&&t._removeParent(this)}}Pe.EMPTY=(()=>{const n=new Pe;return n.closed=!0,n})();const na=Pe.EMPTY;function Zs(n){return n instanceof Pe||n&&"closed"in n&&me(n.remove)&&me(n.add)&&me(n.unsubscribe)}function Ql(n){me(n)?n():n.unsubscribe()}const ln={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},zi={setTimeout(...n){const{delegate:t}=zi;return((null==t?void 0:t.setTimeout)||setTimeout)(...n)},clearTimeout(n){const{delegate:t}=zi;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function Ln(n){zi.setTimeout(()=>{const{onUnhandledError:t}=ln;if(!t)throw n;t(n)})}function ii(){}const ia=Xl("C",void 0,void 0);function Xl(n,t,e){return{kind:n,value:t,error:e}}let H=null;function ge(n){if(ln.useDeprecatedSynchronousErrorHandling){const t=!H;if(t&&(H={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=H;if(H=null,e)throw i}}else n()}class Le extends Pe{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Zs(t)&&t.add(this)):this.destination=GH}static create(t,e,i){return new Ee(t,e,i)}next(t){this.isStopped?og(Xl("N",t,void 0),this):this._next(t)}error(t){this.isStopped?og(Xl("E",void 0,t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?og(ia,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ee extends Le{constructor(t,e,i){let r;if(super(),me(t))r=t;else if(t){let s;({next:r,error:e,complete:i}=t),this&&ln.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe()):s=t,r=null==r?void 0:r.bind(s),e=null==e?void 0:e.bind(s),i=null==i?void 0:i.bind(s)}this.destination={next:r?cn(r):ii,error:cn(null!=e?e:ps),complete:i?cn(i):ii}}}function cn(n,t){return(...e)=>{try{n(...e)}catch(i){ln.useDeprecatedSynchronousErrorHandling?function(n){ln.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=n)}(i):Ln(i)}}}function ps(n){throw n}function og(n,t){const{onStoppedNotification:e}=ln;e&&zi.setTimeout(()=>e(n,t))}const GH={closed:!0,next:ii,error:ps,complete:ii},ag="function"==typeof Symbol&&Symbol.observable||"@@observable";function ms(n){return n}function aT(...n){return lT(n)}function lT(n){return 0===n.length?ms:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let Te=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function(n){return n&&n instanceof Le||function(n){return n&&me(n.next)&&me(n.error)&&me(n.complete)}(n)&&Zs(n)}(e)?e:new Ee(e,i,r);return ge(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=cT(i))((r,s)=>{let o;o=this.subscribe(a=>{try{e(a)}catch(l){s(l),null==o||o.unsubscribe()}},s,r)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[ag](){return this}pipe(...e){return lT(e)(this)}toPromise(e){return new(e=cT(e))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=t=>new n(t),n})();function cT(n){var t;return null!==(t=null!=n?n:ln.Promise)&&void 0!==t?t:Promise}const KH=ea(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Q=(()=>{class n extends Te{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new uT(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new KH}next(e){ge(()=>{if(this._throwIfClosed(),!this.isStopped){const i=this.observers.slice();for(const r of i)r.next(e)}})}error(e){ge(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){ge(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?na:(s.push(e),new Pe(()=>ta(s,e)))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new Te;return e.source=this,e}}return n.create=(t,e)=>new uT(t,e),n})();class uT extends Q{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:na}}function dT(n){return me(null==n?void 0:n.lift)}function ht(n){return t=>{if(dT(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}class it extends Le{constructor(t,e,i,r,s){super(t),this.onFinalize=s,this._next=e?function(o){try{e(o)}catch(a){t.error(a)}}:super._next,this._error=r?function(o){try{r(o)}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(o){t.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}function ee(n,t){return ht((e,i)=>{let r=0;e.subscribe(new it(i,s=>{i.next(n.call(t,s,r++))}))})}function Js(n){return this instanceof Js?(this.v=n,this):new Js(n)}function XH(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){i[h]&&(r[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function(h){h.value instanceof Js?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(i[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function ZH(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=n[s]&&function(o){return new Promise(function(a,l){!function(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}const cg=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function mT(n){return me(null==n?void 0:n.then)}function gT(n){return me(n[ag])}function _T(n){return Symbol.asyncIterator&&me(null==n?void 0:n[Symbol.asyncIterator])}function yT(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const vT="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function bT(n){return me(null==n?void 0:n[vT])}function CT(n){return XH(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield Js(e.read());if(r)return yield Js(void 0);yield yield Js(i)}}finally{e.releaseLock()}})}function wT(n){return me(null==n?void 0:n.getReader)}function Vn(n){if(n instanceof Te)return n;if(null!=n){if(gT(n))return function(n){return new Te(t=>{const e=n[ag]();if(me(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(cg(n))return function(n){return new Te(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(mT(n))return function(n){return new Te(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Ln)})}(n);if(_T(n))return ET(n);if(bT(n))return function(n){return new Te(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(wT(n))return function(n){return ET(CT(n))}(n)}throw yT(n)}function ET(n){return new Te(t=>{(function(n,t){var e,i,r,s;return function(n,t,e,i){return new(e||(e=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function(s){return s instanceof e?s:new e(function(o){o(s)})}(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=ZH(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Mr(n,t,e,i=0,r=!1){const s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function bt(n,t,e=1/0){return me(t)?bt((i,r)=>ee((s,o)=>t(i,s,r,o))(Vn(n(i,r))),e):("number"==typeof t&&(e=t),ht((i,r)=>function(n,t,e,i,r,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&t.complete()},f=g=>c<i?p(g):l.push(g),p=g=>{c++;let _=!1;Vn(e(g,u++)).subscribe(new it(t,E=>{t.next(E)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<i;){const E=l.shift();p(E)}h()}catch(E){t.error(E)}}))};return n.subscribe(new it(t,f,()=>{d=!0,h()})),()=>{}}(i,r,n,e)))}function Zl(n=1/0){return bt(ms,n)}const Gi=new Te(n=>n.complete());function DT(n){return n&&me(n.schedule)}function ug(n){return n[n.length-1]}function ST(n){return me(ug(n))?n.pop():void 0}function Jl(n){return DT(ug(n))?n.pop():void 0}function Od(n,t=0){return ht((e,i)=>{e.subscribe(new it(i,r=>Mr(i,n,()=>i.next(r),t),()=>Mr(i,n,()=>i.complete(),t),r=>Mr(i,n,()=>i.error(r),t)))})}function Pd(n,t=0){return ht((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function TT(n,t){if(!n)throw new Error("Iterable cannot be null");return new Te(e=>{Mr(e,t,()=>{const i=n[Symbol.asyncIterator]();Mr(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function at(n,t){return t?function(n,t){if(null!=n){if(gT(n))return function(n,t){return Vn(n).pipe(Pd(t),Od(t))}(n,t);if(cg(n))return function(n,t){return new Te(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(mT(n))return function(n,t){return Vn(n).pipe(Pd(t),Od(t))}(n,t);if(_T(n))return TT(n,t);if(bT(n))return function(n,t){return new Te(e=>{let i;return Mr(e,t,()=>{i=n[vT](),Mr(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void e.error(o)}s?e.complete():e.next(r)},0,!0)}),()=>me(null==i?void 0:i.return)&&i.return()})}(n,t);if(wT(n))return function(n,t){return TT(CT(n),t)}(n,t)}throw yT(n)}(n,t):Vn(n)}function eo(...n){const t=Jl(n),e=function(n,t){return"number"==typeof ug(n)?n.pop():1/0}(n),i=n;return i.length?1===i.length?Vn(i[0]):Zl(e)(at(i,t)):Gi}function qe(n){return n<=0?()=>Gi:ht((t,e)=>{let i=0;t.subscribe(new it(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function IT(n={}){const{connector:t=(()=>new Q),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o=null,a=null,l=null,c=0,u=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=l=null,u=d=!1},p=()=>{const g=o;f(),null==g||g.unsubscribe()};return ht((g,_)=>{c++,!d&&!u&&h();const E=l=null!=l?l:t();_.add(()=>{c--,0===c&&!d&&!u&&(a=dg(p,r))}),E.subscribe(_),o||(o=new Ee({next:v=>E.next(v),error:v=>{d=!0,h(),a=dg(f,e,v),E.error(v)},complete:()=>{u=!0,h(),a=dg(f,i),E.complete()}}),at(g).subscribe(o))})(s)}}function dg(n,t,...e){return!0===t?(n(),null):!1===t?null:t(...e).pipe(qe(1)).subscribe(()=>n())}function ze(n){for(let t in n)if(n[t]===ze)return t;throw Error("Could not find renamed property on target object.")}function hg(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Ie(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ie).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function fg(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const gU=ze({__forward_ref__:ze});function Ke(n){return n.__forward_ref__=Ke,n.toString=function(){return Ie(this())},n}function ae(n){return MT(n)?n():n}function MT(n){return"function"==typeof n&&n.hasOwnProperty(gU)&&n.__forward_ref__===Ke}class Bn extends Error{constructor(t,e){super(function(n,t){return`${n?`NG0${n}: `:""}${t}`}(t,e)),this.code=t}}function ie(n){return"string"==typeof n?n:null==n?"":String(n)}function un(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ie(n)}function Nd(n,t){const e=t?` in ${t}`:"";throw new Bn("201",`No provider for ${un(n)} found${e}`)}function Un(n,t){null==n&&function(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function k(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function $(n){return{providers:n.providers||[],imports:n.imports||[]}}function mg(n){return AT(n,Fd)||AT(n,kT)}function AT(n,t){return n.hasOwnProperty(t)?n[t]:null}function xT(n){return n&&(n.hasOwnProperty(gg)||n.hasOwnProperty(EU))?n[gg]:null}const Fd=ze({\u0275prov:ze}),gg=ze({\u0275inj:ze}),kT=ze({ngInjectableDef:ze}),EU=ze({ngInjectorDef:ze});var re=(()=>((re=re||{})[re.Default=0]="Default",re[re.Host=1]="Host",re[re.Self=2]="Self",re[re.SkipSelf=4]="SkipSelf",re[re.Optional=8]="Optional",re))();let _g;function gs(n){const t=_g;return _g=n,t}function RT(n,t,e){const i=mg(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&re.Optional?null:void 0!==t?t:void Nd(Ie(n),"Injector")}function _s(n){return{toString:n}.toString()}var wi=(()=>((wi=wi||{})[wi.OnPush=0]="OnPush",wi[wi.Default=1]="Default",wi))(),Ei=(()=>{return(n=Ei||(Ei={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ei;var n})();const SU="undefined"!=typeof globalThis&&globalThis,TU="undefined"!=typeof window&&window,IU="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,je=SU||"undefined"!=typeof global&&global||TU||IU,sa={},Ge=[],Ld=ze({\u0275cmp:ze}),yg=ze({\u0275dir:ze}),vg=ze({\u0275pipe:ze}),OT=ze({\u0275mod:ze}),xr=ze({\u0275fac:ze}),ec=ze({__NG_ELEMENT_ID__:ze});let MU=0;function Ce(n){return _s(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===wi.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Ge,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Ei.Emulated,id:"c",styles:n.styles||Ge,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,s=n.features,o=n.pipes;return i.id+=MU++,i.inputs=LT(n.inputs,e),i.outputs=LT(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(PT):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(NT):null,i})}function PT(n){return tn(n)||function(n){return n[yg]||null}(n)}function NT(n){return function(n){return n[vg]||null}(n)}const FT={};function z(n){return _s(()=>{const t={type:n.type,bootstrap:n.bootstrap||Ge,declarations:n.declarations||Ge,imports:n.imports||Ge,exports:n.exports||Ge,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(FT[n.id]=n.type),t})}function LT(n,t){if(null==n)return sa;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}const S=Ce;function Tn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function tn(n){return n[Ld]||null}function ri(n,t){const e=n[OT]||null;if(!e&&!0===t)throw new Error(`Type ${Ie(n)} does not have '\u0275mod' property.`);return e}function Wi(n){return Array.isArray(n)&&"object"==typeof n[1]}function Si(n){return Array.isArray(n)&&!0===n[1]}function wg(n){return 0!=(8&n.flags)}function Ud(n){return 2==(2&n.flags)}function jd(n){return 1==(1&n.flags)}function Ti(n){return null!==n.template}function PU(n){return 0!=(512&n[2])}function so(n,t){return n.hasOwnProperty(xr)?n[xr]:null}class LU{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Ht(){return BT}function BT(n){return n.type.prototype.ngOnChanges&&(n.setInput=BU),VU}function VU(){const n=UT(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===sa)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function BU(n,t,e,i){const r=UT(n)||function(n,t){return n[HT]=t}(n,{previous:sa,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[e],l=o[a];s[a]=new LU(l&&l.currentValue,t,o===sa),n[i]=t}Ht.ngInherit=!0;const HT="__ngSimpleChanges__";function UT(n){return n[HT]||null}const jT="http://www.w3.org/2000/svg";let Sg;function ft(n){return!!n.listen}const zT={createRenderer:(n,t)=>void 0!==Sg?Sg:"undefined"!=typeof document?document:void 0};function Ct(n){for(;Array.isArray(n);)n=n[0];return n}function $d(n,t){return Ct(t[n])}function ai(n,t){return Ct(t[n.index])}function Ig(n,t){return n.data[t]}function ua(n,t){return n[t]}function $n(n,t){const e=t[n];return Wi(e)?e:e[0]}function GT(n){return 4==(4&n[2])}function Mg(n){return 128==(128&n[2])}function vs(n,t){return null==t?null:n[t]}function WT(n){n[18]=0}function Ag(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const X={lFrame:eI(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function qT(){return X.bindingsEnabled}function D(){return X.lFrame.lView}function Me(){return X.lFrame.tView}function zn(n){return X.lFrame.contextLView=n,n[8]}function At(){let n=KT();for(;null!==n&&64===n.type;)n=n.parent;return n}function KT(){return X.lFrame.currentTNode}function qi(n,t){const e=X.lFrame;e.currentTNode=n,e.isParent=t}function xg(){return X.lFrame.isParent}function kg(){X.lFrame.isParent=!1}function zd(){return X.isInCheckNoChangesMode}function Gd(n){X.isInCheckNoChangesMode=n}function dn(){const n=X.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function da(){return X.lFrame.bindingIndex++}function ej(n,t){const e=X.lFrame;e.bindingIndex=e.bindingRootIndex=n,Rg(t)}function Rg(n){X.lFrame.currentDirectiveIndex=n}function Og(n){const t=X.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function XT(){return X.lFrame.currentQueryIndex}function Pg(n){X.lFrame.currentQueryIndex=n}function nj(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function ZT(n,t,e){if(e&re.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&re.Host||(r=nj(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;t=r,n=s}const i=X.lFrame=JT();return i.currentTNode=t,i.lView=n,!0}function Wd(n){const t=JT(),e=n[1];X.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function JT(){const n=X.lFrame,t=null===n?null:n.child;return null===t?eI(n):t}function eI(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function tI(){const n=X.lFrame;return X.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const nI=tI;function qd(){const n=tI();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function hn(){return X.lFrame.selectedIndex}function bs(n){X.lFrame.selectedIndex=n}function pt(){const n=X.lFrame;return Ig(n.tView,n.selectedIndex)}function ha(){X.lFrame.currentNamespace=jT}function Kd(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-e,o),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),c&&((n.viewHooks||(n.viewHooks=[])).push(e,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(e,u)}}function Yd(n,t,e){rI(n,t,3,e)}function Qd(n,t,e,i){(3&n[2])===e&&rI(n,t,e,i)}function Ng(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function rI(n,t,e,i){const s=null!=i?i:-1,o=t.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(cj(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function cj(n,t,e,i){const r=e[i]<0,s=e[i+1],a=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class sc{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Xd(n,t,e){const i=ft(n);let r=0;for(;r<e.length;){const s=e[r];if("number"==typeof s){if(0!==s)break;r++;const o=e[r++],a=e[r++],l=e[r++];i?n.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=s,a=e[++r];Lg(o)?i&&n.setProperty(t,o,a):i?n.setAttribute(t,o,a):t.setAttribute(o,a),r++}}return r}function sI(n){return 3===n||4===n||6===n}function Lg(n){return 64===n.charCodeAt(0)}function Zd(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||oI(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function oI(n,t,e,i,r){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function aI(n){return-1!==n}function fa(n){return 32767&n}function pa(n,t){let e=function(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let Vg=!0;function Jd(n){const t=Vg;return Vg=n,t}let mj=0;function ac(n,t){const e=Hg(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,Bg(i.data,n),Bg(t,null),Bg(i.blueprint,null));const r=eh(n,t),s=n.injectorIndex;if(aI(r)){const o=fa(r),a=pa(r,t),l=a[1].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=r,s}function Bg(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Hg(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function eh(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){const s=r[1],o=s.type;if(i=2===o?s.declTNode:1===o?r[6]:null,null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function th(n,t,e){!function(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(ec)&&(i=e[ec]),null==i&&(i=e[ec]=mj++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function uI(n,t,e){if(e&re.Optional)return n;Nd(t,"NodeInjector")}function dI(n,t,e,i){if(e&re.Optional&&void 0===i&&(i=null),0==(e&(re.Self|re.Host))){const r=n[9],s=gs(void 0);try{return r?r.get(t,i,e&re.Optional):RT(t,i,e&re.Optional)}finally{gs(s)}}return uI(i,t,e)}function hI(n,t,e,i=re.Default,r){if(null!==n){const s=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(ec)?n[ec]:void 0;return"number"==typeof t?t>=0?255&t:yj:t}(e);if("function"==typeof s){if(!ZT(t,n,i))return i&re.Host?uI(r,e,i):dI(t,e,i,r);try{const o=s(i);if(null!=o||i&re.Optional)return o;Nd(e)}finally{nI()}}else if("number"==typeof s){let o=null,a=Hg(n,t),l=-1,c=i&re.Host?t[16][6]:null;for((-1===a||i&re.SkipSelf)&&(l=-1===a?eh(n,t):t[a+8],-1!==l&&mI(i,!1)?(o=t[1],a=fa(l),t=pa(l,t)):a=-1);-1!==a;){const u=t[1];if(pI(s,a,u.data)){const d=vj(a,t,e,o,i,c);if(d!==fI)return d}l=t[a+8],-1!==l&&mI(i,t[1].data[a+8]===c)&&pI(s,a,t)?(o=u,a=fa(l),t=pa(l,t)):a=-1}}}return dI(t,e,i,r)}const fI={};function yj(){return new ma(At(),D())}function vj(n,t,e,i,r,s){const o=t[1],a=o.data[n+8],u=nh(a,o,e,null==i?Ud(a)&&Vg:i!=o&&0!=(3&a.type),r&re.Host&&s===a);return null!==u?lc(t,o,u,a):fI}function nh(n,t,e,i,r){const s=n.providerIndexes,o=t.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const p=o[f];if(f<l&&e===p||f>=l&&p.type===e)return f}if(r){const f=o[l];if(f&&Ti(f)&&f.type===e)return l}return null}function lc(n,t,e,i){let r=n[e];const s=t.data;if(function(n){return n instanceof sc}(r)){const o=r;o.resolving&&function(n,t){throw new Bn("200",`Circular dependency in DI detected for ${n}`)}(un(s[e]));const a=Jd(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?gs(o.injectImpl):null;ZT(n,i,re.Default);try{r=n[e]=o.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=BT(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s))}(e,s[e],t)}finally{null!==l&&gs(l),Jd(a),o.resolving=!1,nI()}}return r}function pI(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function mI(n,t){return!(n&re.Self||n&re.Host&&t)}class ma{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return hI(this._tNode,this._lView,t,i,e)}}function Ne(n){return _s(()=>{const t=n.prototype.constructor,e=t[xr]||Ug(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[xr]||Ug(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Ug(n){return MT(n)?()=>{const t=Ug(ae(n));return t&&t()}:so(n)}function ws(n){return function(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const s=e[r];if(sI(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(s===t)return e[r+1];r+=2}}}return null}(At(),n)}const _a="__parameters__";function va(n,t,e){return _s(()=>{const i=function(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(_a)?l[_a]:Object.defineProperty(l,_a,{value:[]})[_a];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class I{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=k({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const wj=new I("AnalyzeForEntryComponents");function li(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),li(i,t)):t!==n&&t.push(i)}return t}function Ki(n,t){n.forEach(e=>Array.isArray(e)?Ki(e,t):t(e))}function _I(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function ih(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function dc(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function Gn(n,t,e){let i=ba(n,t);return i>=0?n[1|i]=e:(i=~i,function(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function zg(n,t){const e=ba(n,t);if(e>=0)return n[1|e]}function ba(n,t){return function(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<e];if(t===o)return s<<e;o>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const hc={},Wg="__NG_DI_FLAG__",sh="ngTempTokenPath",Rj=/\n/gm,wI="__source",Pj=ze({provide:String,useValue:ze});let fc;function EI(n){const t=fc;return fc=n,t}function Nj(n,t=re.Default){if(void 0===fc)throw new Error("inject() must be called from an injection context");return null===fc?RT(n,void 0,t):fc.get(n,t&re.Optional?null:void 0,t)}function b(n,t=re.Default){return(_g||Nj)(ae(n),t)}const oh=b;function qg(n){const t=[];for(let e=0;e<n.length;e++){const i=ae(n[e]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let r,s=re.Default;for(let o=0;o<i.length;o++){const a=i[o],l=Fj(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}t.push(b(r,s))}else t.push(b(i))}return t}function pc(n,t){return n[Wg]=t,n.prototype[Wg]=t,n}function Fj(n){return n[Wg]}const mc=pc(va("Inject",n=>({token:n})),-1),nt=pc(va("Optional"),8),Es=pc(va("SkipSelf"),4);let lh;function wa(n){var t;return(null===(t=function(){if(void 0===lh&&(lh=null,je.trustedTypes))try{lh=je.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return lh}())||void 0===t?void 0:t.createHTML(n))||n}class oo{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Yj extends oo{getTypeName(){return"HTML"}}class Qj extends oo{getTypeName(){return"Style"}}class Xj extends oo{getTypeName(){return"Script"}}class Zj extends oo{getTypeName(){return"URL"}}class Jj extends oo{getTypeName(){return"ResourceURL"}}function Wn(n){return n instanceof oo?n.changingThisBreaksApplicationSecurity:n}function Yi(n,t){const e=RI(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function RI(n){return n instanceof oo&&n.getTypeName()||null}class s${constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(wa(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class o${constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=wa(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=wa(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const o=e.item(r).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&t.removeAttribute(o)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const l$=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,c$=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function _c(n){return(n=String(n)).match(l$)||n.match(c$)?n:"unsafe:"+n}function PI(n){return(n=String(n)).split(",").map(t=>_c(t.trim())).join(", ")}function Qi(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function yc(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const NI=Qi("area,br,col,hr,img,wbr"),FI=Qi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),LI=Qi("rp,rt"),Xg=yc(NI,yc(FI,Qi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),yc(LI,Qi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yc(LI,FI)),Zg=Qi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Jg=Qi("srcset"),VI=yc(Zg,Jg,Qi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),u$=Qi("script,style,template");class d${constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Xg.hasOwnProperty(e))return this.sanitizedSomething=!0,!u$.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!VI.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;Zg[a]&&(l=_c(l)),Jg[a]&&(l=PI(l)),this.buf.push(" ",o,'="',BI(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Xg.hasOwnProperty(e)&&!NI.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(BI(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const h$=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f$=/([^\#-~ |!])/g;function BI(n){return n.replace(/&/g,"&amp;").replace(h$,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(f$,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let uh;function HI(n,t){let e=null;try{uh=uh||function(n){const t=new o$(n);return function(){try{return!!(new window.DOMParser).parseFromString(wa(""),"text/html")}catch(n){return!1}}()?new s$(t):t}(n);let i=t?String(t):"";e=uh.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=uh.getInertBodyElement(i)}while(i!==s);return wa((new d$).sanitizeChildren(e_(e)||e))}finally{if(e){const i=e_(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function e_(n){return"content"in n&&function(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Fe=(()=>((Fe=Fe||{})[Fe.NONE=0]="NONE",Fe[Fe.HTML=1]="HTML",Fe[Fe.STYLE=2]="STYLE",Fe[Fe.SCRIPT=3]="SCRIPT",Fe[Fe.URL=4]="URL",Fe[Fe.RESOURCE_URL=5]="RESOURCE_URL",Fe))();function dh(n){const t=function(){const n=D();return n&&n[12]}();return t?t.sanitize(Fe.URL,n)||"":Yi(n,"URL")?Wn(n):_c(ie(n))}const $I="__ngContext__";function rn(n,t){n[$I]=t}function n_(n){const t=function(n){return n[$I]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function r_(n){return n.ngOriginalError}function R$(n,...t){n.error(...t)}class Or{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=(n=t)&&n.ngErrorLogger||R$;var n;i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&r_(t);for(;e&&r_(e);)e=r_(e);return e||null}}const KI=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(je))();function Xi(n){return n instanceof Function?n():n}var qn=(()=>((qn=qn||{})[qn.Important=1]="Important",qn[qn.DashCase=2]="DashCase",qn))();function o_(n,t){return undefined(n,t)}function Cc(n){const t=n[3];return Si(t)?t[3]:t}function a_(n){return JI(n[13])}function l_(n){return JI(n[4])}function JI(n){for(;null!==n&&!Si(n);)n=n[4];return n}function Da(n,t,e,i,r){if(null!=i){let s,o=!1;Si(i)?s=i:Wi(i)&&(o=!0,i=i[0]);const a=Ct(i);0===n&&null!==e?null==r?sM(t,e,a):ao(t,e,a,r||null,!0):1===n&&null!==e?ao(t,e,a,r||null,!0):2===n?function(n,t,e){const i=hh(n,t);i&&function(n,t,e,i){ft(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=s&&function(n,t,e,i,r){const s=e[7];s!==Ct(e)&&Da(t,n,i,s,r);for(let a=10;a<e.length;a++){const l=e[a];wc(l[1],l,n,t,i,s)}}(t,n,s,e,r)}}function u_(n,t,e){return ft(n)?n.createElement(t,e):null===e?n.createElement(t):n.createElementNS(e,t)}function tM(n,t){const e=n[9],i=e.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,Ag(r,-1)),e.splice(i,1)}function d_(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&tM(r,i),t>0&&(n[e-1][4]=i[4]);const s=ih(n,10+t);!function(n,t){wc(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function nM(n,t){if(!(256&t[2])){const e=t[11];ft(e)&&e.destroyNode&&wc(n,t,e,3,null,null),function(n){let t=n[13];if(!t)return h_(n[1],n);for(;t;){let e=null;if(Wi(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)Wi(t)&&h_(t[1],t),t=t[3];null===t&&(t=n),Wi(t)&&h_(t[1],t),e=t&&t[4]}t=e}}(t)}}function h_(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof sc)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(r)}finally{}}}}(n,t),function(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+1],a="function"==typeof o?o(t):Ct(t[o]),l=i[r=e[s+2]],c=e[s+3];"boolean"==typeof c?a.removeEventListener(e[s],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),s+=2}else{const o=i[r=e[s+1]];e[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)i[s]();t[7]=null}}(n,t),1===t[1].type&&ft(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&Si(t[3])){e!==t[3]&&tM(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function iM(n,t,e){return function(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===Ei.None||r===Ei.Emulated)return null}return ai(i,e)}(n,t.parent,e)}function ao(n,t,e,i,r){ft(n)?n.insertBefore(t,e,i,r):t.insertBefore(e,i,r)}function sM(n,t,e){ft(n)?n.appendChild(t,e):t.appendChild(e)}function oM(n,t,e,i,r){null!==i?ao(n,t,e,i,r):sM(n,t,e)}function hh(n,t){return ft(n)?n.parentNode(t):t.parentNode}function aM(n,t,e){return cM(n,t,e)}let cM=function(n,t,e){return 40&n.type?ai(n,e):null};function fh(n,t,e,i){const r=iM(n,i,t),s=t[11],a=aM(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)oM(s,r,e[l],a,!1);else oM(s,r,e,a,!1)}function ph(n,t){if(null!==t){const e=t.type;if(3&e)return ai(t,n);if(4&e)return p_(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return ph(n,i);{const r=n[t.index];return Si(r)?p_(-1,r):Ct(r)}}if(32&e)return o_(t,n)()||Ct(n[t.index]);{const i=dM(n,t);return null!==i?Array.isArray(i)?i[0]:ph(Cc(n[16]),i):ph(n,t.next)}}return null}function dM(n,t){return null!==t?n[16][6].projection[t.projection]:null}function p_(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return ph(i,r)}return t[7]}function m_(n,t,e,i,r,s,o){for(;null!=e;){const a=i[e.index],l=e.type;if(o&&0===t&&(a&&rn(Ct(a),i),e.flags|=4),64!=(64&e.flags))if(8&l)m_(n,t,e.child,i,r,s,!1),Da(t,n,r,a,s);else if(32&l){const c=o_(e,i);let u;for(;u=c();)Da(t,n,r,u,s);Da(t,n,r,a,s)}else 16&l?fM(n,t,i,e,r,s):Da(t,n,r,a,s);e=o?e.projectionNext:e.next}}function wc(n,t,e,i,r,s){m_(e,i,n.firstChild,t,r,s,!1)}function fM(n,t,e,i,r,s){const o=e[16],l=o[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Da(t,n,r,l[c],s);else m_(n,t,l,o[3],r,s,!0)}function pM(n,t,e){ft(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function g_(n,t,e){ft(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function mM(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}const gM="ng-template";function oz(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==mM(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function _M(n){return 4===n.type&&n.value!==gM}function az(n,t,e){return t===(4!==n.type||e?n.value:gM)}function lz(n,t,e){let i=4;const r=n.attrs||[],s=function(n){for(let t=0;t<n.length;t++)if(sI(n[t]))return t;return n.length}(r);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!az(n,l,e)||""===l&&1===t.length){if(Ii(i))return!1;o=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!oz(n.attrs,c,e)){if(Ii(i))return!1;o=!0}continue}const d=cz(8&i?"class":l,r,_M(n),e);if(-1===d){if(Ii(i))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==mM(f,c,0)||2&i&&c!==h){if(Ii(i))return!1;o=!0}}}}else{if(!o&&!Ii(i)&&!Ii(l))return!1;if(o&&Ii(l))continue;o=!1,i=l|1&i}}return Ii(i)||o}function Ii(n){return 0==(1&n)}function cz(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const o=t[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function yM(n,t,e=!1){for(let i=0;i<t.length;i++)if(lz(n,t[i],e))return!0;return!1}function fz(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function vM(n,t){return n?":not("+t.trim()+")":t}function pz(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!Ii(o)&&(t+=vM(s,r),r=""),i=o,s=s||!Ii(i);e++}return""!==r&&(t+=vM(s,r)),t}const se={};function x(n){bM(Me(),D(),hn()+n,zd())}function bM(n,t,e,i){if(!i)if(3==(3&t[2])){const s=n.preOrderCheckHooks;null!==s&&Yd(t,s,e)}else{const s=n.preOrderHooks;null!==s&&Qd(t,s,0,e)}bs(e)}function mh(n,t){return n<<17|t<<2}function Mi(n){return n>>17&32767}function __(n){return 2|n}function Pr(n){return(131068&n)>>2}function y_(n,t){return-131069&n|t<<2}function v_(n){return 1|n}function kM(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],s=e[i+1];if(-1!==s){const o=n.data[s];Pg(r),o.contentQueries(2,t[s],s)}}}function Ec(n,t,e,i,r,s,o,a,l,c){const u=t.blueprint.slice();return u[0]=r,u[2]=140|i,WT(u),u[3]=u[15]=n,u[8]=e,u[10]=o||n&&n[10],u[11]=a||n&&n[11],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=s,u[16]=2==t.type?n[16]:u,u}function Sa(n,t,e,i,r){let s=n.data[t];if(null===s)s=function(n,t,e,i,r){const s=KT(),o=xg(),l=n.data[t]=function(n,t,e,i,r,s){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,t,e,i,r),X.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const o=function(){const n=X.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return qi(s,!0),s}function Ta(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function Dc(n,t,e){Wd(t);try{const i=n.viewQuery;null!==i&&L_(1,i,e);const r=n.template;null!==r&&RM(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&kM(n,t),n.staticViewQueries&&L_(2,n.viewQuery,e);const s=n.components;null!==s&&function(n,t){for(let e=0;e<t.length;e++)Qz(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,qd()}}function Ia(n,t,e,i){const r=t[2];if(256==(256&r))return;Wd(t);const s=zd();try{WT(t),function(n){X.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&RM(n,t,e,2,i);const o=3==(3&r);if(!s)if(o){const c=n.preOrderCheckHooks;null!==c&&Yd(t,c,null)}else{const c=n.preOrderHooks;null!==c&&Qd(t,c,0,null),Ng(t,0)}if(function(n){for(let t=a_(n);null!==t;t=l_(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],s=r[3];0==(1024&r[2])&&Ag(s,1),r[2]|=1024}}}(t),function(n){for(let t=a_(n);null!==t;t=l_(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];Mg(i)&&Ia(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&kM(n,t),!s)if(o){const c=n.contentCheckHooks;null!==c&&Yd(t,c)}else{const c=n.contentHooks;null!==c&&Qd(t,c,1),Ng(t,1)}!function(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)bs(~r);else{const s=r,o=e[++i],a=e[++i];ej(o,s),a(2,t[s])}}}finally{bs(-1)}}(n,t);const a=n.components;null!==a&&function(n,t){for(let e=0;e<t.length;e++)Yz(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&L_(2,l,i),!s)if(o){const c=n.viewCheckHooks;null!==c&&Yd(t,c)}else{const c=n.viewHooks;null!==c&&Qd(t,c,2),Ng(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ag(t[3],-1))}finally{qd()}}function xz(n,t,e,i){const r=t[10],s=!zd(),o=GT(t);try{s&&!o&&r.begin&&r.begin(),o&&Dc(n,t,i),Ia(n,t,e,i)}finally{s&&!o&&r.end&&r.end()}}function RM(n,t,e,i,r){const s=hn(),o=2&i;try{bs(-1),o&&t.length>20&&bM(n,t,20,zd()),e(i,r)}finally{bs(s)}}function OM(n,t,e){if(wg(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,e[s],s)}}}function A_(n,t,e){!qT()||(function(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;n.firstCreatePass||ac(e,t),rn(i,t);const o=e.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=Ti(l);c&&zz(t,e,l);const u=lc(t,n,a,e);rn(u,t),null!==o&&Gz(0,a-r,u,l,0,o),c&&($n(e.index,t)[8]=u)}}(n,t,e,ai(e,t)),128==(128&e.flags)&&function(n,t,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,a=X.lFrame.currentDirectiveIndex;try{bs(o);for(let l=i;l<r;l++){const c=n.data[l],u=t[l];Rg(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&UM(c,u)}}finally{bs(-1),Rg(a)}}(n,t,e))}function x_(n,t,e=ai){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?e(t,n):n[o];n[r++]=a}}}function PM(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=yh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function yh(n,t,e,i,r,s,o,a,l,c){const u=20+i,d=u+r,h=function(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:se);return e}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:e,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function LM(n,t,e,i){const r=qM(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&KM(n).push(i,r.length-1))}function VM(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function Kn(n,t,e,i,r,s,o,a){const l=ai(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(XM(n,e,u,i,r),Ud(t)&&function(n,t){const e=$n(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,t.value||"",i):r,ft(s)?s.setProperty(l,i,r):Lg(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function k_(n,t,e,i){let r=!1;if(qT()){const s=function(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];yM(e,o.selectors,!1)&&(r||(r=[]),th(ac(e,t),n,o.type),Ti(o)?(jM(n,e),r.unshift(o)):r.push(o))}return r}(n,t,e),o=null===i?null:{"":-1};if(null!==s){r=!0,$M(e,n.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=Ta(n,t,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];e.mergedAttrs=Zd(e.mergedAttrs,d.hostAttrs),zM(n,e,t,c,d),$z(c,d,o),null!==d.contentQueries&&(e.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),c++}!function(n,t){const i=t.directiveEnd,r=n.data,s=t.attrs,o=[];let a=null,l=null;for(let c=t.directiveStart;c<i;c++){const u=r[c],d=u.inputs,h=null===s||_M(t)?null:Wz(d,s);o.push(h),a=VM(d,c,a),l=VM(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=l}(n,e)}o&&function(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new Bn("301",`Export of name '${t[r+1]}' not found!`);i.push(t[r],s)}}}(e,i,o)}return e.mergedAttrs=Zd(e.mergedAttrs,e.attrs),r}function HM(n,t,e,i,r,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(i,r,o)}}function UM(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function jM(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function $z(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Ti(t)&&(e[""]=n)}}function $M(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function zM(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=so(r.type)),o=new sc(s,Ti(r),null);n.blueprint[i]=o,e[i]=o,HM(n,t,0,i,Ta(n,e,r.hostVars,se),r)}function zz(n,t,e){const i=ai(t,n),r=PM(e),s=n[10],o=vh(n,Ec(n,r,null,e.onPush?64:16,i,t,s,s.createRenderer(i,e),null,null));n[t.index]=o}function Zi(n,t,e,i,r,s){const o=ai(n,t);!function(n,t,e,i,r,s,o){if(null==s)ft(n)?n.removeAttribute(t,r,e):t.removeAttribute(r);else{const a=null==o?ie(s):o(s,i||"",r);ft(n)?n.setAttribute(t,r,a,e):e?t.setAttributeNS(e,r,a):t.setAttribute(r,a)}}(t[11],o,s,n.value,e,i,r)}function Gz(n,t,e,i,r,s){const o=s[t];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?i.setInput(e,d,c,u):e[u]=d}}}function Wz(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function GM(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function Yz(n,t){const e=$n(t,n);if(Mg(e)){const i=e[1];80&e[2]?Ia(i,e,i.template,e[8]):e[5]>0&&O_(e)}}function O_(n){for(let i=a_(n);null!==i;i=l_(i))for(let r=10;r<i.length;r++){const s=i[r];if(1024&s[2]){const o=s[1];Ia(o,s,o.template,s[8])}else s[5]>0&&O_(s)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=$n(e[i],n);Mg(r)&&r[5]>0&&O_(r)}}function Qz(n,t){const e=$n(t,n),i=e[1];(function(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),Dc(i,e,e[8])}function vh(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function P_(n){for(;n;){n[2]|=64;const t=Cc(n);if(PU(n)&&!t)return n;n=t}return null}function F_(n,t,e){const i=t[10];i.begin&&i.begin();try{Ia(n,t,n.template,e)}catch(r){throw QM(t,r),r}finally{i.end&&i.end()}}function WM(n){!function(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=n_(e),r=i[1];xz(r,i,r.template,e)}}(n[8])}function L_(n,t,e){Pg(0),t(n,e)}const t3=(()=>Promise.resolve(null))();function qM(n){return n[7]||(n[7]=[])}function KM(n){return n.cleanup||(n.cleanup=[])}function YM(n,t,e){return(null===n||Ti(n))&&(e=function(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(e[t.index])),e[11]}function QM(n,t){const e=n[9],i=e?e.get(Or,null):null;i&&i.handleError(t)}function XM(n,t,e,i,r){for(let s=0;s<e.length;){const o=e[s++],a=e[s++],l=t[o],c=n.data[o];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function Nr(n,t,e){const i=$d(t,n);!function(n,t,e){ft(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function bh(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?r=fg(r,a):2==s&&(i=fg(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}const V_=new I("INJECTOR",-1);class ZM{get(t,e=hc){if(e===hc){const i=new Error(`NullInjectorError: No provider for ${Ie(t)}!`);throw i.name="NullInjectorError",i}return e}}const B_=new I("Set Injector scope."),Sc={},s3={};let H_;function JM(){return void 0===H_&&(H_=new ZM),H_}function eA(n,t=null,e=null,i){const r=tA(n,t,e,i);return r._resolveInjectorDefTypes(),r}function tA(n,t=null,e=null,i){return new o3(n,e,t||JM(),i)}class o3{constructor(t,e,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];e&&Ki(e,a=>this.processProvider(a,t,e)),Ki([t],a=>this.processInjectorType(a,[],s)),this.records.set(V_,Ma(void 0,this));const o=this.records.get(B_);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:Ie(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=hc,i=re.Default){this.assertNotDestroyed();const r=EI(this),s=gs(void 0);try{if(!(i&re.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=("function"==typeof(n=t)||"object"==typeof n&&n instanceof I)&&mg(t);a=l&&this.injectableDefInScope(l)?Ma(U_(t),Sc):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&re.Self?JM():this.parent).get(t,e=i&re.Optional&&e===hc?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[sh]=o[sh]||[]).unshift(Ie(t)),r)throw o;return function(n,t,e,i){const r=n[sh];throw t[wI]&&r.unshift(t[wI]),n.message=function(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=Ie(t);if(Array.isArray(t))r=t.map(Ie).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ie(a)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(Rj,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[sh]=null,n}(o,t,"R3InjectorError",this.source)}throw o}finally{gs(s),EI(r)}var n}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,r)=>t.push(Ie(r))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,i){if(!(t=ae(t)))return!1;let r=xT(t);const s=null==r&&t.ngModule||void 0,o=void 0===s?t:s,a=-1!==i.indexOf(o);if(void 0!==s&&(r=xT(s)),null==r)return!1;if(null!=r.imports&&!a){let u;i.push(o);try{Ki(r.imports,d=>{this.processInjectorType(d,e,i)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:h,providers:f}=u[d];Ki(f,p=>this.processProvider(p,h,f||Ge))}}this.injectorDefTypes.add(o);const l=so(o)||(()=>new o);this.records.set(o,Ma(l,Sc));const c=r.providers;if(null!=c&&!a){const u=t;Ki(c,d=>this.processProvider(d,u,c))}return void 0!==s&&void 0!==t.providers}processProvider(t,e,i){let r=Aa(t=ae(t))?t:ae(t&&t.provide);const s=function(n,t,e){return iA(n)?Ma(void 0,n.useValue):Ma(nA(n),Sc)}(t);if(Aa(t)||!0!==t.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=Ma(void 0,Sc,!0),o.factory=()=>qg(o.multi),this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,s)}hydrate(t,e){return e.value===Sc&&(e.value=s3,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value;var n}injectableDefInScope(t){if(!t.providedIn)return!1;const e=ae(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function U_(n){const t=mg(n),e=null!==t?t.factory:so(n);if(null!==e)return e;if(n instanceof I)throw new Error(`Token ${Ie(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const t=n.length;if(t>0){const i=dc(t,"?");throw new Error(`Can't resolve all parameters for ${Ie(n)}: (${i.join(", ")}).`)}const e=function(n){const t=n&&(n[Fd]||n[kT]);if(t){const e=function(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Error("unreachable")}function nA(n,t,e){let i;if(Aa(n)){const r=ae(n);return so(r)||U_(r)}if(iA(n))i=()=>ae(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...qg(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))i=()=>b(ae(n.useExisting));else{const r=ae(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return so(r)||U_(r);i=()=>new r(...qg(n.deps))}return i}function Ma(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function iA(n){return null!==n&&"object"==typeof n&&Pj in n}function Aa(n){return"function"==typeof n}let He=(()=>{class n{static create(e,i){var r;if(Array.isArray(e))return eA({name:""},i,e,"");{const s=null!==(r=e.name)&&void 0!==r?r:"";return eA({name:s},e.parent,e.providers,s)}}}return n.THROW_IF_NOT_FOUND=hc,n.NULL=new ZM,n.\u0275prov=k({token:n,providedIn:"any",factory:()=>b(V_)}),n.__NG_ELEMENT_ID__=-1,n})();function w3(n,t){Kd(n_(n)[1],At())}function B(n){let t=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(Ti(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");r=t.\u0275dir}if(r){if(e){i.push(r);const o=n;o.inputs=z_(n.inputs),o.declaredInputs=z_(n.declaredInputs),o.outputs=z_(n.outputs);const a=r.hostBindings;a&&T3(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&D3(n,l),c&&S3(n,c),hg(n.inputs,r.inputs),hg(n.declaredInputs,r.declaredInputs),hg(n.outputs,r.outputs),Ti(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===B&&(e=!1)}}t=Object.getPrototypeOf(t)}!function(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Zd(r.hostAttrs,e=Zd(e,r.hostAttrs))}}(i)}function z_(n){return n===sa?{}:n===Ge?[]:n}function D3(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function S3(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function T3(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let Ch=null;function xa(){if(!Ch){const n=je.Symbol;if(n&&n.iterator)Ch=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Ch=i)}}}return Ch}function Tc(n){return!!G_(n)&&(Array.isArray(n)||!(n instanceof Map)&&xa()in n)}function G_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function sn(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Ue(n,t,e,i){const r=D();return sn(r,da(),t)&&(Me(),Zi(pt(),r,n,t,e,i)),Ue}function Ra(n,t,e,i){return sn(n,da(),e)?t+ie(e)+i:se}function U(n,t,e,i,r,s,o,a){const l=D(),c=Me(),u=n+20,d=c.firstCreatePass?function(n,t,e,i,r,s,o,a,l){const c=t.consts,u=Sa(t,n,4,o||null,vs(c,a));k_(t,e,u,vs(c,l)),Kd(t,u);const d=u.tViews=yh(2,u,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,s,o):c.data[u];qi(d,!1);const h=l[11].createComment("");fh(c,l,h,d),rn(h,l),vh(l,l[u]=GM(h,l,h,d)),jd(d)&&A_(c,l,d),null!=o&&x_(l,d,a)}function m(n,t=re.Default){const e=D();return null===e?b(n,t):hI(At(),e,ae(n),t)}function Mc(){throw new Error("invalid")}function L(n,t,e){const i=D();return sn(i,da(),t)&&Kn(Me(),pt(),i,n,t,i[11],e,!1),L}function Q_(n,t,e,i,r){const o=r?"class":"style";XM(n,e,t.inputs[o],o,i)}function C(n,t,e,i){const r=D(),s=Me(),o=20+n,a=r[11],l=r[o]=u_(a,t,X.lFrame.currentNamespace),c=s.firstCreatePass?function(n,t,e,i,r,s,o){const a=t.consts,c=Sa(t,n,2,r,vs(a,s));return k_(t,e,c,vs(a,o)),null!==c.attrs&&bh(c,c.attrs,!1),null!==c.mergedAttrs&&bh(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(o,s,r,0,t,e,i):s.data[o];qi(c,!0);const u=c.mergedAttrs;null!==u&&Xd(a,l,u);const d=c.classes;null!==d&&g_(a,l,d);const h=c.styles;null!==h&&pM(a,l,h),64!=(64&c.flags)&&fh(s,r,l,c),0===X.lFrame.elementDepthCount&&rn(l,r),X.lFrame.elementDepthCount++,jd(c)&&(A_(s,r,c),OM(s,c,r)),null!==i&&x_(r,c)}function w(){let n=At();xg()?kg():(n=n.parent,qi(n,!1));const t=n;X.lFrame.elementDepthCount--;const e=Me();e.firstCreatePass&&(Kd(e,n),wg(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(t)&&Q_(e,t,D(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(t)&&Q_(e,t,D(),t.stylesWithoutHost,!1)}function ye(n,t,e,i){C(n,t,e,i),w()}function Mn(n,t,e){const i=D(),r=Me(),s=n+20,o=r.firstCreatePass?function(n,t,e,i,r){const s=t.consts,o=vs(s,i),a=Sa(t,n,8,"ng-container",o);return null!==o&&bh(a,o,!0),k_(t,e,a,vs(s,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,r,i,t,e):r.data[s];qi(o,!0);const a=i[s]=i[11].createComment("");fh(r,i,a,o),rn(a,i),jd(o)&&(A_(r,i,o),OM(r,o,i)),null!=e&&x_(i,o)}function An(){let n=At();const t=Me();xg()?kg():(n=n.parent,qi(n,!1)),t.firstCreatePass&&(Kd(t,n),wg(n)&&t.queries.elementEnd(n))}function pn(n,t,e){Mn(n,t,e),An()}function er(){return D()}function Ac(n){return!!n&&"function"==typeof n.then}function FA(n){return!!n&&"function"==typeof n.subscribe}const X_=FA;function he(n,t,e,i){const r=D(),s=Me(),o=At();return LA(s,r,r[11],o,n,t,!!e,i),he}function Dh(n,t){const e=At(),i=D(),r=Me();return LA(r,i,YM(Og(r.data),e,i),e,n,t,!1),Dh}function LA(n,t,e,i,r,s,o,a){const l=jd(i),u=n.firstCreatePass&&KM(n),d=t[8],h=qM(t);let f=!0;if(3&i.type||a){const _=ai(i,t),E=a?a(_):_,v=h.length,T=a?P=>a(Ct(P[i.index])):i.index;if(ft(e)){let P=null;if(!a&&l&&(P=function(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===i){const a=t[7],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,t,r,i.index)),null!==P)(P.__ngLastListenerFn__||P).__ngNextListenerFn__=s,P.__ngLastListenerFn__=s,f=!1;else{s=Z_(i,t,d,s,!1);const te=e.listen(E,r,s);h.push(s,te),u&&u.push(r,T,v,v+1)}}else s=Z_(i,t,d,s,!0),E.addEventListener(r,s,o),h.push(s),u&&u.push(r,T,v,o)}else s=Z_(i,t,d,s,!1);const p=i.outputs;let g;if(f&&null!==p&&(g=p[r])){const _=g.length;if(_)for(let E=0;E<_;E+=2){const $e=t[g[E]][g[E+1]].subscribe(s),et=h.length;h.push(s,$e),u&&u.push(r,i.index,et,-(et+1))}}}function VA(n,t,e,i){try{return!1!==e(i)}catch(r){return QM(n,r),!1}}function Z_(n,t,e,i,r){return function s(o){if(o===Function)return i;const a=2&n.flags?$n(n.index,t):t;0==(32&t[2])&&P_(a);let l=VA(t,0,i,o),c=s.__ngNextListenerFn__;for(;c;)l=VA(t,0,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function Ae(n=1){return function(n){return(X.lFrame.contextLView=function(n,t){for(;n>0;)t=t[15],n--;return t}(n,X.lFrame.contextLView))[8]}(n)}function iG(n,t){let e=null;const i=function(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?yM(n,s,!0):fz(i,s))return r}else e=r}return e}function tr(n){const t=D()[16][6];if(!t.projection){const i=t.projection=dc(n?n.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const o=n?iG(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function wt(n,t=0,e){const i=D(),r=Me(),s=Sa(r,20+n,16,null,e||null);null===s.projection&&(s.projection=t),kg(),64!=(64&s.flags)&&function(n,t,e){fM(t[11],0,t,e,iM(n,e,t),aM(e.parent||t[6],e,t))}(r,i,s)}function J_(n,t,e){return ey(n,"",t,"",e),J_}function ey(n,t,e,i,r){const s=D(),o=Ra(s,t,e,i);return o!==se&&Kn(Me(),pt(),s,n,o,s[11],r,!1),ey}function qA(n,t,e,i,r){const s=n[e+1],o=null===t;let a=i?Mi(s):Pr(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];oG(n[a],t)&&(l=!0,n[a+1]=i?v_(u):__(u)),a=i?Mi(u):Pr(u)}l&&(n[e+1]=i?__(s):v_(s))}function oG(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&ba(n,t)>=0}function xi(n,t,e){return ki(n,t,e,!1),xi}function yt(n,t){return ki(n,t,null,!0),yt}function ki(n,t,e,i){const r=D(),s=Me(),o=function(n){const t=X.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}(2);s.firstUpdatePass&&function(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[hn()],o=function(n,t){return t>=n.expandoStartIndex}(n,e);(function(n,t){return 0!=(n.flags&(t?16:32))})(s,i)&&null===t&&!o&&(t=!1),t=function(n,t,e,i){const r=Og(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=xc(e=ty(null,n,t,e,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==r)if(e=ty(r,n,t,e,i),null===s){let l=function(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Pr(i))return n[Mi(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=ty(null,n,t,l[1],i),l=xc(l,t.attrs,i),function(n,t,e,i){n[Mi(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else s=function(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=xc(i,n[s].hostAttrs,e);return xc(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function(n,t,e,i,r,s){let o=s?t.classBindings:t.styleBindings,a=Mi(o),l=Pr(o);n[i]=e;let u,c=!1;if(Array.isArray(e)){const d=e;u=d[1],(null===u||ba(d,u)>0)&&(c=!0)}else u=e;if(r)if(0!==l){const h=Mi(n[a+1]);n[i+1]=mh(h,a),0!==h&&(n[h+1]=y_(n[h+1],i)),n[a+1]=function(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=mh(a,0),0!==a&&(n[a+1]=y_(n[a+1],i)),a=i;else n[i+1]=mh(l,0),0===a?a=i:n[l+1]=y_(n[l+1],i),l=i;c&&(n[i+1]=__(n[i+1])),qA(n,u,i,!0),qA(n,u,i,!1),function(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&ba(s,t)>=0&&(e[i+1]=v_(e[i+1]))}(t,u,n,i,s),o=mh(a,l),s?t.classBindings=o:t.styleBindings=o}(r,s,t,e,o,i)}}(s,n,o,i),t!==se&&sn(r,o,t)&&function(n,t,e,i,r,s,o,a){if(!(3&t.type))return;const l=n.data,c=l[a+1];Sh(function(n){return 1==(1&n)}(c)?rx(l,t,e,r,Pr(c),o):void 0)||(Sh(s)||function(n){return 2==(2&n)}(c)&&(s=rx(l,null,e,r,a,o)),function(n,t,e,i,r){const s=ft(n);if(t)r?s?n.addClass(e,i):e.classList.add(i):s?n.removeClass(e,i):e.classList.remove(i);else{let o=-1===i.indexOf("-")?void 0:qn.DashCase;if(null==r)s?n.removeStyle(e,i,o):e.style.removeProperty(i);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),o|=qn.Important),s?n.setStyle(e,i,r,o):e.style.setProperty(i,r,a?"important":"")}}}(i,o,$d(hn(),e),r,s))}(s,s.data[hn()],r,r[11],n,r[o+1]=function(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Ie(Wn(n)))),n}(t,e),i,o)}function ty(n,t,e,i,r){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=t[a],i=xc(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function xc(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Gn(n,o,!!e||t[++s]))}return void 0===n?null:n}function rx(n,t,e,i,r,s){const o=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=e[r+1];h===se&&(h=d?Ge:void 0);let f=d?zg(h,i):u===i?h:void 0;if(c&&!Sh(f)&&(f=zg(l,i)),Sh(f)&&(a=f,o))return a;const p=n[r+1];r=o?Mi(p):Pr(p)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=zg(l,i))}return a}function Sh(n){return void 0!==n}function O(n,t=""){const e=D(),i=Me(),r=n+20,s=i.firstCreatePass?Sa(i,r,1,t,null):i.data[r],o=e[r]=function(n,t){return ft(n)?n.createText(t):n.createTextNode(t)}(e[11],t);fh(i,e,o,s),qi(s,!1)}function Oi(n){return mn("",n,""),Oi}function mn(n,t,e){const i=D(),r=Ra(i,n,t,e);return r!==se&&Nr(i,hn(),r),mn}function kc(n,t,e){const i=D();return sn(i,da(),t)&&Kn(Me(),pt(),i,n,t,i[11],e,!0),kc}function Th(n,t,e){const i=D();if(sn(i,da(),t)){const s=Me(),o=pt();Kn(s,o,i,n,t,YM(Og(s.data),o,i),e,!0)}return Th}const co=void 0;var UG=["en",[["a","p"],["AM","PM"],co],[["AM","PM"],co,co],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],co,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],co,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",co,"{1} 'at' {0}",co],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let ja={};function Dx(n){return n in ja||(ja[n]=je.ng&&je.ng.common&&je.ng.common.locales&&je.ng.common.locales[n]),ja[n]}var F=(()=>((F=F||{})[F.LocaleId=0]="LocaleId",F[F.DayPeriodsFormat=1]="DayPeriodsFormat",F[F.DayPeriodsStandalone=2]="DayPeriodsStandalone",F[F.DaysFormat=3]="DaysFormat",F[F.DaysStandalone=4]="DaysStandalone",F[F.MonthsFormat=5]="MonthsFormat",F[F.MonthsStandalone=6]="MonthsStandalone",F[F.Eras=7]="Eras",F[F.FirstDayOfWeek=8]="FirstDayOfWeek",F[F.WeekendRange=9]="WeekendRange",F[F.DateFormat=10]="DateFormat",F[F.TimeFormat=11]="TimeFormat",F[F.DateTimeFormat=12]="DateTimeFormat",F[F.NumberSymbols=13]="NumberSymbols",F[F.NumberFormats=14]="NumberFormats",F[F.CurrencyCode=15]="CurrencyCode",F[F.CurrencySymbol=16]="CurrencySymbol",F[F.CurrencyName=17]="CurrencyName",F[F.Currencies=18]="Currencies",F[F.Directionality=19]="Directionality",F[F.PluralCase=20]="PluralCase",F[F.ExtraData=21]="ExtraData",F))();const Ih="en-US";let Sx=Ih;function ry(n,t,e,i,r){if(n=ae(n),Array.isArray(n))for(let s=0;s<n.length;s++)ry(n[s],t,e,i,r);else{const s=Me(),o=D();let a=Aa(n)?n:ae(n.provide),l=nA(n);const c=At(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Aa(n)||!n.multi){const f=new sc(l,r,m),p=oy(a,t,r?u:u+h,d);-1===p?(th(ac(c,o),s,a),sy(s,n,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(f),o.push(f)):(e[p]=f,o[p]=f)}else{const f=oy(a,t,u+h,d),p=oy(a,t,u,u+h),g=f>=0&&e[f],_=p>=0&&e[p];if(r&&!_||!r&&!g){th(ac(c,o),s,a);const E=function(n,t,e,i,r){const s=new sc(n,e,m);return s.multi=[],s.index=t,s.componentProviders=0,Yx(s,r,i&&!e),s}(r?BW:VW,e.length,r,i,l);!r&&_&&(e[p].providerFactory=E),sy(s,n,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(E),o.push(E)}else sy(s,n,f>-1?f:p,Yx(e[r?p:f],l,!r&&i));!r&&i&&_&&e[p].componentProviders++}}}function sy(n,t,e,i){const r=Aa(t),s=function(n){return!!n.useClass}(t);if(r||s){const l=(s?ae(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function Yx(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function oy(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function VW(n,t,e,i){return ay(this.multi,[])}function BW(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=lc(e,e[1],this.providerFactory.index,i);s=a.slice(0,o),ay(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],ay(r,s);return s}function ay(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Z(n,t=[]){return e=>{e.providersResolver=(i,r)=>function(n,t,e){const i=Me();if(i.firstCreatePass){const r=Ti(n);ry(e,i.data,i.blueprint,r,!0),ry(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class Qx{}class $W{resolveComponentFactory(t){throw function(n){const t=Error(`No component factory found for ${Ie(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Ts=(()=>{class n{}return n.NULL=new $W,n})();function zW(){return za(At(),D())}function za(n,t){return new J(ai(n,t))}let J=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=zW,n})();function GW(n){return n instanceof J?n.nativeElement:n}class Fc{}let Fr=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function(){const n=D(),e=$n(At().index,n);return function(n){return n[11]}(Wi(e)?e:n)}(),n})(),KW=(()=>{class n{}return n.\u0275prov=k({token:n,providedIn:"root",factory:()=>null}),n})();class Lr{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Zx=new Lr("13.1.1"),ly={};function Rh(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];if(null!==s&&i.push(Ct(s)),Si(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&Rh(l[1],l,c,i)}const o=e.type;if(8&o)Rh(n,t,e.child,i);else if(32&o){const a=o_(e,t);let l;for(;l=a();)i.push(l)}else if(16&o){const a=dM(t,e);if(Array.isArray(a))i.push(...a);else{const l=Cc(t[16]);Rh(l[1],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class Lc{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Rh(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Si(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(d_(t,i),ih(e,i))}this._attachedToViewContainer=!1}nM(this._lView[1],this._lView)}onDestroy(t){LM(this._lView[1],this._lView,null,t)}markForCheck(){P_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){F_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,t,e){Gd(!0);try{F_(n,t,e)}finally{Gd(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,wc(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class YW extends Lc{constructor(t){super(t),this._view=t}detectChanges(){WM(this._view)}checkNoChanges(){!function(n){Gd(!0);try{WM(n)}finally{Gd(!1)}}(this._view)}get context(){return null}}class Jx extends Ts{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=tn(t);return new cy(e,this.ngModule)}}function ek(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}const XW=new I("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>KI});class cy extends Qx{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(pz).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ek(this.componentDef.inputs)}get outputs(){return ek(this.componentDef.outputs)}create(t,e,i,r){const s=(r=r||this.ngModule)?function(n,t){return{get:(e,i,r)=>{const s=n.get(e,ly,r);return s!==ly||i===ly?s:t.get(e,i,r)}}}(t,r.injector):t,o=s.get(Fc,zT),a=s.get(KW,null),l=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=i?function(n,t,e){if(ft(n))return n.selectRootElement(t,e===Ei.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(l,i,this.componentDef.encapsulation):u_(o.createRenderer(null,this.componentDef),c,function(n){const t=n.toLowerCase();return"svg"===t?jT:"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,h=function(n,t){return{components:[],scheduler:n||KI,clean:t3,playerHandler:t||null,flags:0}}(),f=yh(0,null,null,1,0,null,null,null,null,null),p=Ec(null,f,h,d,null,null,o,l,a,s);let g,_;Wd(p);try{const E=function(n,t,e,i,r,s){const o=e[1];e[20]=n;const l=Sa(o,20,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(bh(l,c,!0),null!==n&&(Xd(r,n,c),null!==l.classes&&g_(r,n,l.classes),null!==l.styles&&pM(r,n,l.styles)));const u=i.createRenderer(n,t),d=Ec(e,PM(t),null,t.onPush?64:16,e[20],l,i,u,s||null,null);return o.firstCreatePass&&(th(ac(l,e),o,t.type),jM(o,l),$M(l,e.length,1)),vh(e,d),e[20]=d}(u,this.componentDef,p,o,l);if(u)if(i)Xd(l,u,["ng-version",Zx.full]);else{const{attrs:v,classes:T}=function(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!Ii(r))break;r=s}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);v&&Xd(l,u,v),T&&T.length>0&&g_(l,u,T.join(" "))}if(_=Ig(f,20),void 0!==e){const v=_.projection=[];for(let T=0;T<this.ngContentSelectors.length;T++){const P=e[T];v.push(null!=P?Array.from(P):null)}}g=function(n,t,e,i,r){const s=e[1],o=function(n,t,e){const i=At();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),zM(n,i,t,Ta(n,t,1,null),e));const r=lc(t,n,i.directiveStart,i);rn(r,t);const s=ai(i,t);return s&&rn(s,t),r}(s,e,t);if(i.components.push(o),n[8]=o,r&&r.forEach(l=>l(o,t)),t.contentQueries){const l=At();t.contentQueries(1,o,l.directiveStart)}const a=At();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(bs(a.index),HM(e[1],a,0,a.directiveStart,a.directiveEnd,t),UM(t,o)),o}(E,this.componentDef,p,h,[w3]),Dc(f,p,null)}finally{qd()}return new e5(this.componentType,g,za(_,p),p,_)}}class e5 extends class{}{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new YW(r),this.componentType=t}get injector(){return new ma(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Vr{}class tk{}const Ga=new Map;class rk extends Vr{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Jx(this);const i=ri(t);this._bootstrapComponents=Xi(i.bootstrap),this._r3Injector=tA(t,e,[{provide:Vr,useValue:this},{provide:Ts,useValue:this.componentFactoryResolver}],Ie(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=He.THROW_IF_NOT_FOUND,i=re.Default){return t===He||t===Vr||t===V_?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class uy extends tk{constructor(t){super(),this.moduleType=t,null!==ri(t)&&function(n){const t=new Set;!function e(i){const r=ri(i,!0),s=r.id;null!==s&&(function(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${Ie(t)} vs ${Ie(t.name)}`)}(s,Ga.get(s),i),Ga.set(s,i));const o=Xi(r.imports);for(const a of o)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new rk(this.moduleType,t)}}function ok(n,t,e,i,r,s){const o=t+e;return sn(n,o,r)?function(n,t,e){return n[t]=e}(n,o+1,s?i.call(s,r):i(r)):function(n,t){const e=n[t];return e===se?void 0:e}(n,o+1)}function dy(n){return t=>{setTimeout(n,void 0,t)}}const Re=class extends Q{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var r,s,o;let a=t,l=e||(()=>null),c=i;if(t&&"object"==typeof t){const d=t;a=null===(r=d.next)||void 0===r?void 0:r.bind(d),l=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(l=dy(l),a&&(a=dy(a)),c&&(c=dy(c)));const u=super.subscribe({next:a,error:l,complete:c});return t instanceof Pe&&t.add(u),u}};function v5(){return this._results[xa()]()}class Wa{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=xa(),i=Wa.prototype;i[e]||(i[e]=v5)}get changes(){return this._changes||(this._changes=new Re)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=li(t);(this._changesDetected=!function(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Et=(()=>{class n{}return n.__NG_ELEMENT_ID__=w5,n})();const b5=Et,C5=class extends b5{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=Ec(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(e)),Dc(e,i,t),new Lc(i)}};function w5(){return Oh(At(),D())}function Oh(n,t){return 4&n.type?new C5(t,n,za(n,t)):null}let Rt=(()=>{class n{}return n.__NG_ELEMENT_ID__=E5,n})();function E5(){return mk(At(),D())}const D5=Rt,fk=class extends D5{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return za(this._hostTNode,this._hostLView)}get injector(){return new ma(this._hostTNode,this._hostLView)}get parentInjector(){const t=eh(this._hostTNode,this._hostLView);if(aI(t)){const e=pa(t,this._hostLView),i=fa(t);return new ma(e[1].data[i+8],e)}return new ma(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=pk(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const r=t.createEmbeddedView(e||{});return this.insert(r,i),r}createComponent(t,e,i,r,s){const o=t&&!function(n){return"function"==typeof n}(t);let a;if(o)a=e;else{const d=e||{};a=d.index,i=d.injector,r=d.projectableNodes,s=d.ngModuleRef}const l=o?t:new cy(tn(t)),c=i||this.parentInjector;if(!s&&null==l.ngModule&&c){const d=c.get(Vr,null);d&&(s=d)}const u=l.create(c,r,void 0,s);return this.insert(u.hostView,a),u}insert(t,e){const i=t._lView,r=i[1];if(Si(i[3])){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const d=i[3],h=new fk(d,d[6],d[3]);h.detach(h.indexOf(t))}}const s=this._adjustIndex(e),o=this._lContainer;!function(n,t,e,i){const r=10+i,s=e.length;i>0&&(e[r-1][4]=t),i<s-10?(t[4]=e[r],_I(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const o=t[17];null!==o&&e!==o&&function(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(r,i,o,s);const a=p_(s,o),l=i[11],c=hh(l,o[7]);return null!==c&&function(n,t,e,i,r,s){i[0]=r,i[6]=t,wc(n,i,e,1,r,s)}(r,o[6],l,i,c,a),t.attachToViewContainerRef(),_I(hy(o),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=pk(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=d_(this._lContainer,e);i&&(ih(hy(this._lContainer),e),nM(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=d_(this._lContainer,e);return i&&null!=ih(hy(this._lContainer),e)?new Lc(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function pk(n){return n[8]}function hy(n){return n[8]||(n[8]=[])}function mk(n,t){let e;const i=t[n.index];if(Si(i))e=i;else{let r;if(8&n.type)r=Ct(i);else{const s=t[11];r=s.createComment("");const o=ai(n,t);ao(s,hh(s,o),r,function(n,t){return ft(n)?n.nextSibling(t):t.nextSibling}(s,o),!1)}t[n.index]=e=GM(i,t,r,n),vh(t,e)}return new fk(e,n,t)}class fy{constructor(t){this.queryList=t,this.matches=null}clone(){return new fy(this.queryList)}setDirty(){this.queryList.setDirty()}}class py{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new py(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==bk(t,e).matches&&this.queries[e].setDirty()}}class gk{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class my{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new my(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class gy{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new gy(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,I5(e,s)),this.matchTNodeWithReadOption(t,e,nh(e,t,s,!1,!1))}else i===Et?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,nh(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===J||r===Rt||r===Et&&4&e.type)this.addMatch(e.index,-2);else{const s=nh(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function I5(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function A5(n,t,e,i){return-1===e?function(n,t){return 11&n.type?za(n,t):4&n.type?Oh(n,t):null}(t,n):-2===e?function(n,t,e){return e===J?za(t,n):e===Et?Oh(t,n):e===Rt?mk(t,n):void 0}(n,t,i):lc(n,n[1],e,t)}function _k(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const s=n.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:A5(t,s[c],o[l+1],e.metadata.read))}r.matches=a}return r.matches}function _y(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const o=_k(n,t,r,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=t[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&_y(h[1],h,c,i)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];_y(f[1],f,c,i)}}}}}return i}function ce(n){const t=D(),e=Me(),i=XT();Pg(i+1);const r=bk(e,i);if(n.dirty&&GT(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?_y(e,t,i,[]):_k(e,t,r,i);n.reset(s,GW),n.notifyOnChanges()}return!0}return!1}function Ut(n,t,e){const i=Me();i.firstCreatePass&&(vk(i,new gk(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),yk(i,D(),t)}function st(n,t,e,i){const r=Me();if(r.firstCreatePass){const s=At();vk(r,new gk(t,e,i),s.index),function(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}yk(r,D(),e)}function ue(){return n=D(),t=XT(),n[19].queries[t].queryList;var n,t}function yk(n,t,e){const i=new Wa(4==(4&e));LM(n,t,i,i.destroy),null===t[19]&&(t[19]=new py),t[19].queries.push(new fy(i))}function vk(n,t,e){null===n.queries&&(n.queries=new my),n.queries.track(new gy(t,e))}function bk(n,t){return n.queries.getByIndex(t)}function Fh(...n){}const Lh=new I("Application Initializer");let Ka=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Fh,this.reject=Fh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Ac(s))e.push(s);else if(X_(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(b(Lh,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const Uc=new I("AppId"),X5={provide:Uc,useFactory:function(){return`${Ey()}${Ey()}${Ey()}`},deps:[]};function Ey(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Lk=new I("Platform Initializer"),Is=new I("Platform ID"),Vk=new I("appBootstrapListener");let Bk=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const Br=new I("LocaleId"),Hk=new I("DefaultCurrencyCode");class Z5{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let Vh=(()=>{class n{compileModuleSync(e){return new uy(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=Xi(ri(e).declarations).reduce((o,a)=>{const l=tn(a);return l&&o.push(new cy(l)),o},[]);return new Z5(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const e8=(()=>Promise.resolve(0))();function Dy(n){"undefined"==typeof Zone?e8.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class K{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Re(!1),this.onMicrotaskEmpty=new Re(!1),this.onStable=new Re(!1),this.onError=new Re(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let n=je.requestAnimationFrame,t=je.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(n){const t=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(je,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Ty(n),n.isCheckStableRunning=!0,Sy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Ty(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,o,a)=>{try{return Uk(n),e.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),jk(n)}},onInvoke:(e,i,r,s,o,a,l)=>{try{return Uk(n),e.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),jk(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Ty(n),Sy(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!K.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(K.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,n8,Fh,Fh);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const n8={};function Sy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Ty(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Uk(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function jk(n){n._nesting--,Sy(n)}class o8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Re,this.onMicrotaskEmpty=new Re,this.onStable=new Re,this.onError=new Re}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}let Iy=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{K.assertNotInAngularZone(),Dy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Dy(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(b(K))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),$k=(()=>{class n{constructor(){this._applications=new Map,My.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return My.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();class a8{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let Pi,My=new a8;const zk=new I("AllowMultipleToken");class Gk{constructor(t,e){this.name=t,this.token=e}}function Wk(n,t,e=[]){const i=`Platform: ${t}`,r=new I(i);return(s=[])=>{let o=qk();if(!o||o.injector.get(zk,!1))if(n)n(e.concat(s).concat({provide:r,useValue:!0}));else{const a=e.concat(s).concat({provide:r,useValue:!0},{provide:B_,useValue:"platform"});!function(n){if(Pi&&!Pi.destroyed&&!Pi.injector.get(zk,!1))throw new Bn("400","");Pi=n.get(Kk);const t=n.get(Lk,null);t&&t.forEach(e=>e())}(He.create({providers:a,name:i}))}return function(n){const t=qk();if(!t)throw new Bn("401","");return t}()}}function qk(){return Pi&&!Pi.destroyed?Pi:null}let Kk=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const a=function(n,t){let e;return e="noop"===n?new o8:("zone.js"===n?void 0:n)||new K({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:K,useValue:a}];return a.run(()=>{const c=He.create({providers:l,parent:this.injector,name:e.moduleType.name}),u=e.create(c),d=u.injector.get(Or,null);if(!d)throw new Bn("402","");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});u.onDestroy(()=>{Ay(this._modules,u),h.unsubscribe()})}),function(n,t,e){try{const i=e();return Ac(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(d,a,()=>{const h=u.injector.get(Ka);return h.runInitializers(),h.donePromise.then(()=>(function(n){Un(n,"Expected localeId to be defined"),"string"==typeof n&&(Sx=n.toLowerCase().replace(/_/g,"-"))}(u.injector.get(Br,Ih)||Ih),this._moduleDoBootstrap(u),u))})})}bootstrapModule(e,i=[]){const r=Yk({},i);return function(n,t,e){const i=new uy(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(Ya);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new Bn("403","");e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Bn("404","");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(b(He))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();function Yk(n,t){return Array.isArray(t)?t.reduce(Yk,n):Object.assign(Object.assign({},n),t)}let Ya=(()=>{class n{constructor(e,i,r,s,o){this._zone=e,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Te(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new Te(c=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{K.assertNotInAngularZone(),Dy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{K.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{u.unsubscribe(),d.unsubscribe()}});this.isStable=eo(a,l.pipe(IT()))}bootstrap(e,i){if(!this._initStatus.done)throw new Bn("405","");let r;r=e instanceof Qx?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(r.componentType);const s=function(n){return n.isBoundToModule}(r)?void 0:this._injector.get(Vr),a=r.create(He.NULL,[],i||r.selector,s),l=a.location.nativeElement,c=a.injector.get(Iy,null),u=c&&a.injector.get($k);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),Ay(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Bn("101","");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Ay(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Vk,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(b(K),b(He),b(Or),b(Ts),b(Ka))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();function Ay(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let Xk=!0,Zk=!1,rr=(()=>{class n{}return n.__NG_ELEMENT_ID__=v8,n})();function v8(n){return function(n,t,e){if(Ud(n)&&!e){const i=$n(n.index,t);return new Lc(i,i)}return 47&n.type?new Lc(t[16],t):null}(At(),D(),16==(16&n))}class rR{constructor(){}supports(t){return Tc(t)}create(t){return new T8(t)}}const S8=(n,t)=>t;class T8{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||S8}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<oR(i,r,s)?e:i,a=oR(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Tc(t))throw new Error(`Error trying to diff '${Ie(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),i=!0),e=e._next}else r=0,function(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[xa()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new I8(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new sR),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sR),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class I8{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class M8{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class sR{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new M8,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function oR(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class aR{constructor(){}supports(t){return t instanceof Map||G_(t)}create(){return new A8}}class A8{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||G_(t)))throw new Error(`Error trying to diff '${Ie(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new x8(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class x8{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function lR(){return new sr([new rR])}let sr=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||lR()),deps:[[n,new Es,new nt]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'`)}}return n.\u0275prov=k({token:n,providedIn:"root",factory:lR}),n})();function cR(){return new Qa([new aR])}let Qa=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||cR()),deps:[[n,new Es,new nt]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return n.\u0275prov=k({token:n,providedIn:"root",factory:cR}),n})();const R8=[new aR],P8=new sr([new rR]),N8=new Qa(R8),F8=Wk(null,"core",[{provide:Is,useValue:"unknown"},{provide:Kk,deps:[He]},{provide:$k,deps:[]},{provide:Bk,deps:[]}]),U8=[{provide:Ya,useClass:Ya,deps:[K,He,Or,Ts,Ka]},{provide:XW,deps:[K],useFactory:function(n){let t=[];return n.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Ka,useClass:Ka,deps:[[new nt,Lh]]},{provide:Vh,useClass:Vh,deps:[]},X5,{provide:sr,useFactory:function(){return P8},deps:[]},{provide:Qa,useFactory:function(){return N8},deps:[]},{provide:Br,useFactory:function(n){return n||"undefined"!=typeof $localize&&$localize.locale||Ih},deps:[[new mc(Br),new nt,new Es]]},{provide:Hk,useValue:"USD"}];let $8=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(b(Ya))},n.\u0275mod=z({type:n}),n.\u0275inj=$({providers:U8}),n})(),Hh=null;function or(){return Hh}const Y=new I("DocumentToken");let ho=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=k({token:n,factory:function(){return b(uR)},providedIn:"platform"}),n})();const K8=new I("Location Initialized");let uR=(()=>{class n extends ho{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return or().getBaseHref(this._doc)}onPopState(e){const i=or().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=or().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){dR()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){dR()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(b(Y))},n.\u0275prov=k({token:n,factory:function(){return new uR(b(Y))},providedIn:"platform"}),n})();function dR(){return!!window.history.pushState}function Py(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function hR(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Hr(n){return n&&"?"!==n[0]?"?"+n:n}let Xa=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=k({token:n,factory:function(){return function(n){const t=b(Y).location;return new fR(b(ho),t&&t.origin||"")}()},providedIn:"root"}),n})();const Ny=new I("appBaseHref");let fR=(()=>{class n extends Xa{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Py(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Hr(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const o=this.prepareExternalUrl(r+Hr(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){const o=this.prepareExternalUrl(r+Hr(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(b(ho),b(Ny,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),X8=(()=>{class n extends Xa{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Py(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+Hr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+Hr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(b(ho),b(Ny,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),jc=(()=>{class n{constructor(e,i){this._subject=new Re,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=hR(pR(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Hr(i))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,pR(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Hr(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Hr(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Hr,n.joinWithSlash=Py,n.stripTrailingSlash=hR,n.\u0275fac=function(e){return new(e||n)(b(Xa),b(ho))},n.\u0275prov=k({token:n,factory:function(){return new jc(b(Xa),b(ho))},providedIn:"root"}),n})();function pR(n){return n.replace(/\/index.html$/,"")}var Dt=(()=>((Dt=Dt||{})[Dt.Zero=0]="Zero",Dt[Dt.One=1]="One",Dt[Dt.Two=2]="Two",Dt[Dt.Few=3]="Few",Dt[Dt.Many=4]="Many",Dt[Dt.Other=5]="Other",Dt))();const a4=function(n){return function(n){const t=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=Dx(t);if(e)return e;const i=t.split("-")[0];if(e=Dx(i),e)return e;if("en"===i)return UG;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[F.PluralCase]};class Qh{}let F4=(()=>{class n extends Qh{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(a4(i||this.locale)(e)){case Dt.Zero:return"zero";case Dt.One:return"one";case Dt.Two:return"two";case Dt.Few:return"few";case Dt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(b(Br))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();function ER(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let Gc=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Tc(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ie(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(m(sr),m(Qa),m(J),m(Fr))},n.\u0275dir=S({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class V4{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let DR=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new V4(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),SR(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{SR(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(m(Rt),m(Et),m(sr))},n.\u0275dir=S({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function SR(n,t){n.context.$implicit=t.item}let ar=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new B4,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){TR("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){TR("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(m(Rt),m(Et))},n.\u0275dir=S({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class B4{constructor(){this.$implicit=null,this.ngIf=null}}function TR(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ie(t)}'.`)}class zy{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Wc=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=S({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Gy=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new zy(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(m(Rt),m(Et),m(Wc,9))},n.\u0275dir=S({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),MR=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split(".");null!=(i=null!=i&&s?`${i}${s}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(m(J),m(Qa),m(Fr))},n.\u0275dir=S({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();class $4{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class z4{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const G4=new z4,W4=new $4;let AR=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(Ac(e))return G4;if(FA(e))return W4;throw function(n,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${Ie(n)}'`)}(n,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(m(rr,16))},n.\u0275pipe=Tn({name:"async",type:n,pure:!1}),n})(),lr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({providers:[{provide:Qh,useClass:F4}]}),n})();const kR="browser";let m6=(()=>{class n{}return n.\u0275prov=k({token:n,providedIn:"root",factory:()=>new g6(b(Y),window)}),n})();class g6{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=RR(this.window.history)||RR(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function RR(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class OR{}class Ky extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Ky,Hh||(Hh=n)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(qc=qc||document.querySelector("base"),qc?qc.getAttribute("href"):null);return null==e?null:function(n){Xh=Xh||document.createElement("a"),Xh.setAttribute("href",n);const t=Xh.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){qc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ER(document.cookie,t)}}let Xh,qc=null;const PR=new I("TRANSITION_ID"),w6=[{provide:Lh,useFactory:function(n,t,e){return()=>{e.get(Ka).donePromise.then(()=>{const i=or(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[PR,Y,He],multi:!0}];class Yy{static init(){var n;n=new Yy,My=n}addToWindow(t){je.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},je.getAllAngularTestabilities=()=>t.getAllTestabilities(),je.getAllAngularRootElements=()=>t.getAllRootElements(),je.frameworkStabilizers||(je.frameworkStabilizers=[]),je.frameworkStabilizers.push(i=>{const r=je.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?or().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let E6=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const Zh=new I("EventManagerPlugins");let Jh=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(b(Zh),b(K))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();class NR{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=or().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let FR=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),Kc=(()=>{class n extends FR{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,r.push(i.appendChild(o))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(LR),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(LR))}}return n.\u0275fac=function(e){return new(e||n)(b(Y))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();function LR(n){or().remove(n)}const Qy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Xy=/%COMP%/g;function ef(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?ef(n,r,e):(r=r.replace(Xy,n),e.push(r))}return e}function HR(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let tf=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Zy(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Ei.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new A6(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case Ei.ShadowDom:return new x6(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=ef(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(b(Jh),b(Kc),b(Uc))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();class Zy{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Qy[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=Qy[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Qy[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(qn.DashCase|qn.Important)?t.style.setProperty(e,i,r&qn.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&qn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,HR(i)):this.eventManager.addEventListener(t,e,HR(i))}}class A6 extends Zy{constructor(t,e,i,r){super(t),this.component=i;const s=ef(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(Xy,r+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Xy,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class x6 extends Zy{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ef(r.id,r.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let k6=(()=>{class n extends NR{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(b(Y))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const jR=["alt","control","meta","shift"],O6={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$R={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},P6={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let N6=(()=>{class n extends NR{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>or().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="";if(jR.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),o+=l+".")}),o+=s,0!=i.length||0===s.length)return null;const a={};return a.domEventName=r,a.fullKey=o,a}static getEventFullKey(e){let i="",r=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&$R.hasOwnProperty(t)&&(t=$R[t]))}return O6[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),jR.forEach(s=>{s!=r&&P6[s](e)&&(i+=s+".")}),i+=r,i}static eventCallback(e,i,r){return s=>{n.getEventFullKey(s)===e&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(b(Y))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const H6=Wk(F8,"browser",[{provide:Is,useValue:kR},{provide:Lk,useValue:function(){Ky.makeCurrent(),Yy.init()},multi:!0},{provide:Y,useFactory:function(){return n=document,Sg=n,document;var n},deps:[]}]),U6=[{provide:B_,useValue:"root"},{provide:Or,useFactory:function(){return new Or},deps:[]},{provide:Zh,useClass:k6,multi:!0,deps:[Y,K,Is]},{provide:Zh,useClass:N6,multi:!0,deps:[Y]},{provide:tf,useClass:tf,deps:[Jh,Kc,Uc]},{provide:Fc,useExisting:tf},{provide:FR,useExisting:Kc},{provide:Kc,useClass:Kc,deps:[Y]},{provide:Iy,useClass:Iy,deps:[K]},{provide:Jh,useClass:Jh,deps:[Zh,K]},{provide:OR,useClass:E6,deps:[]}];let zR=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:Uc,useValue:e.appId},{provide:PR,useExisting:Uc},w6]}}}return n.\u0275fac=function(e){return new(e||n)(b(n,12))},n.\u0275mod=z({type:n}),n.\u0275inj=$({providers:U6,imports:[lr,$8]}),n})(),GR=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(b(Y))},n.\u0275prov=k({token:n,factory:function(e){let i=null;return i=e?new e:new GR(b(Y)),i},providedIn:"root"}),n})();"undefined"!=typeof window&&window;let ev=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=k({token:n,factory:function(e){let i=null;return i=e?new(e||n):b(KR),i},providedIn:"root"}),n})(),KR=(()=>{class n extends ev{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Fe.NONE:return i;case Fe.HTML:return Yi(i,"HTML")?Wn(i):HI(this._doc,String(i)).toString();case Fe.STYLE:return Yi(i,"Style")?Wn(i):i;case Fe.SCRIPT:if(Yi(i,"Script"))return Wn(i);throw new Error("unsafe value used in a script context");case Fe.URL:return RI(i),Yi(i,"URL")?Wn(i):_c(String(i));case Fe.RESOURCE_URL:if(Yi(i,"ResourceURL"))return Wn(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function(n){return new Yj(n)}(e)}bypassSecurityTrustStyle(e){return function(n){return new Qj(n)}(e)}bypassSecurityTrustScript(e){return function(n){return new Xj(n)}(e)}bypassSecurityTrustUrl(e){return function(n){return new Zj(n)}(e)}bypassSecurityTrustResourceUrl(e){return function(n){return new Jj(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(b(Y))},n.\u0275prov=k({token:n,factory:function(e){let i=null;return i=e?new e:function(n){return new KR(n.get(Y))}(b(He)),i},providedIn:"root"}),n})();function j(...n){return at(n,Jl(n))}class Yn extends Q{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:Z6}=Array,{getPrototypeOf:J6,prototype:eq,keys:tq}=Object;function YR(n){if(1===n.length){const t=n[0];if(Z6(t))return{args:t,keys:null};if(function(n){return n&&"object"==typeof n&&J6(n)===eq}(t)){const e=tq(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:iq}=Array;function tv(n){return ee(t=>function(n,t){return iq(t)?n(...t):n(t)}(n,t))}function QR(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function XR(...n){const t=Jl(n),e=ST(n),{args:i,keys:r}=YR(n);if(0===i.length)return at([],t);const s=new Te(function(n,t,e=ms){return i=>{ZR(t,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)ZR(t,()=>{const c=at(n[l],t);let u=!1;c.subscribe(new it(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(e(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,t,r?o=>QR(r,o):ms));return e?s.pipe(tv(e)):s}function ZR(n,t,e){n?Mr(e,n,t):t()}const nf=ea(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Yc(...n){return Zl(1)(at(n,Jl(n)))}function nv(n){return new Te(t=>{Vn(n()).subscribe(t)})}function JR(){return ht((n,t)=>{let e=null;n._refCount++;const i=new it(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class aq extends Te{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,dT(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Pe;const e=this.getSubject();t.add(this.source.subscribe(new it(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Pe.EMPTY)}return t}refCount(){return JR()(this)}}function Li(n,t){return ht((e,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();e.subscribe(new it(i,l=>{null==r||r.unsubscribe();let c=0;const u=s++;Vn(n(l,u)).subscribe(r=new it(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function jr(...n){const t=Jl(n);return ht((e,i)=>{(t?Yc(n,e,t):Yc(n,e)).subscribe(i)})}function lq(n,t,e,i,r){return(s,o)=>{let a=e,l=t,c=0;s.subscribe(new it(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function iv(n,t){return ht(lq(n,t,arguments.length>=2,!0))}function Pt(n,t){return ht((e,i)=>{let r=0;e.subscribe(new it(i,s=>n.call(t,s,r++)&&i.next(s)))})}function $r(n){return ht((t,e)=>{let s,i=null,r=!1;i=t.subscribe(new it(e,void 0,void 0,o=>{s=Vn(n(o,$r(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function Za(n,t){return me(t)?bt(n,t,1):bt(n,1)}function rv(n){return n<=0?()=>Gi:ht((t,e)=>{let i=[];t.subscribe(new it(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function eO(n=cq){return ht((t,e)=>{let i=!1;t.subscribe(new it(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function cq(){return new nf}function tO(n){return ht((t,e)=>{let i=!1;t.subscribe(new it(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Ja(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Pt((r,s)=>n(r,s,i)):ms,qe(1),e?tO(t):eO(()=>new nf))}function jt(n,t,e){const i=me(n)||t||e?{next:n,error:t,complete:e}:n;return i?ht((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(new it(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):ms}function rf(n){return ht((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class zr{constructor(t,e){this.id=t,this.url=e}}class sv extends zr{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qc extends zr{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nO extends zr{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dq extends zr{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class hq extends zr{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fq extends zr{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pq extends zr{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class mq extends zr{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gq extends zr{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iO{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rO{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _q{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yq{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vq{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bq{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sO{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ve="primary";class Cq{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function el(n){return new Cq(n)}const oO="ngNavigationCancelingError";function ov(n){const t=Error("NavigationCancelingError: "+n);return t[oO]=!0,t}function Eq(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function cr(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!aO(n[r],t[r]))return!1;return!0}function aO(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function lO(n){return Array.prototype.concat.apply([],n)}function cO(n){return n.length>0?n[n.length-1]:null}function Qt(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function ur(n){return X_(n)?n:Ac(n)?at(Promise.resolve(n)):j(n)}const Tq={exact:function hO(n,t,e){if(!po(n.segments,t.segments)||!sf(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!hO(n.children[i],t.children[i],e))return!1;return!0},subset:fO},uO={exact:function(n,t){return cr(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>aO(n[e],t[e]))},ignored:()=>!0};function dO(n,t,e){return Tq[e.paths](n.root,t.root,e.matrixParams)&&uO[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function fO(n,t,e){return pO(n,t,t.segments,e)}function pO(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!po(r,e)||t.hasChildren()||!sf(r,e,i))}if(n.segments.length===e.length){if(!po(n.segments,e)||!sf(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!fO(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(po(n.segments,r)&&sf(n.segments,r,i)&&n.children[ve])&&pO(n.children[ve],t,s,i)}}function sf(n,t,e){return t.every((i,r)=>uO[e](n[r].parameters,i.parameters))}class fo{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=el(this.queryParams)),this._queryParamMap}toString(){return kq.serialize(this)}}class De{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Qt(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return af(this)}}class Xc{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=el(this.parameters)),this._parameterMap}toString(){return vO(this)}}function po(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class mO{}class gO{parse(t){const e=new Hq(t);return new fo(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Zc(t.root,!0)}`,i=function(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${lf(e)}=${lf(r)}`).join("&"):`${lf(e)}=${lf(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);var n;return`${e}${i}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const kq=new gO;function af(n){return n.segments.map(t=>vO(t)).join("/")}function Zc(n,t){if(!n.hasChildren())return af(n);if(t){const e=n.children[ve]?Zc(n.children[ve],!1):"",i=[];return Qt(n.children,(r,s)=>{s!==ve&&i.push(`${s}:${Zc(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function(n,t){let e=[];return Qt(n.children,(i,r)=>{r===ve&&(e=e.concat(t(i,r)))}),Qt(n.children,(i,r)=>{r!==ve&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===ve?[Zc(n.children[ve],!1)]:[`${r}:${Zc(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ve]?`${af(n)}/${e[0]}`:`${af(n)}/(${e.join("//")})`}}function _O(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lf(n){return _O(n).replace(/%3B/gi,";")}function av(n){return _O(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cf(n){return decodeURIComponent(n)}function yO(n){return cf(n.replace(/\+/g,"%20"))}function vO(n){return`${av(n.path)}${function(n){return Object.keys(n).map(t=>`;${av(t)}=${av(n[t])}`).join("")}(n.parameters)}`}const Nq=/^[^\/()?;=#]+/;function uf(n){const t=n.match(Nq);return t?t[0]:""}const Fq=/^[^=?&#]+/,Vq=/^[^&#]+/;class Hq{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[ve]=new De(t,e)),i}parseSegment(){const t=uf(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Xc(cf(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=uf(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=uf(this.remaining);r&&(i=r,this.capture(i))}t[cf(e)]=cf(i)}parseQueryParam(t){const e=function(n){const t=n.match(Fq);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function(n){const t=n.match(Vq);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=yO(e),s=yO(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=uf(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=ve);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[ve]:new De([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class bO{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=lv(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=lv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=cv(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return cv(t,this._root).map(e=>e.value)}}function lv(n,t){if(n===t.value)return t;for(const e of t.children){const i=lv(n,e);if(i)return i}return null}function cv(n,t){if(n===t.value)return[t];for(const e of t.children){const i=cv(n,e);if(i.length)return i.unshift(t),i}return[]}class Gr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function tl(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class CO extends bO{constructor(t,e){super(t),this.snapshot=e,uv(this,t)}toString(){return this.snapshot.toString()}}function wO(n,t){const e=function(n,t){const o=new df([],{},{},"",{},ve,t,null,n.root,-1,{});return new DO("",new Gr(o,[]))}(n,t),i=new Yn([new Xc("",{})]),r=new Yn({}),s=new Yn({}),o=new Yn({}),a=new Yn(""),l=new mo(i,r,o,a,s,ve,t,e.root);return l.snapshot=e.root,new CO(new Gr(l,[]),e)}class mo{constructor(t,e,i,r,s,o,a,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ee(t=>el(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ee(t=>el(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function EO(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class df{constructor(t,e,i,r,s,o,a,l,c,u,d){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=el(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=el(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class DO extends bO{constructor(t,e){super(e),this.url=t,uv(this,e)}toString(){return SO(this._root)}}function uv(n,t){t.value._routerState=n,t.children.forEach(e=>uv(n,e))}function SO(n){const t=n.children.length>0?` { ${n.children.map(SO).join(", ")} } `:"";return`${n.value}${t}`}function dv(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,cr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),cr(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!cr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),cr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function hv(n,t){const e=cr(n.params,t.params)&&function(n,t){return po(n,t)&&n.every((e,i)=>cr(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||hv(n.parent,t.parent))}function Jc(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Jc(n,i,r);return Jc(n,i)})}(n,t,e);return new Gr(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Jc(n,a)),o}}const i=function(n){return new mo(new Yn(n.url),new Yn(n.params),new Yn(n.queryParams),new Yn(n.fragment),new Yn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Jc(n,s));return new Gr(i,r)}}function hf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function eu(n){return"object"==typeof n&&null!=n&&n.outlets}function fv(n,t,e,i,r){let s={};return i&&Qt(i,(o,a)=>{s[a]=Array.isArray(o)?o.map(l=>`${l}`):`${o}`}),new fo(e.root===n?t:TO(e.root,n,t),s,r)}function TO(n,t,e){const i={};return Qt(n.children,(r,s)=>{i[s]=r===t?e:TO(r,t,e)}),new De(n.segments,i)}class IO{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&hf(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(eu);if(r&&r!==cO(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pv{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function MO(n,t,e){if(n||(n=new De([],{})),0===n.segments.length&&n.hasChildren())return ff(n,t,e);const i=function(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const o=n.segments[r],a=e[i];if(eu(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!xO(l,c,o))return s;i+=2}else{if(!xO(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new De(n.segments.slice(0,i.pathIndex),{});return s.children[ve]=new De(n.segments.slice(i.pathIndex),n.children),ff(s,0,r)}return i.match&&0===r.length?new De(n.segments,{}):i.match&&!n.hasChildren()?mv(n,t,e):i.match?ff(n,0,r):mv(n,t,e)}function ff(n,t,e){if(0===e.length)return new De(n.segments,{});{const i=function(n){return eu(n[0])?n[0].outlets:{[ve]:n}}(e),r={};return Qt(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=MO(n.children[o],t,s))}),Qt(n.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new De(n.segments,r)}}function mv(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(eu(s)){const l=Zq(s.outlets);return new De(i,l)}if(0===r&&hf(e[0])){i.push(new Xc(n.segments[t].path,AO(e[0]))),r++;continue}const o=eu(s)?s.outlets[ve]:`${s}`,a=r<e.length-1?e[r+1]:null;o&&a&&hf(a)?(i.push(new Xc(o,AO(a))),r+=2):(i.push(new Xc(o,{})),r++)}return new De(i,{})}function Zq(n){const t={};return Qt(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=mv(new De([],{}),0,e))}),t}function AO(n){const t={};return Qt(n,(e,i)=>t[i]=`${e}`),t}function xO(n,t,e){return n==e.path&&cr(t,e.parameters)}class e7{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),dv(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=tl(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Qt(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=tl(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=tl(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=tl(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new bq(s.value.snapshot))}),t.children.length&&this.forwardEvent(new yq(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(dv(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),dv(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=l,o.outlet&&o.outlet.activateWith(r,l),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class gv{constructor(t,e){this.routes=t,this.module=e}}function As(n){return"function"==typeof n}function go(n){return n instanceof fo}const tu=Symbol("INITIAL_VALUE");function nu(){return Li(n=>XR(n.map(t=>t.pipe(qe(1),jr(tu)))).pipe(iv((t,e)=>{let i=!1;return e.reduce((r,s,o)=>r!==tu?r:(s===tu&&(i=!0),i||!1!==s&&o!==e.length-1&&!go(s)?r:s),t)},tu),Pt(t=>t!==tu),ee(t=>go(t)?t:!0===t),qe(1)))}class l7{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new iu,this.attachRef=null}}class iu{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new l7,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let _v=(()=>{class n{constructor(e,i,r,s,o){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Re,this.deactivateEvents=new Re,this.attachEvents=new Re,this.detachEvents=new Re,this.name=s||ve,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const o=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new c7(e,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(m(iu),m(Rt),m(Ts),ws("name"),m(rr))},n.\u0275dir=S({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class c7{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===mo?this.route:t===iu?this.childContexts:this.parent.get(t,e)}}let kO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ce({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&ye(0,"router-outlet")},directives:[_v],encapsulation:2}),n})();function RO(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];u7(i,d7(t,i))}}function u7(n,t){n.children&&RO(n.children,t)}function d7(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function yv(n){const t=n.children&&n.children.map(yv),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ve&&(e.component=kO),e}function hi(n){return n.outlet||ve}function OO(n,t){const e=n.filter(i=>hi(i)===t);return e.push(...n.filter(i=>hi(i)!==t)),e}const PO={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function pf(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},PO):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(t.matcher||Eq)(e,n,t);if(!s)return Object.assign({},PO);const o={};Qt(s.posParams,(l,c)=>{o[c]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function mf(n,t,e,i,r="corrected"){if(e.length>0&&function(n,t,e){return e.some(i=>gf(n,t,i)&&hi(i)!==ve)}(n,e,i)){const o=new De(t,function(n,t,e,i){const r={};r[ve]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&hi(s)!==ve){const o=new De([],{});o._sourceSegment=n,o._segmentIndexShift=t.length,r[hi(s)]=o}return r}(n,t,i,new De(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(i=>gf(n,t,i))}(n,e,i)){const o=new De(n.segments,function(n,t,e,i,r,s){const o={};for(const a of i)if(gf(n,e,a)&&!r[hi(a)]){const l=new De([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===s?n.segments.length:t.length,o[hi(a)]=l}return Object.assign(Object.assign({},r),o)}(n,t,e,i,n.children,r));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const s=new De(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function gf(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function NO(n,t,e,i){return!!(hi(n)===i||i!==ve&&gf(t,e,n))&&("**"===n.path||pf(t,n,e).matched)}function FO(n,t,e){return 0===t.length&&!n.children[e]}class ru{constructor(t){this.segmentGroup=t||null}}class LO{constructor(t){this.urlTree=t}}function _f(n){return new Te(t=>t.error(new ru(n)))}function VO(n){return new Te(t=>t.error(new LO(n)))}function g7(n){return new Te(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class v7{constructor(t,e,i,r,s){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(Vr)}apply(){const t=mf(this.urlTree.root,[],[],this.config).segmentGroup,e=new De(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ve).pipe(ee(s=>this.createUrlTree(vv(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe($r(s=>{if(s instanceof LO)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof ru?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,ve).pipe(ee(r=>this.createUrlTree(vv(r),t.queryParams,t.fragment))).pipe($r(r=>{throw r instanceof ru?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new De([],{[ve]:t}):t;return new fo(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(ee(s=>new De([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return at(r).pipe(Za(s=>{const o=i.children[s],a=OO(e,s);return this.expandSegmentGroup(t,a,o,s).pipe(ee(l=>({segment:l,outlet:s})))}),iv((s,o)=>(s[o.outlet]=o.segment,s),{}),function(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Pt((r,s)=>n(r,s,i)):ms,rv(1),e?tO(t):eO(()=>new nf))}())}expandSegment(t,e,i,r,s,o){return at(i).pipe(Za(a=>this.expandSegmentAgainstRoute(t,e,i,a,r,s,o).pipe($r(c=>{if(c instanceof ru)return j(null);throw c}))),Ja(a=>!!a),$r((a,l)=>{if(a instanceof nf||"EmptyError"===a.name){if(FO(e,r,s))return j(new De([],{}));throw new ru(e)}throw a}))}expandSegmentAgainstRoute(t,e,i,r,s,o,a){return NO(r,e,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o):_f(e):_f(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?VO(s):this.lineralizeSegments(i,s).pipe(bt(o=>{const a=new De(o,{});return this.expandSegment(t,a,e,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){const{matched:a,consumedSegments:l,lastChild:c,positionalParamSegments:u}=pf(e,r,s);if(!a)return _f(e);const d=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?VO(d):this.lineralizeSegments(r,d).pipe(bt(h=>this.expandSegment(t,e,i,h.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?j(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe(ee(h=>(i._loadedConfig=h,new De(r,{})))):j(new De(r,{}));const{matched:o,consumedSegments:a,lastChild:l}=pf(e,i,r);if(!o)return _f(e);const c=r.slice(l);return this.getChildConfig(t,i,r).pipe(bt(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:g}=mf(e,a,c,f),_=new De(p.segments,p.children);if(0===g.length&&_.hasChildren())return this.expandChildren(h,f,_).pipe(ee(P=>new De(a,P)));if(0===f.length&&0===g.length)return j(new De(a,{}));const E=hi(i)===s;return this.expandSegment(h,_,f,g,E?ve:s,!0).pipe(ee(T=>new De(a.concat(T.segments),T.children)))}))}getChildConfig(t,e,i){return e.children?j(new gv(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?j(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe(bt(r=>{return r?this.configLoader.load(t.injector,e).pipe(ee(s=>(e._loadedConfig=s,s))):(n=e,new Te(t=>t.error(ov(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):j(new gv([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?j(r.map(o=>{const a=t.get(o);let l;if((n=a)&&As(n.canLoad))l=a.canLoad(e,i);else{if(!As(a))throw new Error("Invalid CanLoad guard");l=a(e,i)}var n;return ur(l)})).pipe(nu(),jt(o=>{if(!go(o))return;const a=ov(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),ee(o=>!0===o)):j(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return j(i);if(r.numberOfChildren>1||!r.children[ve])return g7(t.redirectTo);r=r.children[ve]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new fo(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Qt(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[s]=e[a]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let o={};return Qt(e.children,(a,l)=>{o[l]=this.createSegmentGroup(t,a,i,r)}),new De(s,o)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function vv(n){const t={};for(const i of Object.keys(n.children)){const s=vv(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function(n){if(1===n.numberOfChildren&&n.children[ve]){const t=n.children[ve];return new De(n.segments.concat(t.segments),t.children)}return n}(new De(n.segments,t))}class BO{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class yf{constructor(t,e){this.component=t,this.route=e}}function w7(n,t,e){const i=n._root;return su(i,t?t._root:null,e,[i.value])}function vf(n,t,e){const i=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function su(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=tl(t);return n.children.forEach(o=>{(function(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!po(n.url,t.url);case"pathParamsOrQueryParamsChange":return!po(n.url,t.url)||!cr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hv(n,t)||!cr(n.queryParams,t.queryParams);default:return!hv(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new BO(i)):(s.data=o.data,s._resolvedData=o._resolvedData),su(n,t,s.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new yf(a.outlet.component,o))}else o&&ou(t,a,r),r.canActivateChecks.push(new BO(i)),su(n,null,s.component?a?a.children:null:e,i,r)})(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),Qt(s,(o,a)=>ou(o,e.getContext(a),r)),r}function ou(n,t,e){const i=tl(n),r=n.value;Qt(i,(s,o)=>{ou(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new yf(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class N7{}function HO(n){return new Te(t=>t.error(n))}class L7{constructor(t,e,i,r,s,o){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const t=mf(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ve);if(null===e)return null;const i=new df([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ve,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Gr(i,e),s=new DO(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const e=t.value,i=EO(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const s of Object.keys(e.children)){const o=e.children[s],a=OO(t,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;i.push(...l)}const r=UO(i);return r.sort((t,e)=>t.value.outlet===ve?-1:e.value.outlet===ve?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,i,r){for(const s of t){const o=this.processSegmentAgainstRoute(s,e,i,r);if(null!==o)return o}return FO(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!NO(t,e,i,r))return null;let s,o=[],a=[];if("**"===t.path){const f=i.length>0?cO(i).parameters:{};s=new df(i,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,zO(t),hi(t),t.component,t,jO(e),$O(e)+i.length,GO(t))}else{const f=pf(e,t,i);if(!f.matched)return null;o=f.consumedSegments,a=i.slice(f.lastChild),s=new df(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,zO(t),hi(t),t.component,t,jO(e),$O(e)+o.length,GO(t))}const l=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:c,slicedSegments:u}=mf(e,o,a,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);var n;if(0===u.length&&c.hasChildren()){const f=this.processChildren(l,c);return null===f?null:[new Gr(s,f)]}if(0===l.length&&0===u.length)return[new Gr(s,[])];const d=hi(t)===r,h=this.processSegment(l,c,u,d?ve:r);return null===h?null:[new Gr(s,h)]}}function H7(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function UO(n){const t=[],e=new Set;for(const i of n){if(!H7(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=UO(i.children);t.push(new Gr(i.value,r))}return t.filter(i=>!e.has(i))}function jO(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function $O(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function zO(n){return n.data||{}}function GO(n){return n.resolve||{}}function bv(n){return Li(t=>{const e=n(t);return e?at(e).pipe(ee(()=>t)):j(t)})}class K7 extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Cv=new I("ROUTES");class WO{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe(ee(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const o=s.create(t);return new gv(lO(o.injector.get(Cv,void 0,re.Self|re.Optional)).map(yv),o)}),$r(s=>{throw e._loader$=void 0,s}));return e._loader$=new aq(r,()=>new Q).pipe(JR()),e._loader$}loadModuleFactory(t){return ur(t()).pipe(bt(e=>e instanceof tk?j(e):at(this.compiler.compileModuleAsync(e))))}}class Q7{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function X7(n){throw n}function Z7(n,t,e){return t.parse("/")}function qO(n,t){return j(null)}const J7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let on=(()=>{class n{constructor(e,i,r,s,o,a,l){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Q,this.errorHandler=X7,this.malformedUriErrorHandler=Z7,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:qO,afterPreactivation:qO},this.urlHandlingStrategy=new Q7,this.routeReuseStrategy=new K7,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Vr),this.console=o.get(Bk);const d=o.get(K);this.isNgZoneEnabled=d instanceof K&&K.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new fo(new De([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new WO(o,a,h=>this.triggerEvent(new iO(h)),h=>this.triggerEvent(new rO(h))),this.routerState=wO(this.currentUrlTree,this.rootComponentType),this.transitions=new Yn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Pt(r=>0!==r.id),ee(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Li(r=>{let s=!1,o=!1;return j(r).pipe(jt(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Li(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return bf(a.source)&&(this.browserUrlTree=a.extractedUrl),j(a).pipe(Li(d=>{const h=this.transitions.getValue();return i.next(new sv(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Gi:Promise.resolve(d)}),function(n,t,e,i){return Li(r=>function(n,t,e,i,r){return new v7(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(ee(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),jt(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(n,t,e,i,r){return bt(s=>function(n,t,e,i,r="emptyOnly",s="legacy"){try{const o=new L7(n,t,e,i,r,s).recognize();return null===o?HO(new N7):j(o)}catch(o){return HO(o)}}(n,t,s.urlAfterRedirects,e(s.urlAfterRedirects),i,r).pipe(ee(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),jt(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new hq(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);i.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:_}=a,E=new sv(h,this.serializeUrl(f),p,g);i.next(E);const v=wO(f,this.rootComponentType).snapshot;return j(Object.assign(Object.assign({},a),{targetSnapshot:v,urlAfterRedirects:f,extras:Object.assign(Object.assign({},_),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Gi}),bv(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),jt(a=>{const l=new fq(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),ee(a=>Object.assign(Object.assign({},a),{guards:w7(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(n,t){return bt(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?j(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,i){return at(n).pipe(bt(r=>function(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?j(s.map(a=>{const l=vf(a,t,r);let c;if(function(n){return n&&As(n.canDeactivate)}(l))c=ur(l.canDeactivate(n,t,e,i));else{if(!As(l))throw new Error("Invalid CanDeactivate guard");c=ur(l(n,t,e,i))}return c.pipe(Ja())})).pipe(nu()):j(!0)}(r.component,r.route,e,t,i)),Ja(r=>!0!==r,!0))}(o,i,r,n).pipe(bt(a=>a&&function(n){return"boolean"==typeof n}(a)?function(n,t,e,i){return at(t).pipe(Za(r=>Yc(function(n,t){return null!==n&&t&&t(new _q(n)),j(!0)}(r.route.parent,i),function(n,t){return null!==n&&t&&t(new vq(n)),j(!0)}(r.route,i),function(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>nv(()=>j(o.guards.map(l=>{const c=vf(l,o.node,e);let u;if(function(n){return n&&As(n.canActivateChild)}(c))u=ur(c.canActivateChild(i,n));else{if(!As(c))throw new Error("Invalid CanActivateChild guard");u=ur(c(i,n))}return u.pipe(Ja())})).pipe(nu())));return j(s).pipe(nu())}(n,r.path,e),function(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return j(!0);const r=i.map(s=>nv(()=>{const o=vf(s,t,e);let a;if(function(n){return n&&As(n.canActivate)}(o))a=ur(o.canActivate(t,n));else{if(!As(o))throw new Error("Invalid CanActivate guard");a=ur(o(t,n))}return a.pipe(Ja())}));return j(r).pipe(nu())}(n,r.route,e))),Ja(r=>!0!==r,!0))}(i,s,n,t):j(a)),ee(a=>Object.assign(Object.assign({},e),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),jt(a=>{if(go(a.guardsResult)){const c=ov(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new pq(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Pt(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),bv(a=>{if(a.guards.canActivateChecks.length)return j(a).pipe(jt(l=>{const c=new mq(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),Li(l=>{let c=!1;return j(l).pipe(function(n,t){return bt(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return j(e);let s=0;return at(r).pipe(Za(o=>function(n,t,e,i){return function(n,t,e,i){const r=Object.keys(n);if(0===r.length)return j({});const s={};return at(r).pipe(bt(o=>function(n,t,e,i){const r=vf(n,t,i);return ur(r.resolve?r.resolve(t,e):r(t,e))}(n[o],t,e,i).pipe(jt(a=>{s[o]=a}))),rv(1),bt(()=>Object.keys(s).length===r.length?j(s):Gi))}(n._resolve,n,t,i).pipe(ee(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),EO(n,e).resolve),null)))}(o.route,i,n,t)),jt(()=>s++),rv(1),bt(o=>s===r.length?j(e):Gi))})}(this.paramsInheritanceStrategy,this.ngModule.injector),jt({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),jt(l=>{const c=new gq(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),bv(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),ee(a=>{const l=function(n,t,e){const i=Jc(n,t._root,e?e._root:void 0);return new CO(i,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),jt(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>ee(i=>(new e7(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),jt({next(){s=!0},complete(){s=!0}}),rf(()=>{var a;s||o||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===r.id&&(this.currentNavigation=null)}),$r(a=>{if(o=!0,function(n){return n&&n[oO]}(a)){const l=go(a.url);l||(this.navigated=!0,this.restoreHistory(r,!0));const c=new nO(r.id,this.serializeUrl(r.extractedUrl),a.message);i.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||bf(r.source)};this.scheduleNavigation(u,"imperative",null,d,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new dq(r.id,this.serializeUrl(r.extractedUrl),a);i.next(l);try{r.resolve(this.errorHandler(a))}catch(c){r.reject(c)}}return Gi}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},o=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(o){const l=Object.assign({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){RO(e),this.config=e.map(yv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=r||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function(n,t,e,i,r){if(0===e.length)return fv(t.root,t.root,t,i,r);const s=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new IO(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Qt(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new IO(e,t,i)}(e);if(s.toRoot())return fv(t.root,new De([],{}),t,i,r);const o=function(n,t,e){if(n.isAbsolute)return new pv(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new pv(s,s===t.root,0)}const i=hf(n.commands[0])?0:1;return function(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new pv(i,!1,r-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,t,n),a=o.processChildren?ff(o.segmentGroup,o.index,s.commands):MO(o.segmentGroup,o.index,s.commands);return fv(o.segmentGroup,a,t,i,r)}(c,this.currentUrlTree,e,d,null!=u?u:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=go(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},J7):!1===i?Object.assign({},eK):i,go(e))return dO(this.currentUrlTree,e,r);const s=this.parseUrl(e);return dO(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Qc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,o){var a,l,c;if(this.disposed)return Promise.resolve(!1);const u=this.transitions.value,d=bf(i)&&u&&!bf(u.source),h=u.rawUrl.toString()===e.toString(),f=u.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(d&&h&&f)return Promise.resolve(!0);let g,_,E;o?(g=o.resolve,_=o.reject,E=o.promise):E=new Promise((P,te)=>{g=P,_=te});const v=++this.navigationId;let T;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),T=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(l=this.browserPageId)&&void 0!==l?l:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):T=0,this.setTransition({id:v,targetPageId:T,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:g,reject:_,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(P=>Promise.reject(P))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new nO(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){Mc()},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();function bf(n){return"imperative"!==n}let Cf=(()=>{class n{constructor(e,i,r,s,o){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new Q,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:nl(this.skipLocationChange),replaceUrl:nl(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:nl(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(m(on),m(mo),ws("tabindex"),m(Fr),m(J))},n.\u0275dir=S({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&he("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Ht]}),n})(),au=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new Q,this.subscription=e.events.subscribe(s=>{s instanceof Qc&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,s,o){if(0!==e||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:nl(this.skipLocationChange),replaceUrl:nl(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:nl(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(m(on),m(mo),m(Xa))},n.\u0275dir=S({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&he("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&Ue("target",i.target)("href",i.href,dh)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Ht]}),n})();function nl(n){return""===n||!!n}class KO{}class YO{preload(t,e){return j(null)}}let QO=(()=>{class n{constructor(e,i,r,s){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=new WO(r,i,l=>e.triggerEvent(new iO(l)),l=>e.triggerEvent(new rO(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(Pt(e=>e instanceof Qc),Za(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Vr);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;r.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(e,s)):s.children&&r.push(this.processRoutes(e,s.children));return at(r).pipe(Zl(),ee(s=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?j(i._loadedConfig):this.loader.load(e.injector,i)).pipe(bt(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(b(on),b(Vh),b(He),b(KO))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),wv=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof sv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Qc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof sO&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new sO(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){Mc()},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const _o=new I("ROUTER_CONFIGURATION"),XO=new I("ROUTER_FORROOT_GUARD"),sK=[jc,{provide:mO,useClass:gO},{provide:on,useFactory:function(n,t,e,i,r,s,o={},a,l){const c=new on(null,n,t,e,i,r,lO(s));return a&&(c.urlHandlingStrategy=a),l&&(c.routeReuseStrategy=l),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(u=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${u.constructor.name}`),console.log(u.toString()),console.log(u),null===(h=console.groupEnd)||void 0===h||h.call(console)}),c},deps:[mO,iu,jc,He,Vh,Cv,_o,[class{},new nt],[class{},new nt]]},iu,{provide:mo,useFactory:function(n){return n.routerState.root},deps:[on]},QO,YO,class{preload(t,e){return e().pipe($r(()=>j(null)))}},{provide:_o,useValue:{enableTracing:!1}}];function oK(){return new Gk("Router",on)}let ZO=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[sK,JO(e),{provide:XO,useFactory:cK,deps:[[on,new nt,new Es]]},{provide:_o,useValue:i||{}},{provide:Xa,useFactory:lK,deps:[ho,[new mc(Ny),new nt],_o]},{provide:wv,useFactory:aK,deps:[on,m6,_o]},{provide:KO,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:YO},{provide:Gk,multi:!0,useFactory:oK},[Ev,{provide:Lh,multi:!0,useFactory:fK,deps:[Ev]},{provide:eP,useFactory:pK,deps:[Ev]},{provide:Vk,multi:!0,useExisting:eP}]]}}static forChild(e){return{ngModule:n,providers:[JO(e)]}}}return n.\u0275fac=function(e){return new(e||n)(b(XO,8),b(on,8))},n.\u0275mod=z({type:n}),n.\u0275inj=$({}),n})();function aK(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new wv(n,t,e)}function lK(n,t,e={}){return e.useHash?new X8(n,t):new fR(n,t)}function cK(n){return"guarded"}function JO(n){return[{provide:wj,multi:!0,useValue:n},{provide:Cv,multi:!0,useValue:n}]}let Ev=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Q}appInitializer(){return this.injector.get(K8,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(a=>i=a),s=this.injector.get(on),o=this.injector.get(_o);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?j(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(_o),r=this.injector.get(QO),s=this.injector.get(wv),o=this.injector.get(on),a=this.injector.get(Ya);e===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&o.initialNavigation(),r.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(b(He))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();function fK(n){return n.appInitializer.bind(n)}function pK(n){return n.bootstrapListener.bind(n)}const eP=new I("Router Initializer");function tP(n,t,e,i,r,s,o){try{var a=n[s](o),l=a.value}catch(c){return void e(c)}a.done?t(l):Promise.resolve(l).then(i,r)}function y(n){return function(){var t=this,e=arguments;return new Promise(function(i,r){var s=n.apply(t,e);function o(l){tP(s,i,r,o,a,"next",l)}function a(l){tP(s,i,r,o,a,"throw",l)}o(void 0)})}}const M=function(n,t){if(!n)throw il(t)},il=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},nP=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=63&r|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=63&r|128)}return t},wf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),i.push(e[s>>2],e[(3&s)<<4|a>>4],e[h],e[f])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(nP(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[e++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const l=((7&r)<<18|(63&n[e++])<<12|(63&n[e++])<<6|63&n[e++])-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(1023&l))}else{const s=n[e++],o=n[e++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=e[n.charAt(r++)],a=r<n.length?e[n.charAt(r)]:0;++r;const c=r<n.length?e[n.charAt(r)]:64;++r;const d=r<n.length?e[n.charAt(r)]:64;if(++r,null==s||null==a||null==c||null==d)throw Error();i.push(s<<2|a>>4),64!==c&&(i.push(a<<4&240|c>>2),64!==d&&i.push(c<<6&192|d))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},iP=function(n){const t=nP(n);return wf.encodeByteArray(t,!0)},Sv=function(n){try{return wf.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function _K(n){return sP(void 0,n)}function sP(n,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return t}for(const e in t)!t.hasOwnProperty(e)||!yK(e)||(n[e]=sP(n[e],t[e]));return n}function yK(n){return"__proto__"!==n}class xs{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,i))}}}function $t(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Tv(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function Iv(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function oP(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function yo(){return"object"==typeof indexedDB}function Ef(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var s;t((null===(s=r.error)||void 0===s?void 0:s.message)||"")}}catch(e){t(e)}})}function Mv(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class dr extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hr.prototype.create)}}class hr{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?function(n,t){return n.replace(SK,(e,i)=>{const r=t[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new dr(r,`${this.serviceName}: ${o} (${r}).`,i)}}const SK=/\{\$([^}]+)}/g;function lu(n){return JSON.parse(n)}function Nt(n){return JSON.stringify(n)}const Df=function(n){let t={},e={},i={},r="";try{const s=n.split(".");t=lu(Sv(s[0])||""),e=lu(Sv(s[1])||""),r=s[2],i=e.d||{},delete e.d}catch(s){}return{header:t,claims:e,data:i,signature:r}};function qr(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function rl(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}function Av(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Sf(n,t,e){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=t.call(e,n[r],r,n));return i}function Tf(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const s=n[r],o=t[r];if(aP(s)&&aP(o)){if(!Tf(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function aP(n){return null!==n&&"object"==typeof n}function cu(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function uu(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(s)}}),t}function du(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}class MK{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,e){e||(e=0);const i=this.W_;if("string"==typeof t)for(let d=0;d<16;d++)i[d]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(let d=0;d<16;d++)i[d]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(let d=16;d<80;d++){const h=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=4294967295&(h<<1|h>>>31)}let c,u,r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(r<<5|r>>>27)+c+l+u+i[d]&4294967295;l=a,a=o,o=4294967295&(s<<30|s>>>2),s=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,e){if(null==t)return;void 0===e&&(e=t.length);const i=e-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<e;){if(0===o)for(;r<=i;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(s[o]=t.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<e;)if(s[o]=t[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=e}digest(){const t=[];let e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&e,e/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t}}class xK{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(void 0===t&&void 0===e&&void 0===i)throw new Error("Missing Observer.");r=function(n,t){if("object"!=typeof n||null===n)return!1;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(t)?t:{next:t,error:e,complete:i},void 0===r.next&&(r.next=xv),void 0===r.error&&(r.error=xv),void 0===r.complete&&(r.complete=xv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(o){}}),this.observers.push(r),s}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(i){"undefined"!=typeof console&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xv(){}function sl(n,t){return`${n} failed: ${t} argument `}const If=function(n){let t=0;for(let e=0;e<n.length;e++){const i=n.charCodeAt(e);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,e++):t+=3}return t};function Mf(n,t=1e3,e=2){const i=t*Math.pow(e,n),r=Math.round(.5*i*(Math.random()-.5)*2);return Math.min(144e5,i+r)}function zt(n){return n&&n._delegate?n._delegate:n}class yn{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const vo="[DEFAULT]";class VK{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new xs;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch(r){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if("EAGER"===t.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:vo})}catch(e){}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch(s){}}}}clearInstance(t=vo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return y(function*(){const e=Array.from(t.instances.values());yield Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=vo){return this.instances.has(t)}getOptions(t=vo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[s,o]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(s)&&o.resolve(r);return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),s=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch(s){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t,n===vo?void 0:n),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(r){}var n;return i||null}normalizeInstanceIdentifier(t=vo){return this.component?this.component.multipleInstances?t:vo:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class UK{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new VK(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const kv=[];var Ve=(()=>{return(n=Ve||(Ve={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Ve;var n})();const lP={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},jK=Ve.INFO,$K={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},zK=(n,t,...e)=>{if(t<n.logLevel)return;const i=(new Date).toISOString(),r=$K[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${n.name}:`,...e)};class ol{constructor(t){this.name=t,this._logLevel=jK,this._logHandler=zK,this._userLogHandler=null,kv.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ve))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?lP[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...t),this._logHandler(this,Ve.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...t),this._logHandler(this,Ve.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...t),this._logHandler(this,Ve.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...t),this._logHandler(this,Ve.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...t),this._logHandler(this,Ve.ERROR,...t)}}class GK{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(n){const t=n.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}return null}).filter(e=>e).join(" ")}}const Rv="@firebase/app",Ov=new ol("@firebase/app"),Pv="[DEFAULT]",yY={[Rv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},bo=new Map,Af=new Map;function vY(n,t){try{n.container.addComponent(t)}catch(e){Ov.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function kn(n){const t=n.name;if(Af.has(t))return Ov.debug(`There were multiple attempts to register component ${t}.`),!1;Af.set(t,n);for(const e of bo.values())vY(e,n);return!0}function ks(n,t){return n.container.getProvider(t)}const hu=new hr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class CY{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new yn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw hu.create("app-deleted",{appName:this._name})}}const al="9.6.1";function wY(n,t={}){"object"!=typeof t&&(t={name:t});const e=Object.assign({name:Pv,automaticDataCollectionEnabled:!1},t),i=e.name;if("string"!=typeof i||!i)throw hu.create("bad-app-name",{appName:String(i)});const r=bo.get(i);if(r){if(Tf(n,r.options)&&Tf(e,r.config))return r;throw hu.create("duplicate-app",{appName:i})}const s=new UK(i);for(const a of Af.values())s.addComponent(a);const o=new CY(n,e,s);return bo.set(i,o),o}function fu(n=Pv){const t=bo.get(n);if(!t)throw hu.create("no-app",{appName:n});return t}function uP(){return Array.from(bo.values())}function ct(n,t,e){var i;let r=null!==(i=yY[n])&&void 0!==i?i:n;e&&(r+=`-${e}`);const s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${t}":`];return s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Ov.warn(a.join(" "))}kn(new yn(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}kn(new yn("platform-logger",t=>new GK(t),"PRIVATE")),ct(Rv,"0.7.11",""),ct(Rv,"0.7.11","esm2017"),ct("fire-js",""),ct("firebase","9.6.1","app");var ll=Xs(940);const dP="@firebase/installations",fP="w:0.5.4",pP="FIS_v2",Kr=new hr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function mP(n){return n instanceof dr&&n.code.includes("request-failed")}function Lv({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function gP(n){return{token:n.token,requestStatus:2,expiresIn:kY(n.expiresIn),creationTime:Date.now()}}function Vv(n,t){return Bv.apply(this,arguments)}function Bv(){return Bv=y(function*(n,t){const i=(yield t.json()).error;return Kr.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}),Bv.apply(this,arguments)}function _P({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function yP(n,{refreshToken:t}){const e=_P(n);return e.append("Authorization",function(n){return`${pP} ${n}`}(t)),e}function Hv(n){return Uv.apply(this,arguments)}function Uv(){return Uv=y(function*(n){const t=yield n();return t.status>=500&&t.status<600?n():t}),Uv.apply(this,arguments)}function kY(n){return Number(n.replace("s","000"))}function OY(n,t){return jv.apply(this,arguments)}function jv(){return jv=y(function*(n,{fid:t}){const e=Lv(n),s={method:"POST",headers:_P(n),body:JSON.stringify({fid:t,authVersion:pP,appId:n.appId,sdkVersion:fP})},o=yield Hv(()=>fetch(e,s));if(o.ok){const a=yield o.json();return{fid:a.fid||t,registrationStatus:2,refreshToken:a.refreshToken,authToken:gP(a.authToken)}}throw yield Vv("Create Installation",o)}),jv.apply(this,arguments)}function vP(n){return new Promise(t=>{setTimeout(t,n)})}const NY=/^[cdef][\w-]{21}$/;function FY(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const e=function(n){return function(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return NY.test(e)?e:""}catch(n){return""}}function cl(n){return`${n.appName}!${n.appId}`}const ul=new Map;function bP(n,t){const e=cl(n);CP(e,t),function(n,t){const e=(!Co&&"BroadcastChannel"in self&&(Co=new BroadcastChannel("[Firebase] FID Change"),Co.onmessage=n=>{CP(n.data.key,n.data.fid)}),Co);e&&e.postMessage({key:n,fid:t}),0===ul.size&&Co&&(Co.close(),Co=null)}(e,t)}function CP(n,t){const e=ul.get(n);if(e)for(const i of e)i(t)}let Co=null;const wo="firebase-installations-store";let zv=null;function Gv(){return zv||(zv=(0,ll.openDb)("firebase-installations-database",1,n=>{0===n.oldVersion&&n.createObjectStore(wo)})),zv}function xf(n,t){return Wv.apply(this,arguments)}function Wv(){return Wv=y(function*(n,t){const e=cl(n),r=(yield Gv()).transaction(wo,"readwrite"),s=r.objectStore(wo),o=yield s.get(e);return yield s.put(t,e),yield r.complete,(!o||o.fid!==t.fid)&&bP(n,t.fid),t}),Wv.apply(this,arguments)}function qv(n){return Kv.apply(this,arguments)}function Kv(){return Kv=y(function*(n){const t=cl(n),i=(yield Gv()).transaction(wo,"readwrite");yield i.objectStore(wo).delete(t),yield i.complete}),Kv.apply(this,arguments)}function pu(n,t){return Yv.apply(this,arguments)}function Yv(){return Yv=y(function*(n,t){const e=cl(n),r=(yield Gv()).transaction(wo,"readwrite"),s=r.objectStore(wo),o=yield s.get(e),a=t(o);return void 0===a?yield s.delete(e):yield s.put(a,e),yield r.complete,a&&(!o||o.fid!==a.fid)&&bP(n,a.fid),a}),Yv.apply(this,arguments)}function Qv(n){return Xv.apply(this,arguments)}function Xv(){return Xv=y(function*(n){let t;const e=yield pu(n,i=>{const r=$Y(i),s=zY(n,r);return t=s.registrationPromise,s.installationEntry});return""===e.fid?{installationEntry:yield t}:{installationEntry:e,registrationPromise:t}}),Xv.apply(this,arguments)}function $Y(n){return SP(n||{fid:FY(),registrationStatus:0})}function zY(n,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Kr.create("app-offline"))};const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=function(n,t){return Zv.apply(this,arguments)}(n,e);return{installationEntry:e,registrationPromise:i}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:WY(n)}:{installationEntry:t}}function Zv(){return Zv=y(function*(n,t){try{return xf(n,yield OY(n,t))}catch(e){throw mP(e)&&409===e.customData.serverCode?yield qv(n):yield xf(n,{fid:t.fid,registrationStatus:0}),e}}),Zv.apply(this,arguments)}function WY(n){return Jv.apply(this,arguments)}function Jv(){return Jv=y(function*(n){let t=yield DP(n);for(;1===t.registrationStatus;)yield vP(100),t=yield DP(n);if(0===t.registrationStatus){const{installationEntry:e,registrationPromise:i}=yield Qv(n);return i||e}return t}),Jv.apply(this,arguments)}function DP(n){return pu(n,t=>{if(!t)throw Kr.create("installation-not-found");return SP(t)})}function SP(n){return function(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function KY(n,t){return eb.apply(this,arguments)}function eb(){return eb=y(function*({appConfig:n,platformLoggerProvider:t},e){const i=YY(n,e),r=yP(n,e),s=t.getImmediate({optional:!0});s&&r.append("x-firebase-client",s.getPlatformInfoString());const a={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:fP}})},l=yield Hv(()=>fetch(i,a));if(l.ok)return gP(yield l.json());throw yield Vv("Generate Auth Token",l)}),eb.apply(this,arguments)}function YY(n,{fid:t}){return`${Lv(n)}/${t}/authTokens:generate`}function tb(n){return nb.apply(this,arguments)}function nb(){return nb=y(function*(n,t=!1){let e;const i=yield pu(n.appConfig,s=>{if(!IP(s))throw Kr.create("not-registered");const o=s.authToken;if(!t&&ZY(o))return s;if(1===o.requestStatus)return e=QY(n,t),s;{if(!navigator.onLine)throw Kr.create("app-offline");const a=e9(s);return e=XY(n,a),a}});return e?yield e:i.authToken}),nb.apply(this,arguments)}function QY(n,t){return ib.apply(this,arguments)}function ib(){return ib=y(function*(n,t){let e=yield TP(n.appConfig);for(;1===e.authToken.requestStatus;)yield vP(100),e=yield TP(n.appConfig);const i=e.authToken;return 0===i.requestStatus?tb(n,t):i}),ib.apply(this,arguments)}function TP(n){return pu(n,t=>{if(!IP(t))throw Kr.create("not-registered");return function(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(t.authToken)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}function XY(n,t){return rb.apply(this,arguments)}function rb(){return rb=y(function*(n,t){try{const e=yield KY(n,t),i=Object.assign(Object.assign({},t),{authToken:e});return yield xf(n.appConfig,i),e}catch(e){if(!mP(e)||401!==e.customData.serverCode&&404!==e.customData.serverCode){const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield xf(n.appConfig,i)}else yield qv(n.appConfig);throw e}}),rb.apply(this,arguments)}function IP(n){return void 0!==n&&2===n.registrationStatus}function ZY(n){return 2===n.requestStatus&&!function(n){const t=Date.now();return t<n.creationTime||n.creationTime+n.expiresIn<t+36e5}(n)}function e9(n){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:t})}function sb(){return sb=y(function*(n){const t=n,{installationEntry:e,registrationPromise:i}=yield Qv(t.appConfig);return i?i.catch(console.error):tb(t).catch(console.error),e.fid}),sb.apply(this,arguments)}function ob(){return ob=y(function*(n,t=!1){const e=n;return yield r9(e.appConfig),(yield tb(e,t)).token}),ob.apply(this,arguments)}function r9(n){return ab.apply(this,arguments)}function ab(){return ab=y(function*(n){const{registrationPromise:t}=yield Qv(n);t&&(yield t)}),ab.apply(this,arguments)}function ub(n){return Kr.create("missing-app-config-values",{valueName:n})}const MP="installations";kn(new yn(MP,n=>{const t=n.getProvider("app").getImmediate(),e=function(n){if(!n||!n.options)throw ub("App Configuration");if(!n.name)throw ub("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!n.options[e])throw ub(e);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(t);return{app:t,appConfig:e,platformLoggerProvider:ks(t,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),kn(new yn("installations-internal",n=>{const e=ks(n.getProvider("app").getImmediate(),MP).getImmediate();return{getId:()=>function(n){return sb.apply(this,arguments)}(e),getToken:r=>function(n){return ob.apply(this,arguments)}(e,r)}},"PRIVATE")),ct(dP,"0.5.4"),ct(dP,"0.5.4","esm2017");const db="@firebase/remote-config",Rn=new hr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class w9{constructor(t,e,i,r){this.client=t,this.storage=e,this.storageCache=i,this.logger=r}isCachedDataFresh(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-e,r=i<=t;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${t}. Is cache hit: ${r}.`),r}fetch(t){var e=this;return y(function*(){const[i,r]=yield Promise.all([e.storage.getLastSuccessfulFetchTimestampMillis(),e.storage.getLastSuccessfulFetchResponse()]);if(r&&e.isCachedDataFresh(t.cacheMaxAgeMillis,i))return r;t.eTag=r&&r.eTag;const s=yield e.client.fetch(t),o=[e.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(e.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function E9(n=navigator){return n.languages&&n.languages[0]||n.language}class D9{constructor(t,e,i,r,s,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=i,this.projectId=r,this.apiKey=s,this.appId=o}fetch(t){var e=this;return y(function*(){const[i,r]=yield Promise.all([e.firebaseInstallations.getId(),e.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${e.projectId}/namespaces/${e.namespace}:fetch?key=${e.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},l={sdk_version:e.sdkVersion,app_instance_id:i,app_instance_id_token:r,app_id:e.appId,language_code:E9()},c={method:"POST",headers:a,body:JSON.stringify(l)},u=fetch(o,c),d=new Promise((E,v)=>{t.signal.addEventListener(()=>{const T=new Error("The operation was aborted.");T.name="AbortError",v(T)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(E){let v="fetch-client-network";throw"AbortError"===E.name&&(v="fetch-timeout"),Rn.create(v,{originalErrorMessage:E.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,_;if(200===h.status){let E;try{E=yield h.json()}catch(v){throw Rn.create("fetch-client-parse",{originalErrorMessage:v.message})}g=E.entries,_=E.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(g={}),304!==f&&200!==f)throw Rn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class I9{constructor(t,e){this.client=t,this.storage=e}fetch(t){var e=this;return y(function*(){const i=(yield e.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return e.attemptFetch(t,i)})()}attemptFetch(t,{throttleEndTimeMillis:e,backoffCount:i}){var r=this;return y(function*(){yield function(n,t){return new Promise((e,i)=>{const r=Math.max(t-Date.now(),0),s=setTimeout(e,r);n.addEventListener(()=>{clearTimeout(s),i(Rn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(t.signal,e);try{const s=yield r.client.fetch(t);return yield r.storage.deleteThrottleMetadata(),s}catch(s){if(!function(n){if(!(n instanceof dr&&n.customData))return!1;const t=Number(n.customData.httpStatus);return 429===t||500===t||503===t||504===t}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Mf(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(o),r.attemptFetch(t,o)}})()}}class x9{constructor(t,e,i,r,s){this.app=t,this._client=e,this._storageCache=i,this._storage=r,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Rf(n,t){const e=n.target.error||void 0;return Rn.create(t,{originalErrorMessage:e&&e.message})}const Eo="app_namespace_store";class P9{constructor(t,e,i,r=function(){return new Promise((n,t)=>{try{const e=indexedDB.open("firebase_remote_config",1);e.onerror=i=>{t(Rf(i,"storage-open"))},e.onsuccess=i=>{n(i.target.result)},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Eo,{keyPath:"compositeKey"})}}catch(e){t(Rn.create("storage-open",{originalErrorMessage:e}))}})}()){this.appId=t,this.appName=e,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(t){return this.set("last_fetch_status",t)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(t){return this.set("last_successful_fetch_timestamp_millis",t)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(t){return this.set("last_successful_fetch_response",t)}getActiveConfig(){return this.get("active_config")}setActiveConfig(t){return this.set("active_config",t)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(t){return this.set("active_config_etag",t)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(t){return this.set("throttle_metadata",t)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(t){var e=this;return y(function*(){const i=yield e.openDbPromise;return new Promise((r,s)=>{const a=i.transaction([Eo],"readonly").objectStore(Eo),l=e.createCompositeKey(t);try{const c=a.get(l);c.onerror=u=>{s(Rf(u,"storage-get"))},c.onsuccess=u=>{const d=u.target.result;r(d?d.value:void 0)}}catch(c){s(Rn.create("storage-get",{originalErrorMessage:c&&c.message}))}})})()}set(t,e){var i=this;return y(function*(){const r=yield i.openDbPromise;return new Promise((s,o)=>{const l=r.transaction([Eo],"readwrite").objectStore(Eo),c=i.createCompositeKey(t);try{const u=l.put({compositeKey:c,value:e});u.onerror=d=>{o(Rf(d,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){o(Rn.create("storage-set",{originalErrorMessage:u&&u.message}))}})})()}delete(t){var e=this;return y(function*(){const i=yield e.openDbPromise;return new Promise((r,s)=>{const a=i.transaction([Eo],"readwrite").objectStore(Eo),l=e.createCompositeKey(t);try{const c=a.delete(l);c.onerror=u=>{s(Rf(u,"storage-delete"))},c.onsuccess=()=>{r()}}catch(c){s(Rn.create("storage-delete",{originalErrorMessage:c&&c.message}))}})})()}createCompositeKey(t){return[this.appId,this.appName,this.namespace,t].join()}}class N9{constructor(t){this.storage=t}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var t=this;return y(function*(){const e=t.storage.getLastFetchStatus(),i=t.storage.getLastSuccessfulFetchTimestampMillis(),r=t.storage.getActiveConfig(),s=yield e;s&&(t.lastFetchStatus=s);const o=yield i;o&&(t.lastSuccessfulFetchTimestampMillis=o);const a=yield r;a&&(t.activeConfig=a)})()}setLastFetchStatus(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)}setLastSuccessfulFetchTimestampMillis(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)}setActiveConfig(t){return this.activeConfig=t,this.storage.setActiveConfig(t)}}function L9(){return gb.apply(this,arguments)}function gb(){return(gb=y(function*(){if(!yo())return!1;try{return yield Ef()}catch(n){return!1}})).apply(this,arguments)}kn(new yn("remote-config",function(t,{instanceIdentifier:e}){const i=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Rn.create("registration-window");if(!yo())throw Rn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=i.options;if(!s)throw Rn.create("registration-project-id");if(!o)throw Rn.create("registration-api-key");if(!a)throw Rn.create("registration-app-id");const l=new P9(a,i.name,e=e||"firebase"),c=new N9(l),u=new ol(db);u.logLevel=Ve.ERROR;const d=new D9(r,al,e,s,o,a),h=new I9(d,l),f=new w9(h,l,c,u),p=new x9(i,f,c,l,u);return function(n){const t=zt(n);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),ct(db,"0.3.3"),ct(db,"0.3.3","esm2017");const V9="/firebase-messaging-sw.js",B9="/firebase-cloud-messaging-push-scope",RP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",OP="google.c.a.c_id",U9="google.c.a.c_l",j9="google.c.a.ts",$9="google.c.a.e";var dl=(()=>(function(n){n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked"}(dl||(dl={})),dl))();function Yr(n){const t=new Uint8Array(n);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function z9(n){const e=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(e),r=new Uint8Array(i.length);for(let s=0;s<i.length;++s)r[s]=i.charCodeAt(s);return r}const _b="fcm_token_details_db",PP="fcm_token_object_Store";function W9(n){return yb.apply(this,arguments)}function yb(){return yb=y(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(_b))return null;let t=null;return(yield(0,ll.openDb)(_b,5,function(){var i=y(function*(r){var s;if(r.oldVersion<2||!r.objectStoreNames.contains(PP))return;const o=r.transaction.objectStore(PP),a=yield o.index("fcmSenderId").get(n);if(yield o.clear(),a)if(2===r.oldVersion){const l=a;if(!l.auth||!l.p256dh||!l.endpoint)return;t={token:l.fcmToken,createTime:null!==(s=l.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:l.auth,p256dh:l.p256dh,endpoint:l.endpoint,swScope:l.swScope,vapidKey:"string"==typeof l.vapidKey?l.vapidKey:Yr(l.vapidKey)}}}else if(3===r.oldVersion){const l=a;t={token:l.fcmToken,createTime:l.createTime,subscriptionOptions:{auth:Yr(l.auth),p256dh:Yr(l.p256dh),endpoint:l.endpoint,swScope:l.swScope,vapidKey:Yr(l.vapidKey)}}}else if(4===r.oldVersion){const l=a;t={token:l.fcmToken,createTime:l.createTime,subscriptionOptions:{auth:Yr(l.auth),p256dh:Yr(l.p256dh),endpoint:l.endpoint,swScope:l.swScope,vapidKey:Yr(l.vapidKey)}}}});return function(r){return i.apply(this,arguments)}}())).close(),yield(0,ll.deleteDb)(_b),yield(0,ll.deleteDb)("fcm_vapid_details_db"),yield(0,ll.deleteDb)("undefined"),q9(t)?t:null}),yb.apply(this,arguments)}function q9(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:t}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}const Do="firebase-messaging-store";let vb=null;function bb(){return vb||(vb=(0,ll.openDb)("firebase-messaging-database",1,n=>{0===n.oldVersion&&n.createObjectStore(Do)})),vb}function NP(n){return Cb.apply(this,arguments)}function Cb(){return Cb=y(function*(n){const t=Sb(n),i=yield(yield bb()).transaction(Do).objectStore(Do).get(t);if(i)return i;{const r=yield W9(n.appConfig.senderId);if(r)return yield wb(n,r),r}}),Cb.apply(this,arguments)}function wb(n,t){return Eb.apply(this,arguments)}function Eb(){return Eb=y(function*(n,t){const e=Sb(n),r=(yield bb()).transaction(Do,"readwrite");return yield r.objectStore(Do).put(t,e),yield r.complete,t}),Eb.apply(this,arguments)}function Q9(n){return Db.apply(this,arguments)}function Db(){return Db=y(function*(n){const t=Sb(n),i=(yield bb()).transaction(Do,"readwrite");yield i.objectStore(Do).delete(t),yield i.complete}),Db.apply(this,arguments)}function Sb({appConfig:n}){return n.appId}const Xt=new hr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Z9(n,t){return Tb.apply(this,arguments)}function Tb(){return Tb=y(function*(n,t){const e=yield xb(n),i=LP(t),r={method:"POST",headers:e,body:JSON.stringify(i)};let s;try{s=yield(yield fetch(Ab(n.appConfig),r)).json()}catch(o){throw Xt.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw Xt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Xt.create("token-subscribe-no-token");return s.token}),Tb.apply(this,arguments)}function J9(n,t){return Ib.apply(this,arguments)}function Ib(){return Ib=y(function*(n,t){const e=yield xb(n),i=LP(t.subscriptionOptions),r={method:"PATCH",headers:e,body:JSON.stringify(i)};let s;try{s=yield(yield fetch(`${Ab(n.appConfig)}/${t.token}`,r)).json()}catch(o){throw Xt.create("token-update-failed",{errorInfo:o})}if(s.error)throw Xt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Xt.create("token-update-no-token");return s.token}),Ib.apply(this,arguments)}function FP(n,t){return Mb.apply(this,arguments)}function Mb(){return Mb=y(function*(n,t){const i={method:"DELETE",headers:yield xb(n)};try{const s=yield(yield fetch(`${Ab(n.appConfig)}/${t}`,i)).json();if(s.error)throw Xt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(r){throw Xt.create("token-unsubscribe-failed",{errorInfo:r})}}),Mb.apply(this,arguments)}function Ab({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function xb(n){return kb.apply(this,arguments)}function kb(){return kb=y(function*({appConfig:n,installations:t}){const e=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${e}`})}),kb.apply(this,arguments)}function LP({p256dh:n,auth:t,endpoint:e,vapidKey:i}){const r={web:{endpoint:e,auth:t,p256dh:n}};return i!==RP&&(r.web.applicationPubKey=i),r}const eQ=6048e5;function tQ(n){return Rb.apply(this,arguments)}function Rb(){return Rb=y(function*(n){const t=yield iQ(n.swRegistration,n.vapidKey),e={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:t.endpoint,auth:Yr(t.getKey("auth")),p256dh:Yr(t.getKey("p256dh"))},i=yield NP(n.firebaseDependencies);if(i){if(rQ(i.subscriptionOptions,e))return Date.now()>=i.createTime+eQ?nQ(n,{token:i.token,createTime:Date.now(),subscriptionOptions:e}):i.token;try{yield FP(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return BP(n.firebaseDependencies,e)}return BP(n.firebaseDependencies,e)}),Rb.apply(this,arguments)}function VP(n){return Ob.apply(this,arguments)}function Ob(){return Ob=y(function*(n){const t=yield NP(n.firebaseDependencies);t&&(yield FP(n.firebaseDependencies,t.token),yield Q9(n.firebaseDependencies));const e=yield n.swRegistration.pushManager.getSubscription();return!e||e.unsubscribe()}),Ob.apply(this,arguments)}function nQ(n,t){return Pb.apply(this,arguments)}function Pb(){return Pb=y(function*(n,t){try{const e=yield J9(n.firebaseDependencies,t),i=Object.assign(Object.assign({},t),{token:e,createTime:Date.now()});return yield wb(n.firebaseDependencies,i),e}catch(e){throw yield VP(n),e}}),Pb.apply(this,arguments)}function BP(n,t){return Nb.apply(this,arguments)}function Nb(){return Nb=y(function*(n,t){const i={token:yield Z9(n,t),createTime:Date.now(),subscriptionOptions:t};return yield wb(n,i),i.token}),Nb.apply(this,arguments)}function iQ(n,t){return Fb.apply(this,arguments)}function Fb(){return Fb=y(function*(n,t){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:z9(t)})}),Fb.apply(this,arguments)}function rQ(n,t){return t.vapidKey===n.vapidKey&&t.endpoint===n.endpoint&&t.auth===n.auth&&t.p256dh===n.p256dh}function HP(n){const t={from:n.from,collapseKey:n.collapse_key,messageId:n.fcm_message_id};return function(n,t){if(!t.notification)return;n.notification={};const e=t.notification.title;e&&(n.notification.title=e);const i=t.notification.body;i&&(n.notification.body=i);const r=t.notification.image;r&&(n.notification.image=r)}(t,n),function(n,t){!t.data||(n.data=t.data)}(t,n),function(n,t){if(!t.fcmOptions)return;n.fcmOptions={};const e=t.fcmOptions.link;e&&(n.fcmOptions.link=e);const i=t.fcmOptions.analytics_label;i&&(n.fcmOptions.analyticsLabel=i)}(t,n),t}function lQ(n){return"object"==typeof n&&!!n&&OP in n}function UP(n,t){const e=[];for(let i=0;i<n.length;i++)e.push(n.charAt(i)),i<t.length&&e.push(t.charAt(i));return e.join("")}function Lb(n){return Xt.create("missing-app-config-values",{valueName:n})}UP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),UP("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class uQ{constructor(t,e,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(n){if(!n||!n.options)throw Lb("App Configuration Object");if(!n.name)throw Lb("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:e}=n;for(const i of t)if(!e[i])throw Lb(i);return{appName:n.name,projectId:e.projectId,apiKey:e.apiKey,appId:e.appId,senderId:e.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:r,installations:e,analyticsProvider:i}}_delete(){return Promise.resolve()}}function jP(n){return Vb.apply(this,arguments)}function Vb(){return Vb=y(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(V9,{scope:B9}),n.swRegistration.update().catch(()=>{})}catch(t){throw Xt.create("failed-service-worker-registration",{browserErrorMessage:t.message})}}),Vb.apply(this,arguments)}function dQ(n,t){return Bb.apply(this,arguments)}function Bb(){return Bb=y(function*(n,t){if(!t&&!n.swRegistration&&(yield jP(n)),t||!n.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw Xt.create("invalid-sw-registration");n.swRegistration=t}}),Bb.apply(this,arguments)}function hQ(n,t){return Hb.apply(this,arguments)}function Hb(){return Hb=y(function*(n,t){t?n.vapidKey=t:n.vapidKey||(n.vapidKey=RP)}),Hb.apply(this,arguments)}function Ub(){return Ub=y(function*(n,t){if(!navigator)throw Xt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Xt.create("permission-blocked");return yield hQ(n,null==t?void 0:t.vapidKey),yield dQ(n,null==t?void 0:t.serviceWorkerRegistration),tQ(n)}),Ub.apply(this,arguments)}function fQ(n,t,e){return jb.apply(this,arguments)}function jb(){return jb=y(function*(n,t,e){const i=pQ(t);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:e[OP],message_name:e[U9],message_time:e[j9],message_device_time:Math.floor(Date.now()/1e3)})}),jb.apply(this,arguments)}function pQ(n){switch(n){case dl.NOTIFICATION_CLICKED:return"notification_open";case dl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function $b(){return $b=y(function*(n,t){const e=t.data;if(!e.isFirebaseMessaging)return;n.onMessageHandler&&e.messageType===dl.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(HP(e)):n.onMessageHandler.next(HP(e)));const i=e.data;lQ(i)&&"1"===i[$9]&&(yield fQ(n,e.messageType,i))}),$b.apply(this,arguments)}const zP="@firebase/messaging";function WP(){return zb.apply(this,arguments)}function zb(){return(zb=y(function*(){return"undefined"!=typeof window&&yo()&&(yield Ef())&&Mv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}kn(new yn("messaging",n=>{const t=new uQ(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>function(n,t){return $b.apply(this,arguments)}(t,e)),t},"PUBLIC")),kn(new yn("messaging-internal",n=>{const t=n.getProvider("messaging").getImmediate();return{getToken:i=>function(n,t){return Ub.apply(this,arguments)}(t,i)}},"PRIVATE")),ct(zP,"0.9.4"),ct(zP,"0.9.4","esm2017");const Of="analytics",CQ="firebase_id",DQ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qP="https://www.googletagmanager.com/gtag/js",Zt=new ol("@firebase/analytics");function KP(n){return Promise.all(n.map(t=>t.catch(e=>e)))}function SQ(n,t){const e=document.createElement("script");e.src=`${qP}?l=${n}&id=${t}`,e.async=!0,document.head.appendChild(e)}function IQ(n,t,e,i,r,s){return qb.apply(this,arguments)}function qb(){return qb=y(function*(n,t,e,i,r,s){const o=i[r];try{if(o)yield t[o];else{const l=(yield KP(e)).find(c=>c.measurementId===r);l&&(yield t[l.appId])}}catch(a){Zt.error(a)}n("config",r,s)}),qb.apply(this,arguments)}function MQ(n,t,e,i,r){return Kb.apply(this,arguments)}function Kb(){return Kb=y(function*(n,t,e,i,r){try{let s=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const a=yield KP(e);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&t[c.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(t)),yield Promise.all(s),n("event",i,r||{})}catch(s){Zt.error(s)}}),Kb.apply(this,arguments)}function kQ(){const n=window.document.getElementsByTagName("script");for(const t of Object.values(n))if(t.src&&t.src.includes(qP))return t;return null}const Qn=new hr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),YP=new class{constructor(t={},e=1e3){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function FQ(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function LQ(n){return Yb.apply(this,arguments)}function Yb(){return Yb=y(function*(n){var t;const{appId:e,apiKey:i}=n,r={method:"GET",headers:FQ(i)},s=DQ.replace("{app-id}",e),o=yield fetch(s,r);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();(null===(t=l.error)||void 0===t?void 0:t.message)&&(a=l.error.message)}catch(l){}throw Qn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),Yb.apply(this,arguments)}function VQ(n){return Qb.apply(this,arguments)}function Qb(){return Qb=y(function*(n,t=YP,e){const{appId:i,apiKey:r,measurementId:s}=n.options;if(!i)throw Qn.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw Qn.create("no-api-key")}const o=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new UQ;return setTimeout(y(function*(){a.abort()}),void 0!==e?e:6e4),QP({appId:i,apiKey:r,measurementId:s},o,a,t)}),Qb.apply(this,arguments)}function QP(n,t,e){return Xb.apply(this,arguments)}function Xb(){return Xb=y(function*(n,{throttleEndTimeMillis:t,backoffCount:e},i,r=YP){const{appId:s,measurementId:o}=n;try{yield BQ(i,t)}catch(a){if(o)return Zt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield LQ(n);return r.deleteThrottleMetadata(s),a}catch(a){if(!HQ(a)){if(r.deleteThrottleMetadata(s),o)return Zt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const l=503===Number(a.customData.httpStatus)?Mf(e,r.intervalMillis,30):Mf(e,r.intervalMillis),c={throttleEndTimeMillis:Date.now()+l,backoffCount:e+1};return r.setThrottleMetadata(s,c),Zt.debug(`Calling attemptFetch again in ${l} millis`),QP(n,c,i,r)}}),Xb.apply(this,arguments)}function BQ(n,t){return new Promise((e,i)=>{const r=Math.max(t-Date.now(),0),s=setTimeout(e,r);n.addEventListener(()=>{clearTimeout(s),i(Qn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function HQ(n){if(!(n instanceof dr&&n.customData))return!1;const t=Number(n.customData.httpStatus);return 429===t||500===t||503===t||504===t}class UQ{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}function jQ(){return Zb.apply(this,arguments)}function Zb(){return Zb=y(function*(){if(!yo())return Zt.warn(Qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Ef()}catch(n){return Zt.warn(Qn.create("indexeddb-unavailable",{errorInfo:n}).message),!1}return!0}),Zb.apply(this,arguments)}function Jb(){return Jb=y(function*(n,t,e,i,r,s,o){var a;const l=VQ(n);l.then(f=>{e[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&Zt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Zt.error(f)),t.push(l);const c=jQ().then(f=>{if(f)return i.getId()}),[u,d]=yield Promise.all([l,c]);kQ()||SQ(s,u.measurementId),r("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[CQ]=d),r("config",u.measurementId,h),u.measurementId}),Jb.apply(this,arguments)}class zQ{constructor(t){this.app=t}_delete(){return delete Qr[this.app.options.appId],Promise.resolve()}}let Qr={},XP=[];const ZP={};let e1,mu,Pf="dataLayer",eC=!1;function WQ(n,t,e){!function(){const n=[];if(Iv()&&n.push("This is a browser extension environment."),Mv()||n.push("Cookies are not available."),n.length>0){const t=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),e=Qn.create("invalid-analytics-context",{errorInfo:t});Zt.warn(e.message)}}();const i=n.options.appId;if(!i)throw Qn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Qn.create("no-api-key");Zt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Qr[i])throw Qn.create("already-exists",{id:i});if(!eC){!function(n){let t=[];Array.isArray(window[n])?t=window[n]:window[n]=t}(Pf);const{wrappedGtag:s,gtagCore:o}=function(n,t,e,i,r){let s=function(...o){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(s=window[r]),window[r]=function(n,t,e,i){function s(){return(s=y(function*(o,a,l){try{"event"===o?yield MQ(n,t,e,a,l):"config"===o?yield IQ(n,t,e,i,a,l):n("set",a)}catch(c){Zt.error(c)}})).apply(this,arguments)}return function(o,a,l){return s.apply(this,arguments)}}(s,n,t,e),{gtagCore:s,wrappedGtag:window[r]}}(Qr,XP,ZP,Pf,"gtag");mu=s,e1=o,eC=!0}return Qr[i]=function(n,t,e,i,r,s,o){return Jb.apply(this,arguments)}(n,XP,ZP,t,e1,Pf,e),new zQ(n)}function tC(){return tC=y(function*(n,t,e,i,r){if(r&&r.global)n("event",e,i);else{const s=yield t;n("event",e,Object.assign(Object.assign({},i),{send_to:s}))}}),tC.apply(this,arguments)}function JQ(){return oC.apply(this,arguments)}function oC(){return(oC=y(function*(){if(Iv()||!Mv()||!yo())return!1;try{return yield Ef()}catch(n){return!1}})).apply(this,arguments)}const t1="@firebase/analytics";kn(new yn(Of,(t,{options:e})=>WQ(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),e),"PUBLIC")),kn(new yn("analytics-internal",function(t){try{const e=t.getProvider(Of).getImmediate();return{logEvent:(i,r,s)=>function(n,t,e,i){n=zt(n),function(n,t,e,i,r){return tC.apply(this,arguments)}(mu,Qr[n.app.options.appId],t,e,i).catch(r=>Zt.error(r))}(e,i,r,s)}}catch(e){throw Qn.create("interop-component-reg-failed",{reason:e})}},"PRIVATE")),ct(t1,"0.7.4"),ct(t1,"0.7.4","esm2017");class nX extends Pe{constructor(t,e){super()}schedule(t,e=0){return this}}const Nf={setInterval(...n){const{delegate:t}=Nf;return((null==t?void 0:t.setInterval)||setInterval)(...n)},clearInterval(n){const{delegate:t}=Nf;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0};class Ff extends nX{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return Nf.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;Nf.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,ta(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const r1={now:()=>(r1.delegate||Date).now(),delegate:void 0};class gu{constructor(t,e=gu.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}gu.now=r1.now;class Lf extends gu{constructor(t,e=gu.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const sX=new class extends Lf{}(class extends Ff{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):t.flush(this)}}),Vf=new Lf(Ff),s1=Vf,_u=new Lr("7.2.0"),aC="__angularfire_symbol__analyticsIsSupported",lC="__angularfire_symbol__remoteConfigIsSupported",cC="__angularfire_symbol__messagingIsSupported";function dC(n,t,e){if(t){if(1===t.length)return t[0];const s=t.filter(o=>o.app===e);if(1===s.length)return s[0]}return e.container.getProvider(n).getImmediate({optional:!0})}globalThis[aC]||(globalThis[aC]=JQ().then(n=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=n)),globalThis[cC]||(globalThis[cC]=WP().then(n=>globalThis.__angularfire_symbol__messagingIsSupportedValue=n)),globalThis[lC]||(globalThis[lC]=L9().then(n=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=n));const hC=(n,t)=>{const e=t?[t]:uP(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i};function hl(){}class c1{constructor(t,e=sX){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(o){r.runGuarded(()=>{t.apply(this,[o])})},e,i)}}class oX{constructor(t){this.zone=t,this.task=null}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hl,{},hl,hl)),e.pipe(jt({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Bf=(()=>{class n{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new c1(Zone.current)),this.insideAngular=e.run(()=>new c1(Zone.current,Vf)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(e){return new(e||n)(b(K))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function So(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function aX(n){return So().ngZone.runOutsideAngular(()=>n())}function To(n){return So().ngZone.run(()=>n())}function lX(n){return So(),function(n){return function(e){return(e=e.lift(new oX(n.ngZone))).pipe(Pd(n.outsideAngular),Od(n.insideAngular))}}(So())(n)}const uX=(n,t)=>{const e=void 0;return function(){return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),To(()=>n.apply(e,arguments))}},On=(n,t)=>function(){let e;for(let r=0;r<arguments.length;r++)"function"==typeof arguments[r]&&(t&&(e||(e=To(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hl,{},hl,hl)))),arguments[r]=uX(arguments[r],e));const i=aX(()=>n.apply(this,arguments));if(!t){if(i instanceof Te){const r=So();return i.pipe(Pd(r.outsideAngular),Od(r.insideAngular))}return To(()=>i)}return i instanceof Te?i.pipe(lX):i instanceof Promise?To(()=>new Promise((r,s)=>i.then(o=>To(()=>r(o)),o=>To(()=>s(o))))):"function"==typeof i&&e?function(){return setTimeout(()=>{e&&"scheduled"===e.state&&e.invoke()},10),i.apply(this,arguments)}:To(()=>i)};class fl{constructor(t){return t}}class Hf{constructor(){return uP()}}const fC=new I("angularfire2._apps"),hX={provide:fl,useFactory:function(n){return n&&1===n.length?n[0]:new fl(fu())},deps:[[new nt,fC]]},fX={provide:Hf,deps:[[new nt,fC]]};function pX(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new fl(i)}}let u1=(()=>{class n{constructor(e){ct("angularfire",_u.full,"core"),ct("angularfire",_u.full,"app"),ct("angular",Zx.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(b(Is))},n.\u0275mod=z({type:n}),n.\u0275inj=$({providers:[hX,fX]}),n})();function mX(n,...t){return{ngModule:u1,providers:[{provide:fC,useFactory:pX(n),multi:!0,deps:[K,He,Bf,...t]}]}}const gX=On(fu,!0),_X=On(wY,!0),d1=new Map,yX={activated:!1,tokenObservers:[]},vX={initialized:!1,enabled:!1};function Gt(n){return d1.get(n)||yX}function Vi(n,t){d1.set(n,t)}function Uf(){return vX}const pC="https://content-firebaseappcheck.googleapis.com/v1beta";class DX{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return y(function*(){e.stop();try{e.pending=new xs,yield function(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new xs,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const vn=new hr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function jf(n=!1){var t;return n?null===(t=self.grecaptcha)||void 0===t?void 0:t.enterprise:self.grecaptcha}function f1(n){if(!Gt(n).activated)throw vn.create("use-before-activation",{appName:n.name})}function IX(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const t=16*Math.random()|0;return("x"===n?t:3&t|8).toString(16)})}function mC(n){const t=Math.round(n/1e3),e=Math.floor(t/86400),i=Math.floor((t-3600*e*24)/3600),r=Math.floor((t-3600*e*24-3600*i)/60),s=t-3600*e*24-3600*i-60*r;let o="";return e&&(o+=$f(e)+"d:"),i&&(o+=$f(i)+"h:"),o+=$f(r)+"m:"+$f(s)+"s",o}function $f(n){return 0===n?"00":n>=10?n.toString():"0"+n}function gC(n,t){return _C.apply(this,arguments)}function _C(){return _C=y(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});r&&(i["X-Firebase-Client"]=r.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(t),headers:i};let o,a;try{o=yield fetch(n,s)}catch(d){throw vn.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw vn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw vn.create("fetch-parse-error",{originalErrorMessage:d.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw vn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.attestationToken,expireTimeMillis:u+c,issuedAtTimeMillis:u}}),_C.apply(this,arguments)}function xX(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${pC}/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const yu="firebase-app-check-store",p1="debug-token";let zf=null;function m1(){return zf||(zf=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(vn.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(yu,{keyPath:"compositeKey"})}}catch(e){t(vn.create("storage-open",{originalErrorMessage:e.message}))}}),zf)}function OX(n){return _1(y1(n))}function NX(n){return g1(p1,n)}function FX(){return _1(p1)}function g1(n,t){return yC.apply(this,arguments)}function yC(){return yC=y(function*(n,t){const i=(yield m1()).transaction(yu,"readwrite"),s=i.objectStore(yu).put({compositeKey:n,value:t});return new Promise((o,a)=>{s.onsuccess=l=>{o()},i.onerror=l=>{var c;a(vn.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})}),yC.apply(this,arguments)}function _1(n){return vC.apply(this,arguments)}function vC(){return vC=y(function*(n){const e=(yield m1()).transaction(yu,"readonly"),r=e.objectStore(yu).get(n);return new Promise((s,o)=>{r.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},e.onerror=a=>{var l;o(vn.create("storage-get",{originalErrorMessage:null===(l=a.target.error)||void 0===l?void 0:l.message}))}})}),vC.apply(this,arguments)}function y1(n){return`${n.options.appId}-${n.name}`}const vu=new ol("@firebase/app-check");function bC(){return bC=y(function*(n){if(yo()){let t;try{t=yield OX(n)}catch(e){vu.warn(`Failed to read token from IndexedDB. Error: ${e}`)}return t}}),bC.apply(this,arguments)}function v1(n,t){return yo()?function(n,t){return g1(y1(n),t)}(n,t).catch(e=>{vu.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function CC(){return CC=y(function*(){let n;try{n=yield FX()}catch(t){}if(n)return n;{const t=IX();return NX(t).catch(e=>vu.warn(`Failed to persist debug token to IndexedDB. Error: ${e}`)),t}}),CC.apply(this,arguments)}function b1(){return Uf().enabled}function C1(){return wC.apply(this,arguments)}function wC(){return wC=y(function*(){const n=Uf();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),wC.apply(this,arguments)}const HX={error:"UNKNOWN_ERROR"};function UX(n){return wf.encodeString(JSON.stringify(n),!1)}function Gf(n){return EC.apply(this,arguments)}function EC(){return EC=y(function*(n,t=!1){const e=n.app;f1(e);const i=Gt(e);let s,r=i.token;if(!r){const l=yield i.cachedTokenPromise;l&&Wf(l)&&(r=l)}if(!t&&r&&Wf(r))return{token:r.token};let a,o=!1;if(b1()){i.exchangeTokenPromise||(i.exchangeTokenPromise=gC(xX(e,yield C1()),n.platformLoggerProvider).then(c=>(i.exchangeTokenPromise=void 0,c)),o=!0);const l=yield i.exchangeTokenPromise;return yield v1(e,l),Vi(e,Object.assign(Object.assign({},i),{token:l})),{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(l=>(i.exchangeTokenPromise=void 0,l)),o=!0),r=yield i.exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?vu.warn(l.message):vu.error(l),s=l}return r?(a={token:r.token},Vi(e,Object.assign(Object.assign({},i),{token:r})),yield v1(e,r)):a=$X(s),o&&E1(e,a),a}),EC.apply(this,arguments)}function DC(n,t,e,i){const{app:r}=n,s=Gt(r),o={next:e,error:i,type:t};if(Vi(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&Wf(s.token)){const a=s.token;Promise.resolve().then(()=>{e({token:a.token}),w1(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>w1(n))}function SC(n,t){const e=Gt(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Vi(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function w1(n){const{app:t}=n,e=Gt(t);let i=e.tokenRefresher;i||(i=function(n){const{app:t}=n;return new DX(y(function*(){let i;if(i=Gt(t).token?yield Gf(n,!0):yield Gf(n),i.error)throw i.error}),()=>!0,()=>{const e=Gt(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Vi(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function E1(n,t){const e=Gt(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function Wf(n){return n.expireTimeMillis-Date.now()>0}function $X(n){return{token:UX(HX),error:n}}class zX{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=Gt(this.app);for(const e of t)SC(this.app,e.next);return Promise.resolve()}}function XX(n,t){const e=Gt(n),i=new xs;Vi(n,Object.assign(Object.assign({},e),{reCAPTCHAState:{initialized:i}}));const r=function(n){const t=`fire_app_check_${n.name}`,e=document.createElement("div");return e.id=t,e.style.display="none",document.body.appendChild(e),t}(n),s=jf(!1);return s?qf(n,t,s,r,i):function(n){const t=document.createElement("script");t.src="https://www.google.com/recaptcha/api.js",t.onload=n,document.head.appendChild(t)}(()=>{const o=jf(!1);if(!o)throw new Error("no recaptcha");qf(n,t,o,r,i)}),i.promise}function qf(n,t,e,i,r){e.ready(()=>{(function(n,t,e,i){const r=e.render(i,{sitekey:t,size:"invisible"}),s=Gt(n);Vi(n,Object.assign(Object.assign({},s),{reCAPTCHAState:Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:r})}))})(n,t,e,i),r.resolve(e)})}function TC(){return TC=y(function*(n){f1(n);const e=yield Gt(n).reCAPTCHAState.initialized.promise;return new Promise((i,r)=>{const s=Gt(n).reCAPTCHAState;e.ready(()=>{i(e.execute(s.widgetId,{action:"fire_app_check"}))})})}),TC.apply(this,arguments)}class IC{constructor(t){this._siteKey=t,this._throttleData=null}getToken(){var t=this;return y(function*(){var e;!function(n){if(n&&Date.now()-n.allowRequestsAfter<=0)throw vn.create("throttled",{time:mC(n.allowRequestsAfter-Date.now()),httpStatus:n.httpStatus})}(t._throttleData);const i=yield function(n){return TC.apply(this,arguments)}(t._app).catch(s=>{throw vn.create("recaptcha-error")});let r;try{r=yield gC(function(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${pC}/projects/${e}/apps/${i}:exchangeRecaptchaToken?key=${r}`,body:{recaptcha_token:t}}}(t._app,i),t._platformLoggerProvider)}catch(s){throw"fetch-status-error"===s.code?(t._throttleData=function(n,t){if(404===n||403===n)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:n};{const e=t?t.backoffCount:0,i=Mf(e,1e3,2);return{backoffCount:e+1,allowRequestsAfter:Date.now()+i,httpStatus:n}}}(Number(null===(e=s.customData)||void 0===e?void 0:e.httpStatus),t._throttleData),vn.create("throttled",{time:mC(t._throttleData.allowRequestsAfter-Date.now()),httpStatus:t._throttleData.httpStatus})):s}return t._throttleData=null,r})()}initialize(t){this._app=t,this._platformLoggerProvider=ks(t,"platform-logger"),XX(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof IC&&this._siteKey===t._siteKey}}function nZ(n=fu(),t){const e=ks(n=zt(n),"app-check");if(Uf().initialized||function(){const n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}(),t=Uf();if(t.initialized=!0,"string"!=typeof n.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==n.FIREBASE_APPCHECK_DEBUG_TOKEN)return;t.enabled=!0;const e=new xs;t.token=e,e.resolve("string"==typeof n.FIREBASE_APPCHECK_DEBUG_TOKEN?n.FIREBASE_APPCHECK_DEBUG_TOKEN:function(){return CC.apply(this,arguments)}())}(),b1()&&C1().then(r=>console.log(`App Check debug token: ${r}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),e.isInitialized()){const r=e.getImmediate(),s=e.getOptions();if(s.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&s.provider.isEqual(t.provider))return r;throw vn.create("already-initialized",{appName:n.name})}const i=e.initialize({options:t});return function(n,t,e){const i=Gt(n),r=Object.assign(Object.assign({},i),{activated:!0});r.provider=t,r.cachedTokenPromise=function(n){return bC.apply(this,arguments)}(n).then(s=>(s&&Wf(s)&&(Vi(n,Object.assign(Object.assign({},Gt(n)),{token:s})),E1(n,{token:s.token})),s)),r.isTokenAutoRefreshEnabled=void 0===e?n.automaticDataCollectionEnabled:e,Vi(n,r),r.provider.initialize(n)}(n,t.provider,t.isTokenAutoRefreshEnabled),Gt(n).isTokenAutoRefreshEnabled&&DC(i,"INTERNAL",()=>{}),i}const x1="app-check-internal";kn(new yn("app-check",n=>function(n,t){return new zX(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(x1).initialize()})),kn(new yn(x1,n=>function(n){return{getToken:t=>Gf(n,t),addTokenListener:t=>DC(n,"INTERNAL",t),removeTokenListener:t=>SC(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),ct("@firebase/app-check","0.5.2");const k1="app-check";class AC{constructor(t){return t}}class xC{constructor(){return hC(k1)}}const kC=new I("angularfire2.app-check-instances"),aZ="undefined"!=typeof window&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function lZ(n){return(t,e,i)=>{var r;!function(n){return"server"===n}(i)&&(Zk=!0,Xk||aZ)&&(null!==(r=globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN)&&void 0!==r||(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN=!0));const s=t.runOutsideAngular(()=>n(e));return new AC(s)}}const cZ={provide:xC,deps:[[new nt,kC]]},uZ={provide:AC,useFactory:function(n,t){const e=dC(k1,n,t);return e&&new AC(e)},deps:[[new nt,kC],fl,Is]};let R1=(()=>{class n{constructor(){ct("angularfire",_u.full,"app-check")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({providers:[uZ,cZ]}),n})();function dZ(n,...t){return{ngModule:R1,providers:[{provide:kC,useFactory:lZ(n),multi:!0,deps:[K,He,Is,Bf,Hf,...t]}]}}const hZ=On(nZ,!0);function P1(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]])}return e}const mZ=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},V1=new hr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),B1=new ol("@firebase/auth");function Yf(n,...t){B1.logLevel<=Ve.ERROR&&B1.error(`Auth (9.6.1): ${n}`,...t)}function Pn(n,...t){throw OC(n,...t)}function fr(n,...t){return OC(n,...t)}function H1(n,t,e){const i=Object.assign(Object.assign({},mZ()),{[t]:e});return new hr("auth","Firebase",i).create(t,{appName:n.name})}function OC(n,...t){if("string"!=typeof n){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return V1.create(n,...t)}function R(n,t,...e){if(!n)throw OC(t,...e)}function pr(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Yf(t),new Error(t)}function Rs(n,t){n||pr(t)}const U1=new Map;function Xr(n){Rs(n instanceof Function,"Expected a class definition");let t=U1.get(n);return t?(Rs(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,U1.set(n,t),t)}function bu(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function j1(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Cu{constructor(t,e){this.shortDelay=t,this.longDelay=e,Rs(e>t,"Short delay should be less than long delay!"),this.isMobile=Tv()||oP()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===j1()||"https:"===j1()||Iv()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function NC(n,t){Rs(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class $1{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},CZ=new Cu(3e4,6e4);function Ft(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function Wt(n,t,e,i){return FC.apply(this,arguments)}function FC(){return FC=y(function*(n,t,e,i,r={}){return z1(n,r,y(function*(){let s={},o={};i&&("GET"===t?o=i:s={body:JSON.stringify(i)});const a=cu(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),$1.fetch()(G1(n,n.config.apiHost,e,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))}))}),FC.apply(this,arguments)}function z1(n,t,e){return LC.apply(this,arguments)}function LC(){return LC=y(function*(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},bZ),t);try{const r=new wZ(n),s=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Qf(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Qf(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw Qf(n,"email-already-in-use",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw H1(n,u,c);Pn(n,u)}}catch(r){if(r instanceof dr)throw r;Pn(n,"network-request-failed")}}),LC.apply(this,arguments)}function Zr(n,t,e,i){return VC.apply(this,arguments)}function VC(){return VC=y(function*(n,t,e,i,r={}){const s=yield Wt(n,t,e,i,r);return"mfaPendingCredential"in s&&Pn(n,"multi-factor-auth-required",{_serverResponse:s}),s}),VC.apply(this,arguments)}function G1(n,t,e,i){const r=`${t}${e}?${i}`;return n.config.emulator?NC(n.config,r):`${n.config.apiScheme}://${r}`}class wZ{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(fr(this.auth,"timeout")),CZ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qf(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=fr(n,t,i);return r.customData._tokenResponse=e,r}function BC(){return BC=y(function*(n,t){return Wt(n,"POST","/v1/accounts:delete",t)}),BC.apply(this,arguments)}function SZ(n,t){return UC.apply(this,arguments)}function UC(){return UC=y(function*(n,t){return Wt(n,"POST","/v1/accounts:lookup",t)}),UC.apply(this,arguments)}function wu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function TZ(n,t=!1){return zt(n).getIdToken(t)}function jC(){return jC=y(function*(n,t=!1){const e=zt(n),i=yield e.getIdToken(t),r=Xf(i);R(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:wu($C(r.auth_time)),issuedAtTime:wu($C(r.iat)),expirationTime:wu($C(r.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}),jC.apply(this,arguments)}function $C(n){return 1e3*Number(n)}function Xf(n){const[t,e,i]=n.split(".");if(void 0===t||void 0===e||void 0===i)return Yf("JWT malformed, contained fewer than 3 sections"),null;try{const r=Sv(e);return r?JSON.parse(r):(Yf("Failed to decode base64 JWT payload"),null)}catch(r){return Yf("Caught error parsing JWT payload as JSON",r),null}}function Jr(n,t){return zC.apply(this,arguments)}function zC(){return zC=y(function*(n,t,e=!1){if(e)return t;try{return yield t}catch(i){throw i instanceof dr&&AZ(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}}),zC.apply(this,arguments)}function AZ({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class xZ{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(y(function*(){yield e.iteration()}),i)}iteration(){var t=this;return y(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&t.schedule(!0))}t.schedule()})()}}class W1{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=wu(this.lastLoginAt),this.creationTime=wu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Eu(n){return GC.apply(this,arguments)}function GC(){return GC=y(function*(n){var t;const e=n.auth,i=yield n.getIdToken(),r=yield Jr(n,SZ(e,{idToken:i}));R(null==r?void 0:r.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?OZ(s.providerUserInfo):[],a=RZ(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new W1(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),GC.apply(this,arguments)}function WC(){return WC=y(function*(n){const t=zt(n);yield Eu(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}),WC.apply(this,arguments)}function RZ(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function OZ(n){return n.map(t=>{var{providerId:e}=t,i=P1(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function qC(){return qC=y(function*(n,t){const e=yield z1(n,{},y(function*(){const i=cu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=G1(n,r,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$1.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}),qC.apply(this,arguments)}class Du{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){R(t.idToken,"internal-error"),R(void 0!==t.idToken,"internal-error"),R(void 0!==t.refreshToken,"internal-error");const e="expiresIn"in t&&void 0!==t.expiresIn?Number(t.expiresIn):function(n){const t=Xf(n);return R(t,"internal-error"),R(void 0!==t.exp,"internal-error"),R(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}getToken(t,e=!1){var i=this;return y(function*(){return R(!i.accessToken||i.refreshToken,t,"user-token-expired"),e||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(t,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var i=this;return y(function*(){const{accessToken:r,refreshToken:s,expiresIn:o}=yield function(n,t){return qC.apply(this,arguments)}(t,e);i.updateTokensAndExpiration(r,s,Number(o))})()}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:s}=e,o=new Du;return i&&(R("string"==typeof i,"internal-error",{appName:t}),o.refreshToken=i),r&&(R("string"==typeof r,"internal-error",{appName:t}),o.accessToken=r),s&&(R("number"==typeof s,"internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Du,this.toJSON())}_performRefresh(){return pr("not implemented")}}function Os(n,t){R("string"==typeof n||void 0===n,"internal-error",{appName:t})}class Io{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,s=P1(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new xZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.metadata=new W1(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(t){var e=this;return y(function*(){const i=yield Jr(e,e.stsTokenManager.getToken(e.auth,t));return R(i,e.auth,"internal-error"),e.accessToken!==i&&(e.accessToken=i,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),i})()}getIdTokenResult(t){return function(n){return jC.apply(this,arguments)}(this,t)}reload(){return function(n){return WC.apply(this,arguments)}(this)}_assign(t){this!==t&&(R(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new Io(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var i=this;return y(function*(){let r=!1;t.idToken&&t.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(t),r=!0),e&&(yield Eu(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var t=this;return y(function*(){const e=yield t.getIdToken();return yield Jr(t,function(n,t){return BC.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,s,o,a,l,c,u;const d=null!==(i=e.displayName)&&void 0!==i?i:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,f=null!==(s=e.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=e.photoURL)&&void 0!==o?o:void 0,g=null!==(a=e.tenantId)&&void 0!==a?a:void 0,_=null!==(l=e._redirectEventId)&&void 0!==l?l:void 0,E=null!==(c=e.createdAt)&&void 0!==c?c:void 0,v=null!==(u=e.lastLoginAt)&&void 0!==u?u:void 0,{uid:T,emailVerified:P,isAnonymous:te,providerData:$e,stsTokenManager:et}=e;R(T&&et,t,"internal-error");const Dn=Du.fromJSON(this.name,et);R("string"==typeof T,t,"internal-error"),Os(d,t.name),Os(h,t.name),R("boolean"==typeof P,t,"internal-error"),R("boolean"==typeof te,t,"internal-error"),Os(f,t.name),Os(p,t.name),Os(g,t.name),Os(_,t.name),Os(E,t.name),Os(v,t.name);const en=new Io({uid:T,auth:t,email:h,emailVerified:P,displayName:d,isAnonymous:te,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Dn,createdAt:E,lastLoginAt:v});return $e&&Array.isArray($e)&&(en.providerData=$e.map(Sn=>Object.assign({},Sn))),_&&(en._redirectEventId=_),en}static _fromIdTokenResponse(t,e,i=!1){return y(function*(){const r=new Du;r.updateFromServerResponse(e);const s=new Io({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return yield Eu(s),s})()}}const q1=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(e,i){var r=this;return y(function*(){r.storage[e]=i})()}_get(e){var i=this;return y(function*(){const r=i.storage[e];return void 0===r?null:r})()}_remove(e){var i=this;return y(function*(){delete i.storage[e]})()}_addListener(e,i){}_removeListener(e,i){}}return n.type="NONE",n})();function Zf(n,t,e){return`firebase:${n}:${t}:${e}`}class ml{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Zf(this.userKey,r.apiKey,s),this.fullPersistenceKey=Zf("persistence",r.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return y(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?Io._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return y(function*(){if(e.persistence===t)return;const i=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,i?e.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,i="authUser"){return y(function*(){if(!e.length)return new ml(Xr(q1),t,i);const r=(yield Promise.all(e.map(function(){var c=y(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=r[0]||Xr(q1);const o=Zf(i,t.config.apiKey,t.name);let a=null;for(const c of e)try{const u=yield c._get(o);if(u){const d=Io._fromJSON(t,u);c!==s&&(a=d),s=c;break}}catch(u){}const l=r.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(e.map(function(){var c=y(function*(u){if(u!==s)try{yield u._remove(o)}catch(d){}});return function(u){return c.apply(this,arguments)}}())),new ml(s,t,i)):new ml(s,t,i)})()}}function K1(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(X1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Y1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(J1(t))return"Blackberry";if(eN(t))return"Webos";if(KC(t))return"Safari";if((t.includes("chrome/")||Q1(t))&&!t.includes("edge/"))return"Chrome";if(Z1(t))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==i?void 0:i.length))return i[1]}return"Other"}function Y1(n=$t()){return/firefox\//i.test(n)}function KC(n=$t()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Q1(n=$t()){return/crios\//i.test(n)}function X1(n=$t()){return/iemobile/i.test(n)}function Z1(n=$t()){return/android/i.test(n)}function J1(n=$t()){return/blackberry/i.test(n)}function eN(n=$t()){return/webos/i.test(n)}function Jf(n=$t()){return/iphone|ipad|ipod/i.test(n)}function tN(n=$t()){return Jf(n)||Z1(n)||eN(n)||J1(n)||/windows phone/i.test(n)||X1(n)}function nN(n,t=[]){let e;switch(n){case"Browser":e=K1($t());break;case"Worker":e=`${K1($t())}-${n}`;break;default:e=n}return`${e}/JsCore/9.6.1/${t.length?t.join(","):"FirebaseCore-web"}`}class VZ{constructor(t,e){this.app=t,this.config=e,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iN(this),this.idTokenSubscription=new iN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V1,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=e.sdkClientVersion}_initializeWithPersistence(t,e){var i=this;return e&&(this._popupRedirectResolver=Xr(e)),this._initializationPromise=this.queue(y(function*(){var r,s;if(!i._deleted&&(i.persistenceManager=yield ml.create(i,t),!i._deleted)){if(null===(r=i._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch(o){}yield i.initializeCurrentUser(e),i.lastNotifiedUid=(null===(s=i.currentUser)||void 0===s?void 0:s.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return y(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||e){if(t.currentUser&&e&&t.currentUser.uid===e.uid)return t._currentUser._assign(e),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(e)}})()}initializeCurrentUser(t){var e=this;return y(function*(){var i;let r=yield e.assertedPersistence.getCurrentUser();if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const s=null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId,o=null==r?void 0:r._redirectEventId,a=yield e.tryRedirectSignIn(t);(!s||s===o)&&(null==a?void 0:a.user)&&(r=a.user)}return r?r._redirectEventId?(R(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===r._redirectEventId?e.directlySetCurrentUser(r):e.reloadAndSetCurrentUserOrClear(r)):e.reloadAndSetCurrentUserOrClear(r):e.directlySetCurrentUser(null)})()}tryRedirectSignIn(t){var e=this;return y(function*(){let i=null;try{i=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch(r){yield e._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(t){var e=this;return y(function*(){try{yield Eu(t)}catch(i){if("auth/network-request-failed"!==i.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var t=this;return y(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return y(function*(){const i=t?zt(t):null;return i&&R(i.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(i&&i._clone(e))})()}_updateCurrentUser(t){var e=this;return y(function*(){if(!e._deleted)return t&&R(e.tenantId===t.tenantId,e,"tenant-id-mismatch"),e.queue(y(function*(){yield e.directlySetCurrentUser(t),e.notifyAuthListeners()}))})()}signOut(){var t=this;return y(function*(){return(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null)})()}setPersistence(t){var e=this;return this.queue(y(function*(){yield e.assertedPersistence.setPersistence(Xr(t))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new hr("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var i=this;return y(function*(){const r=yield i.getOrInitRedirectPersistenceManager(e);return null===t?r.removeCurrentUser():r.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return y(function*(){if(!e.redirectPersistenceManager){const i=t&&Xr(t)||e._popupRedirectResolver;R(i,e,"argument-error"),e.redirectPersistenceManager=yield ml.create(e,[Xr(i._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return y(function*(){var i,r;return e._isInitialized&&(yield e.queue(y(function*(){}))),(null===(i=e._currentUser)||void 0===i?void 0:i._redirectEventId)===t?e._currentUser:(null===(r=e.redirectUser)||void 0===r?void 0:r._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return y(function*(){if(t===e.currentUser)return e.queue(y(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const s="function"==typeof e?e:e.next.bind(e),o=this._isInitialized?Promise.resolve():this._initializationPromise;return R(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof e?t.addObserver(e,i,r):t.addObserver(e)}directlySetCurrentUser(t){var e=this;return y(function*(){e.currentUser&&e.currentUser!==t&&(e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh()),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=nN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return y(function*(){const e={"X-Client-Version":t.clientVersion};return t.app.options.appId&&(e["X-Firebase-gmpid"]=t.app.options.appId),e})()}}function Nn(n){return zt(n)}class iN{constructor(t){this.auth=t,this.observer=null,this.addObserver=function(n,t){const e=new xK(n,void 0);return e.subscribe.bind(e)}(e=>this.observer=e)}get next(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class oN{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return pr("not implemented")}_getIdTokenResponse(t){return pr("not implemented")}_linkToIdToken(t,e){return pr("not implemented")}_getReauthenticationResolver(t){return pr("not implemented")}}function QC(){return QC=y(function*(n,t){return Wt(n,"POST","/v1/accounts:update",t)}),QC.apply(this,arguments)}function ZC(){return ZC=y(function*(n,t){return Zr(n,"POST","/v1/accounts:signInWithPassword",Ft(n,t))}),ZC.apply(this,arguments)}function rw(){return rw=y(function*(n,t){return Zr(n,"POST","/v1/accounts:signInWithEmailLink",Ft(n,t))}),rw.apply(this,arguments)}function sw(){return sw=y(function*(n,t){return Zr(n,"POST","/v1/accounts:signInWithEmailLink",Ft(n,t))}),sw.apply(this,arguments)}class Su extends oN{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Su(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Su(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t;if((null==e?void 0:e.email)&&(null==e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}_getIdTokenResponse(t){var e=this;return y(function*(){switch(e.signInMethod){case"password":return function(n,t){return ZC.apply(this,arguments)}(t,{returnSecureToken:!0,email:e._email,password:e._password});case"emailLink":return function(n,t){return rw.apply(this,arguments)}(t,{email:e._email,oobCode:e._password});default:Pn(t,"internal-error")}})()}_linkToIdToken(t,e){var i=this;return y(function*(){switch(i.signInMethod){case"password":return function(n,t){return QC.apply(this,arguments)}(t,{idToken:e,returnSecureToken:!0,email:i._email,password:i._password});case"emailLink":return function(n,t){return sw.apply(this,arguments)}(t,{idToken:e,email:i._email,oobCode:i._password});default:Pn(t,"internal-error")}})()}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}function es(n,t){return ow.apply(this,arguments)}function ow(){return ow=y(function*(n,t){return Zr(n,"POST","/v1/accounts:signInWithIdp",Ft(n,t))}),ow.apply(this,arguments)}class Mu{constructor(t){var e,i,r,s,o,a;const l=uu(du(t)),c=null!==(e=l.apiKey)&&void 0!==e?e:null,u=null!==(i=l.oobCode)&&void 0!==i?i:null,d=function(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);R(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(t){const e=function(n){const t=uu(du(n)).link,e=t?uu(du(t)).deep_link_id:null,i=uu(du(n)).deep_link_id;return(i?uu(du(i)).link:null)||i||e||t||n}(t);try{return new Mu(e)}catch(i){return null}}}let cN=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(e,i){return Su._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Mu.parseLink(i);return R(r,"argument-error"),Su._fromEmailAndCode(e,r.code,r.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Ps{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class rJ extends Ps{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class fi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,i,r=!1){return y(function*(){const s=yield Io._fromIdTokenResponse(t,i,r),o=dN(i);return new fi({user:s,providerId:o,_tokenResponse:i,operationType:e})})()}static _forOperation(t,e,i){return y(function*(){yield t._updateTokensIfNecessary(i,!0);const r=dN(i);return new fi({user:t,providerId:r,_tokenResponse:i,operationType:e})})()}}function dN(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class np extends dr{constructor(t,e,i,r){var s;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,np.prototype),this.customData={appName:t.name,tenantId:null!==(s=t.tenantId)&&void 0!==s?s:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new np(t,e,i,r)}}function hN(n,t,e,i){return("reauthenticate"===t?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?np._fromErrorAndOperation(n,s,t,i):s})}function mw(n,t){return gw.apply(this,arguments)}function gw(){return gw=y(function*(n,t,e=!1){const i=yield Jr(n,t._linkToIdToken(n.auth,yield n.getIdToken()),e);return fi._forOperation(n,"link",i)}),gw.apply(this,arguments)}function yw(){return yw=y(function*(n,t,e=!1){const{auth:i}=n,r="reauthenticate";try{const s=yield Jr(n,hN(i,r,t,n),e);R(s.idToken,i,"internal-error");const o=Xf(s.idToken);R(o,i,"internal-error");const{sub:a}=o;return R(n.uid===a,i,"user-mismatch"),fi._forOperation(n,r,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&Pn(i,"user-mismatch"),s}}),yw.apply(this,arguments)}function mN(n,t){return vw.apply(this,arguments)}function vw(){return vw=y(function*(n,t,e=!1){const i="signIn",r=yield hN(n,i,t),s=yield fi._fromIdTokenResponse(n,i,r);return e||(yield n._updateCurrentUser(s.user)),s}),vw.apply(this,arguments)}function Cw(){return Cw=y(function*(n,t){return mN(Nn(n),t)}),Cw.apply(this,arguments)}function dJ(n,t,e){return function(n,t){return Cw.apply(this,arguments)}(zt(n),cN.credential(t,e))}function bJ(n,t,e,i){return zt(n).onAuthStateChanged(t,e,i)}function CJ(n){return zt(n).signOut()}new WeakMap;const sp="__sak";class _N{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(sp,"1"),this.storage.removeItem(sp),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const MJ=(()=>{class n extends _N{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const n=$t();return KC(n)||Jf(n)}()&&function(){try{return!(!window||window===window.top)}catch(n){return!1}}(),this.fallbackToPolling=tN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),s=this.localCache[i];r!==s&&e(i,s,r)}}onStorageEvent(e,i=!1){if(!e.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const r=e.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(e.newValue!==a)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!i)return}const s=()=>{const a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);!function(){const n=$t();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()||10!==document.documentMode||o===e.newValue||e.newValue===e.oldValue?s():setTimeout(s,10)}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,i){var r=()=>super._set,s=this;return y(function*(){yield r().call(s,e,i),s.localCache[e]=JSON.stringify(i)})()}_get(e){var i=()=>super._get,r=this;return y(function*(){const s=yield i().call(r,e);return r.localCache[e]=JSON.stringify(s),s})()}_remove(e){var i=()=>super._remove,r=this;return y(function*(){yield i().call(r,e),delete r.localCache[e]})()}}return n.type="LOCAL",n})(),yN=(()=>{class n extends _N{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}return n.type="SESSION",n})();let xJ=(()=>{class n{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(s=>s.isListeningto(e));if(i)return i;const r=new n(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){var i=this;return y(function*(){const r=e,{eventId:s,eventType:o,data:a}=r.data,l=i.handlersMap[o];if(!(null==l?void 0:l.size))return;r.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(l).map(function(){var d=y(function*(h){return h(r.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function(n){return Promise.all(n.map(function(){var t=y(function*(e){try{return{fulfilled:!0,value:yield e}}catch(i){return{fulfilled:!1,reason:i}}});return function(e){return t.apply(this,arguments)}}()))}(c);r.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(e,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||0===this.handlersMap[e].size)&&delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Kw(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(10*Math.random());return n+e}class kJ{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,i=50){var r=this;return y(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=Kw("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},r.handlers.add(a),s.port1.addEventListener("message",a.onMessage),r.target.postMessage({eventType:t,eventId:u,data:e},[s.port2])}).finally(()=>{a&&r.removeMessageHandler(a)})})()}}function Lt(){return window}function Yw(){return void 0!==Lt().WorkerGlobalScope&&"function"==typeof Lt().importScripts}function Qw(){return(Qw=y(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(n){return null}})).apply(this,arguments)}const vN="firebaseLocalStorageDb",op="firebaseLocalStorage",bN="fbase_key";class xu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function ap(n,t){return n.transaction([op],t?"readwrite":"readonly").objectStore(op)}function Xw(){const n=indexedDB.open(vN,1);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(op,{keyPath:bN})}catch(r){e(r)}}),n.addEventListener("success",y(function*(){const i=n.result;i.objectStoreNames.contains(op)?t(i):(i.close(),yield function(){const n=indexedDB.deleteDatabase(vN);return new xu(n).toPromise()}(),t(yield Xw()))}))})}function CN(n,t,e){return Zw.apply(this,arguments)}function Zw(){return Zw=y(function*(n,t,e){const i=ap(n,!0).put({[bN]:t,value:e});return new xu(i).toPromise()}),Zw.apply(this,arguments)}function Jw(){return Jw=y(function*(n,t){const e=ap(n,!1).get(t),i=yield new xu(e).toPromise();return void 0===i?null:i.value}),Jw.apply(this,arguments)}function wN(n,t){const e=ap(n,!0).delete(t);return new xu(e).toPromise()}const UJ=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return y(function*(){return e.db||(e.db=yield Xw()),e.db})()}_withRetries(e){var i=this;return y(function*(){let r=0;for(;;)try{const s=yield i._openDb();return yield e(s)}catch(s){if(r++>3)throw s;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return y(function*(){return Yw()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return y(function*(){e.receiver=xJ._getInstance(Yw()?self:null),e.receiver._subscribe("keyChanged",function(){var i=y(function*(r,s){return{keyProcessed:(yield e._poll()).includes(s.key)}});return function(r,s){return i.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var i=y(function*(r,s){return["keyChanged"]});return function(r,s){return i.apply(this,arguments)}}())})()}initializeSender(){var e=this;return y(function*(){var i,r;if(e.activeServiceWorker=yield function(){return Qw.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new kJ(e.activeServiceWorker);const s=yield e.sender._send("ping",{},800);!s||(null===(i=s[0])||void 0===i?void 0:i.fulfilled)&&(null===(r=s[0])||void 0===r?void 0:r.value.includes("keyChanged"))&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var i=this;return y(function*(){if(i.sender&&i.activeServiceWorker&&function(){var n;return(null===(n=null==navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:e},i.serviceWorkerReceiverAvailable?800:50)}catch(r){}})()}_isAvailable(){return y(function*(){try{if(!indexedDB)return!1;const e=yield Xw();return yield CN(e,sp,"1"),yield wN(e,sp),!0}catch(e){}return!1})()}_withPendingWrite(e){var i=this;return y(function*(){i.pendingWrites++;try{yield e()}finally{i.pendingWrites--}})()}_set(e,i){var r=this;return y(function*(){return r._withPendingWrite(y(function*(){return yield r._withRetries(s=>CN(s,e,i)),r.localCache[e]=i,r.notifyServiceWorker(e)}))})()}_get(e){var i=this;return y(function*(){const r=yield i._withRetries(s=>function(n,t){return Jw.apply(this,arguments)}(s,e));return i.localCache[e]=r,r})()}_remove(e){var i=this;return y(function*(){return i._withPendingWrite(y(function*(){return yield i._withRetries(r=>wN(r,e)),delete i.localCache[e],i.notifyServiceWorker(e)}))})()}_poll(){var e=this;return y(function*(){const i=yield e._withRetries(o=>{const a=ap(o,!1).getAll();return new xu(a).toPromise()});if(!i)return[];if(0!==e.pendingWrites)return[];const r=[],s=new Set;for(const{fbase_key:o,value:a}of i)s.add(o),JSON.stringify(e.localCache[o])!==JSON.stringify(a)&&(e.notifyListeners(o,a),r.push(o));for(const o of Object.keys(e.localCache))e.localCache[o]&&!s.has(o)&&(e.notifyListeners(o,null),r.push(o));return r})()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(i)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval(y(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function DN(n){return`__${n}${Math.floor(1e6*Math.random())}`}function Ao(n,t){return t?Xr(t):(R(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}DN("rcb"),new Cu(3e4,6e4);class cE extends oN{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return es(t,this._buildIdpRequest())}_linkToIdToken(t,e){return es(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return es(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function ree(n){return mN(n.auth,new cE(n),n.bypassAuthState)}function see(n){const{auth:t,user:e}=n;return R(e,t,"internal-error"),function(n,t){return yw.apply(this,arguments)}(e,new cE(n),n.bypassAuthState)}function oee(n){return uE.apply(this,arguments)}function uE(){return uE=y(function*(n){const{auth:t,user:e}=n;return R(e,t,"internal-error"),mw(e,new cE(n),n.bypassAuthState)}),uE.apply(this,arguments)}new Cu(2e3,1e4);const cp=new Map;class cee extends class{constructor(t,e,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){var t=this;return new Promise(function(){var e=y(function*(i,r){t.pendingPromise={resolve:i,reject:r};try{t.eventManager=yield t.resolver._initialize(t.auth),yield t.onExecution(),t.eventManager.registerConsumer(t)}catch(s){t.reject(s)}});return function(i,r){return e.apply(this,arguments)}}())}onAuthEvent(t){var e=this;return y(function*(){const{urlResponse:i,sessionId:r,postBody:s,tenantId:o,error:a,type:l}=t;if(a)return void e.reject(a);const c={auth:e.auth,requestUri:i,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:e.user,bypassAuthState:e.bypassAuthState};try{e.resolve(yield e.getIdpTask(l)(c))}catch(u){e.reject(u)}})()}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ree;case"linkViaPopup":case"linkViaRedirect":return oee;case"reauthViaPopup":case"reauthViaRedirect":return see;default:Pn(this.auth,"internal-error")}}resolve(t){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}execute(){var t=()=>super.execute,e=this;return y(function*(){let i=cp.get(e.auth._key());if(!i){try{const s=(yield function(n,t){return mE.apply(this,arguments)}(e.resolver,e.auth))?yield t().call(e):null;i=()=>Promise.resolve(s)}catch(r){i=()=>Promise.reject(r)}cp.set(e.auth._key(),i)}return e.bypassAuthState||cp.set(e.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(t){var e=()=>super.onAuthEvent,i=this;return y(function*(){if("signInViaRedirect"===t.type)return e().call(i,t);if("unknown"!==t.type){if(t.eventId){const r=yield i.auth._redirectUserForId(t.eventId);if(r)return i.user=r,e().call(i,t);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return y(function*(){})()}cleanUp(){}}function mE(){return mE=y(function*(n,t){const e=IN(t),i=TN(n);if(!(yield i._isAvailable()))return!1;const r="true"===(yield i._get(e));return yield i._remove(e),r}),mE.apply(this,arguments)}function TN(n){return Xr(n._redirectPersistence)}function IN(n){return Zf("pendingRedirect",n.config.apiKey,n.name)}function MN(n,t){return wE.apply(this,arguments)}function wE(){return wE=y(function*(n,t,e=!1){const i=Nn(n),r=Ao(i,t),o=yield new cee(i,r,e).execute();return o&&!e&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,t)),o}),wE.apply(this,arguments)}class mee{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kN(n);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!kN(t)){const r=(null===(i=t.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";e.onError(fr(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xN(t))}saveEventToCache(t){this.cachedEventUids.add(xN(t)),this.lastProcessedEventTime=Date.now()}}function xN(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function kN({type:n,error:t}){return"unknown"===n&&"auth/no-auth-event"===(null==t?void 0:t.code)}function _ee(n){return DE.apply(this,arguments)}function DE(){return DE=y(function*(n,t={}){return Wt(n,"GET","/v1/projects",t)}),DE.apply(this,arguments)}const yee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vee=/^https?/;function SE(){return SE=y(function*(n){if(n.config.emulator)return;const{authorizedDomains:t}=yield _ee(n);for(const e of t)try{if(Cee(e))return}catch(i){}Pn(n,"unauthorized-domain")}),SE.apply(this,arguments)}function Cee(n){const t=bu(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===i?"chrome-extension:"===e&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===e&&o.hostname===i}if(!vee.test(e))return!1;if(yee.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const wee=new Cu(3e4,6e4);function RN(){const n=Lt().___jsl;if(null==n?void 0:n.H)for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}let up=null;function Dee(n){return up=up||function(n){return new Promise((t,e)=>{var i,r,s;function o(){RN(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{RN(),e(fr(n,"network-request-failed"))},timeout:wee.get()})}if(null===(r=null===(i=Lt().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Lt().gapi)||void 0===s?void 0:s.load)){const a=DN("iframefcb");return Lt()[a]=()=>{gapi.load?o():e(fr(n,"network-request-failed"))},function(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const s=fr("internal-error");s.customData=r,e(s)},i.type="text/javascript",i.charset="UTF-8",function(){var n,t;return null!==(t=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==t?t:document}().appendChild(i)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>e(l))}o()}}).catch(t=>{throw up=null,t})}(n),up}const See=new Cu(5e3,15e3),Mee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Aee=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xee(n){const t=n.config;R(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?NC(t,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,i={apiKey:t.apiKey,appName:n.name,v:al},r=Aee.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${e}?${cu(i).slice(1)}`}function TE(){return TE=y(function*(n){const t=yield Dee(n),e=Lt().gapi;return R(e,n,"internal-error"),t.open({where:document.body,url:xee(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mee,dontclear:!0},i=>new Promise(function(){var r=y(function*(s,o){yield i.restyle({setHideOnLeave:!1});const a=fr(n,"network-request-failed"),l=Lt().setTimeout(()=>{o(a)},See.get());function c(){Lt().clearTimeout(l),s(i)}i.ping(c).then(c,()=>{o(a)})});return function(s,o){return r.apply(this,arguments)}}()))}),TE.apply(this,arguments)}const Ree={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ON{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function PN(n,t,e,i,r,s){R(n.config.authDomain,n,"auth-domain-config-required"),R(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:al,eventId:r};if(t instanceof Ps){t.setDefaultLanguage(n.languageCode),o.providerId=t.providerId||"",Av(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[l,c]of Object.entries(s||{}))o[l]=c}if(t instanceof rJ){const l=t.getScopes().filter(c=>""!==c);l.length>0&&(o.scopes=l.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];return`${function({config:n}){return n.emulator?NC(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${cu(a).slice(1)}`}const IE="webStorageSupport",$ee=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yN,this._completeRedirectFn=MN}_openPopup(t,e,i,r){var s=this;return y(function*(){var o;Rs(null===(o=s.eventManagers[t._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=PN(t,e,i,bu(),r);return function(n,t,e,i=500,r=600){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Ree),{width:i.toString(),height:r.toString(),top:s,left:o}),c=$t().toLowerCase();e&&(a=Q1(c)?"_blank":e),Y1(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function(n=$t()){var t;return Jf(n)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==a)return function(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}(t||"",a),new ON(null);const d=window.open(t||"",a,u);R(d,n,"popup-blocked");try{d.focus()}catch(h){}return new ON(d)}(t,a,Kw())})()}_openRedirect(t,e,i,r){var s=this;return y(function*(){return yield s._originValidation(t),function(n){Lt().location.href=n}(PN(t,e,i,bu(),r)),new Promise(()=>{})})()}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:s}=this.eventManagers[e];return r?Promise.resolve(r):(Rs(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}initAndGetManager(t){var e=this;return y(function*(){const i=yield function(n){return TE.apply(this,arguments)}(t),r=new mee(t);return i.register("authEvent",s=>(R(null==s?void 0:s.authEvent,t,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),e.eventManagers[t._key()]={manager:r},e.iframes[t._key()]=i,r})()}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(IE,{type:IE},r=>{var s;const o=null===(s=null==r?void 0:r[0])||void 0===s?void 0:s[IE];void 0!==o&&e(!!o),Pn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=function(n){return SE.apply(this,arguments)}(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return tN()||KC()||Jf()}};var FN="@firebase/auth";class zee{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return y(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{var r;t((null===(r=i)||void 0===r?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);!e||(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function qee(n=fu()){const t=ks(n,"auth");return t.isInitialized()?t.getImmediate():function(n,t){const e=ks(n,"auth");if(e.isInitialized()){const r=e.getImmediate();if(Tf(e.getOptions(),null!=t?t:{}))return r;Pn(r,"already-initialized")}return e.initialize({options:t})}(n,{popupRedirectResolver:$ee,persistence:[UJ,MJ,yN]})}function VN(n){return new Te(function(t){var e=function(n,t,e,i){return zt(n).onIdTokenChanged(t,e,i)}(n,t.next.bind(t),t.error.bind(t),t.complete.bind(t));return{unsubscribe:e}})}!function(n){kn(new yn("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),{apiKey:r,authDomain:s}=i.options;return(o=>{R(r&&!r.includes(":"),"invalid-api-key",{appName:o.name}),R(!(null==s?void 0:s.includes(":")),"argument-error",{appName:o.name});const a={apiKey:r,authDomain:s,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nN(n)},l=new VZ(o,a);return function(n,t){const e=(null==t?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(Xr);(null==t?void 0:t.errorMap)&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,null==t?void 0:t.popupRedirectResolver)}(l,e),l})(i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),kn(new yn("auth-internal",t=>{const e=Nn(t.getProvider("auth").getImmediate());return new zee(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ct(FN,"0.19.4",void 0),ct(FN,"0.19.4","esm2017")}("Browser");class ts{constructor(t){return t}}class HN{constructor(){return hC("auth")}}const ME=new I("angularfire2.auth-instances");function Yee(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new ts(i)}}const Qee={provide:HN,deps:[[new nt,ME]]},Xee={provide:ts,useFactory:function(n,t){const e=dC("auth",n,t);return e&&new ts(e)},deps:[[new nt,ME],fl]};let UN=(()=>{class n{constructor(){ct("angularfire",_u.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({providers:[Xee,Qee]}),n})();function Zee(n,...t){return{ngModule:UN,providers:[{provide:ME,useFactory:Yee(n),multi:!0,deps:[K,He,Bf,Hf,[new nt,xC],...t]}]}}const Jee=On(VN,!0),jN=On(qee,!0),tte=On(TZ,!0),nte=On(bJ,!0),ite=On(dJ,!0),rte=On(CJ,!0),$N="@firebase/database";let AE="";class ote{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Nt(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:lu(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class ate{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return qr(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const GN=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ote(t)}}catch(t){}return new ate},xo=GN("localStorage"),xE=GN("sessionStorage"),gl=new ol("@firebase/database"),WN=function(){let n=1;return function(){return n++}}(),qN=function(n){const t=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,M(i<n.length,"Surrogate pair missing trail surrogate."),r=65536+(s<<10)+(n.charCodeAt(i)-56320)}r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=63&r|128):r<65536?(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=63&r|128):(t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=63&r|128)}return t}(n),e=new MK;e.update(t);const i=e.digest();return wf.encodeByteArray(i)},ku=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=ku.apply(null,i):t+="object"==typeof i?Nt(i):i,t+=" "}return t};let ko=null,KN=!0;const qt=function(...n){if(!0===KN&&(KN=!1,null===ko&&!0===xE.get("logging_enabled")&&function(n,t){M(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(gl.logLevel=Ve.VERBOSE,ko=gl.log.bind(gl),t&&xE.set("logging_enabled",!0)):"function"==typeof n?ko=n:(ko=null,xE.remove("logging_enabled"))}(!0)),ko){const t=ku.apply(null,n);ko(t)}},Ru=function(n){return function(...t){qt(n,...t)}},kE=function(...n){const t="FIREBASE INTERNAL ERROR: "+ku(...n);gl.error(t)},mr=function(...n){const t=`FIREBASE FATAL ERROR: ${ku(...n)}`;throw gl.error(t),new Error(t)},bn=function(...n){const t="FIREBASE WARNING: "+ku(...n);gl.warn(t)},dp=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},ns="[MIN_NAME]",gr="[MAX_NAME]",Ro=function(n,t){if(n===t)return 0;if(n===ns||t===gr)return-1;if(t===ns||n===gr)return 1;{const e=hp(n),i=hp(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},ute=function(n,t){return n===t?0:n<t?-1:1},Ou=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+Nt(t))},RE=function(n){if("object"!=typeof n||null===n)return Nt(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=Nt(t[i]),e+=":",e+=RE(n[t[i]]);return e+="}",e},QN=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Kt(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const XN=function(n){M(!dp(n),"Invalid JSON number");const i=1023;let r,s,o,a,l;0===n?(s=0,o=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=a+i,o=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(r?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},pte=new RegExp("^-?(0*)\\d{1,10}$"),hp=function(n){if(pte.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},_l=function(n){try{n()}catch(t){setTimeout(()=>{throw bn("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Pu=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class gte{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){bn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class _te{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(qt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bn(t)}}let Nu=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const iF=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,sF="websocket",oF="long_polling";class NE{constructor(t,e,i,r,s=!1,o="",a=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xo.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&xo.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function aF(n,t,e){let i;if(M("string"==typeof t,"typeof type must == string"),M("object"==typeof e,"typeof params must == object"),t===sF)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==oF)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Kt(e,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}class bte{constructor(){this.counters_={}}incrementCounter(t,e=1){qr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return _K(this.counters_)}}const FE={},LE={};function VE(n){const t=n.toString();return FE[t]||(FE[t]=new bte),FE[t]}class wte{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&_l(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class yl{constructor(t,e,i,r,s,o,a){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ru(t),this.stats_=VE(e),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),aF(e,oF,l))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new wte(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new BE((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&iF.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){yl.forceAllow_=!0}static forceDisallow(){yl.forceDisallow_=!0}static isAvailable(){return!(!yl.forceAllow_&&(yl.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=Nt(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=iP(e),r=QN(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=Nt(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class BE{constructor(t,e,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=WN(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=BE.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){qt("frame writing exception"),a.stack&&qt(a.stack),qt(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||qt("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const o=this.pendingSegs.shift();i=i+"&seg"+r+"="+o.seg+"&ts"+r+"="+o.ts+"&d"+r+"="+o.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{qt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let Fu=null;"undefined"!=typeof MozWebSocket?Fu=MozWebSocket:"undefined"!=typeof WebSocket&&(Fu=WebSocket);let Lu=(()=>{class n{constructor(e,i,r,s,o,a,l){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ru(this.connId),this.stats_=VE(i),this.connURL=n.connectionURL_(i,a,l,s),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s){const o={v:"5"};return"undefined"!=typeof location&&location.hostname&&iF.test(location.hostname)&&(o.r="f"),i&&(o.s=i),r&&(o.ls=r),s&&(o.ac=s),aF(e,sF,o)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xo.set("previous_websocket_failure",!0);try{this.mySock=new Fu(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==Fu&&!n.forceDisallow_}static previouslyFailed(){return xo.isInMemoryStorage||!0===xo.get("previous_websocket_failure")}markConnectionHealthy(){xo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=lu(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(M(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=Nt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=QN(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class HE{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[yl,Lu]}initTransports_(t){const e=Lu&&Lu.isAvailable();let i=e&&!Lu.previouslyFailed();if(t.webSocketOnly&&(e||bn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Lu];else{const r=this.transports_=[];for(const s of HE.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class bF{constructor(t,e,i,r,s,o,a,l,c,u){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ru("c:"+this.id+":"),this.transportManager_=new HE(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Pu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Ou("t",t),i=Ou("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Ou("t",t),i=Ou("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Ou("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?kE("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):kE("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&bn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Pu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Pu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class CF{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class wF{constructor(t){this.allowedEvents_=t,this.listeners_={},M(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){M(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class pp extends wF{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!Tv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new pp}getInitialEvent(t){return M("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Be{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Oe(){return new Be("")}function fe(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ns(n){return n.pieces_.length-n.pieceNum_}function We(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Be(n.pieces_,t)}function jE(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Vu(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function SF(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Be(t,0)}function ot(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Be)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Be(e,0)}function pe(n){return n.pieceNum_>=n.pieces_.length}function Cn(n,t){const e=fe(n),i=fe(t);if(null===e)return t;if(e===i)return Cn(We(n),We(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function $E(n,t){if(Ns(n)!==Ns(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function pi(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Ns(n)>Ns(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class Gte{constructor(t,e){this.errorPrefix_=e,this.parts_=Vu(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=If(this.parts_[i]);TF(this)}}function TF(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Oo(n))}function Oo(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class zE extends wF{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new zE}getInitialEvent(t){return M("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Bu=1e3;let gp,Po=(()=>{class n extends CF{constructor(e,i,r,s,o,a,l,c){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=n.nextPersistentConnectionId_++,this.log_=Ru("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Bu,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zE.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&pp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,o={r:s,a:e,b:i};this.log_(Nt(o)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new xs,r={p:e._path.toString(),q:e._queryObject},s={action:"g",request:r,onComplete:a=>{const l=a.d;"ok"===a.s?(this.onDataUpdate_(r.p,l,!1,null),i.resolve(l)):i.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const a=this.outstandingGets_[o];void 0===a||s!==a||(delete this.outstandingGets_[o],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+o+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(o),i.promise}listen(e,i,r,s){this.initConnection_();const o=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),M(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r};e.tag&&(o.q=i._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,l=>{const c=l.d,u=l.s;n.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(r,s),e.onComplete&&e.onComplete(u,c))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&qr(e,"w")){const r=rl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',o=i._path.toString();bn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(n){const t=Df(n).claims;return"object"==typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=function(n){const e=Df(n).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")}(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const o=s.s,a=s.d||"error";this.authToken_===e&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),M(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const o={p:e};s&&(o.q=r,o.t=s),this.sendRequest("n",o)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const o={p:i,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,o){this.initConnection_();const a={p:i,d:r};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:e,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,o=>{this.log_(i+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Nt(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):kE("Unrecognized action received from server: "+Nt(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Bu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Bu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Bu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return y(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),o=e.id+":"+n.nextConnectionId_++,a=e.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,s())};e.realtime_={close:u,sendRequest:function(f){M(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([e.authTokenProvider_.getToken(h),e.appCheckTokenProvider_.getToken(h)]);l?qt("getToken() completed but was canceled"):(qt("getToken() completed. Creating connection."),e.authToken_=f&&f.accessToken,e.appCheckToken_=p&&p.token,c=new bF(o,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,g=>{bn(g+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},a))}catch(f){e.log_("Failed to get token: "+f),l||(e.repoInfo_.nodeAdmin&&bn(f),u())}}})()}interrupt(e){qt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){qt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Av(this.interruptReasons_)&&(this.reconnectDelay_=Bu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(o=>RE(o)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new Be(e).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(i),o.delete(i),0===o.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){qt("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){qt("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+AE.replace(/\./g,"-")]=1,Tv()?e["framework.cordova"]=1:oP()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=pp.getInstance().currentlyOnline();return Av(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class be{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new be(t,e)}}class mp{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new be(ns,t),r=new be(ns,e);return 0!==this.compare(i,r)}minPost(){return be.MIN}}class AF extends mp{static get __EMPTY_NODE(){return gp}static set __EMPTY_NODE(t){gp=t}compare(t,e){return Ro(t.name,e.name)}isDefinedOn(t){throw il("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return be.MIN}maxPost(){return new be(gr,gp)}makePost(t,e){return M("string"==typeof t,"KeyIndex indexValue must always be a string."),new be(t,gp)}toString(){return".key"}}const _r=new AF;class _p{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=e?i(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let WE,Bi=(()=>{class n{constructor(e,i,r,s,o){this.key=e,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=s?s:Fn.EMPTY_NODE,this.right=null!=o?o:Fn.EMPTY_NODE}copy(e,i,r,s,o){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=o?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===o?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Fn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Fn.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Fn{constructor(t,e=Fn.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Fn(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Bi.BLACK,null,null))}remove(t){return new Fn(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Bi.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new _p(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new _p(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new _p(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new _p(this.root_,null,this.comparator_,!0,t)}}function ene(n,t){return Ro(n.name,t.name)}function GE(n,t){return Ro(n,t)}Fn.EMPTY_NODE=new class{copy(t,e,i,r,s){return this}insert(t,e,i){return new Bi(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const xF=function(n){return"number"==typeof n?"number:"+XN(n):"string:"+n},kF=function(n){if(n.isLeafNode()){const t=n.val();M("string"==typeof t||"number"==typeof t||"object"==typeof t&&qr(t,".sv"),"Priority must be a string or number.")}else M(n===WE||n.isEmpty(),"priority of unexpected type.");M(n===WE||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let RF,OF,PF,vl=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,M(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),kF(this.priorityNode_)}static set __childrenNodeConstructor(e){RF=e}static get __childrenNodeConstructor(){return RF}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return pe(e)?this:".priority"===fe(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=fe(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:(M(".priority"!==r||1===Ns(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(We(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+xF(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?XN(this.value_):this.value_,this.lazyHash_=qN(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:(M(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),o=n.VALUE_TYPE_ORDER.indexOf(r);return M(s>=0,"Unknown leaf type: "+i),M(o>=0,"Unknown leaf type: "+r),s===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Xe=new class extends mp{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?Ro(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return be.MIN}maxPost(){return new be(gr,new vl("[PRIORITY-POST]",PF))}makePost(t,e){const i=OF(t);return new be(e,new vl("[PRIORITY-POST]",i))}toString(){return".priority"}},sne=Math.log(2);class one{constructor(t){this.count=parseInt(Math.log(t+1)/sne,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const yp=function(n,t,e,i){n.sort(t);const r=function(l,c){const u=c-l;let d,h;if(0===u)return null;if(1===u)return d=n[l],h=e?e(d):d,new Bi(h,d.node,Bi.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=r(l,f),g=r(f+1,c);return d=n[f],h=e?e(d):d,new Bi(h,d.node,Bi.BLACK,p,g)}},a=function(l){let c=null,u=null,d=n.length;const h=function(p,g){const _=d-p,E=d;d-=p;const v=r(_+1,E),T=n[_],P=e?e(T):T;f(new Bi(P,T.node,g,null,v))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),_=Math.pow(2,l.count-(p+1));g?h(_,Bi.BLACK):(h(_,Bi.BLACK),h(_,Bi.RED))}return u}(new one(n.length));return new Fn(i||t,a)};let qE;const bl={};class is{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return M(bl&&Xe,"ChildrenNode.ts has not been loaded"),qE=qE||new is({".priority":bl},{".priority":Xe}),qE}get(t){const e=rl(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Fn?e:null}hasIndex(t){return qr(this.indexSet_,t.toString())}addIndex(t,e){M(t!==_r,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(be.Wrap);let a,o=s.getNext();for(;o;)r=r||t.isDefinedOn(o.node),i.push(o),o=s.getNext();a=r?yp(i,t.getCompare()):bl;const l=t.toString(),c=Object.assign({},this.indexSet_);c[l]=t;const u=Object.assign({},this.indexes_);return u[l]=a,new is(u,c)}addToIndexes(t,e){const i=Sf(this.indexes_,(r,s)=>{const o=rl(this.indexSet_,s);if(M(o,"Missing index implementation for "+s),r===bl){if(o.isDefinedOn(t.node)){const a=[],l=e.getIterator(be.Wrap);let c=l.getNext();for(;c;)c.name!==t.name&&a.push(c),c=l.getNext();return a.push(t),yp(a,o.getCompare())}return bl}{const a=e.get(t.name);let l=r;return a&&(l=l.remove(new be(t.name,a))),l.insert(t,t.node)}});return new is(i,this.indexSet_)}removeFromIndexes(t,e){const i=Sf(this.indexes_,r=>{if(r===bl)return r;{const s=e.get(t.name);return s?r.remove(new be(t.name,s)):r}});return new is(i,this.indexSet_)}}let Hu,oe=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&kF(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Hu||(Hu=new n(new Fn(GE),null,is.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hu}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?Hu:i}}getChild(e){const i=fe(e);return null===i?this:this.getImmediateChild(i).getChild(We(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if(M(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new be(e,i);let s,o;i.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),o=this.indexMap_.addToIndexes(r,this.children_));const a=s.isEmpty()?Hu:this.priorityNode_;return new n(s,a,o)}}updateChild(e,i){const r=fe(e);if(null===r)return i;{M(".priority"!==fe(e)||1===Ns(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(We(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,o=!0;if(this.forEachChild(Xe,(a,l)=>{i[a]=l.val(e),r++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!e&&o&&s<2*r){const a=[];for(const l in i)a[l]=i[l];return a}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+xF(this.getPriority().val())+":"),this.forEachChild(Xe,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":qN(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new be(e,i));return o?o.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new be(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new be(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,be.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,be.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Uu?-1:0}withIndex(e){if(e===_r||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===_r||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Xe),s=i.getIterator(Xe);let o=r.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(e){return e===_r?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Uu=new class extends oe{constructor(){super(new Fn(GE),oe.EMPTY_NODE,is.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return oe.EMPTY_NODE}isEmpty(){return!1}};function ut(n,t=null){if(null===n)return oe.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),M(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new vl(n,ut(t));if(n instanceof Array){let e=oe.EMPTY_NODE;return Kt(n,(i,r)=>{if(qr(n,i)&&"."!==i.substring(0,1)){const s=ut(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(ut(t))}{const e=[];let i=!1;if(Kt(n,(o,a)=>{if("."!==o.substring(0,1)){const l=ut(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),e.push(new be(o,l)))}}),0===e.length)return oe.EMPTY_NODE;const s=yp(e,ene,o=>o.name,GE);if(i){const o=yp(e,Xe.getCompare());return new oe(s,ut(t),new is({".priority":o},{".priority":Xe}))}return new oe(s,ut(t),is.Default)}}Object.defineProperties(be,{MIN:{value:new be(ns,oe.EMPTY_NODE)},MAX:{value:new be(gr,Uu)}}),AF.__EMPTY_NODE=oe.EMPTY_NODE,vl.__childrenNodeConstructor=oe,function(n){WE=n}(Uu),function(n){PF=n}(Uu),function(n){OF=n}(ut);class KE extends mp{constructor(t){super(),this.indexPath_=t,M(!pe(t)&&".priority"!==fe(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?Ro(t.name,e.name):s}makePost(t,e){const i=ut(t),r=oe.EMPTY_NODE.updateChild(this.indexPath_,i);return new be(e,r)}maxPost(){const t=oe.EMPTY_NODE.updateChild(this.indexPath_,Uu);return new be(gr,t)}toString(){return Vu(this.indexPath_,0).join("/")}}const YE=new class extends mp{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Ro(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return be.MIN}maxPost(){return be.MAX}makePost(t,e){const i=ut(t);return new be(e,i)}toString(){return".value"}};function BF(n){return{type:"value",snapshotNode:n}}function wl(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function ju(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function $u(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class XE{constructor(t){this.index_=t}updateChild(t,e,i,r,s,o){M(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(e);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(null!=o&&(i.isEmpty()?t.hasChild(e)?o.trackChildChange(ju(e,a)):M(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(wl(e,i)):o.trackChildChange($u(e,i,a))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Xe,(r,s)=>{e.hasChild(r)||i.trackChildChange(ju(r,s))}),e.isLeafNode()||e.forEachChild(Xe,(r,s)=>{if(t.hasChild(r)){const o=t.getImmediateChild(r);o.equals(s)||i.trackChildChange($u(r,s,o))}else i.trackChildChange(wl(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?oe.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class zu{constructor(t){this.indexedFilter_=new XE(t.getIndex()),this.index_=t.getIndex(),this.startPost_=zu.getStartPost_(t),this.endPost_=zu.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,s,o){return this.matches(new be(e,i))||(i=oe.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,o)}updateFullNode(t,e,i){e.isLeafNode()&&(e=oe.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(oe.EMPTY_NODE);const s=this;return e.forEachChild(Xe,(o,a)=>{s.matches(new be(o,a))||(r=r.updateImmediateChild(o,oe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class hne{constructor(t){this.rangedFilter_=new zu(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,s,o){return this.rangedFilter_.matches(new be(e,i))||(i=oe.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,o):this.fullLimitUpdateChild_(t,e,i,s,o)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=oe.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=oe.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();let l;if(l=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0,!l)break;r=r.updateImmediateChild(a.name,a.node),o++}}else{let s,o,a,l;if(r=e.withIndex(this.index_),r=r.updatePriority(oe.EMPTY_NODE),this.reverse_){l=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),o=this.rangedFilter_.getStartPost();const d=this.index_.getCompare();a=(h,f)=>d(f,h)}else l=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),o=this.rangedFilter_.getEndPost(),a=this.index_.getCompare();let c=0,u=!1;for(;l.hasNext();){const d=l.getNext();!u&&a(s,d)<=0&&(u=!0),u&&c<this.limit_&&a(d,o)<=0?c++:r=r.updateImmediateChild(d.name,oe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();const a=t;M(a.numChildren()===this.limit_,"");const l=new be(e,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(e)){const d=a.getImmediateChild(e);let h=r.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=h&&(h.name===e||a.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);const f=null==h?1:o(h,l);if(u&&!i.isEmpty()&&f>=0)return null!=s&&s.trackChildChange($u(e,i,d)),a.updateImmediateChild(e,i);{null!=s&&s.trackChildChange(ju(e,d));const g=a.updateImmediateChild(e,oe.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=s&&s.trackChildChange(wl(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}return i.isEmpty()?t:u&&o(c,l)>=0?(null!=s&&(s.trackChildChange(ju(c.name,c.node)),s.trackChildChange(wl(e,i))),a.updateImmediateChild(e,i).updateImmediateChild(c.name,oe.EMPTY_NODE)):t}}class ZE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xe}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ns}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Xe}copy(){const t=new ZE;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function HF(n){const t={};if(n.isDefault())return t;let e;return n.index_===Xe?e="$priority":n.index_===YE?e="$value":n.index_===_r?e="$key":(M(n.index_ instanceof KE,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=Nt(e),n.startSet_&&(t.startAt=Nt(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+Nt(n.indexStartName_))),n.endSet_&&(t.endAt=Nt(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+Nt(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function UF(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Xe&&(t.i=n.index_.toString()),t}class bp extends CF{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Ru("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:(M(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=bp.getListenId_(t,i),a={};this.listens_[o]=a;const l=HF(t._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(s,d,!1,i),rl(this.listens_,o)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",r(h,null)}})}unlisten(t,e){const i=bp.getListenId_(t,e);delete this.listens_[i]}get(t){const e=HF(t._queryParams),i=t._path.toString(),r=new xs;return this.restRequest_(i+".json",e,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+cu(e);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=lu(a.responseText)}catch(c){bn("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else 401!==a.status&&404!==a.status&&bn("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}class yne{constructor(){this.rootNode_=oe.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Cp(){return{value:null,children:new Map}}function El(n,t,e){if(pe(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=fe(t);n.children.has(i)||n.children.set(i,Cp()),El(n.children.get(i),t=We(t),e)}}function n0(n,t,e){null!==n.value?e(t,n.value):function(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{n0(r,new Be(t.toString()+"/"+i),e)})}class bne{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Kt(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class Ene{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new bne(t);const i=1e4+2e4*Math.random();Pu(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Kt(t,(r,s)=>{s>0&&qr(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),Pu(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var mi=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(mi||(mi={})),mi))();function o0(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class wp{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=mi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(pe(this.path)){if(null!=this.affectedTree.value)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Be(t));return new wp(Oe(),e,this.revert)}}return M(fe(this.path)===t,"operationForChild called for unrelated child."),new wp(We(this.path),this.affectedTree,this.revert)}}class Gu{constructor(t,e){this.source=t,this.path=e,this.type=mi.LISTEN_COMPLETE}operationForChild(t){return pe(this.path)?new Gu(this.source,Oe()):new Gu(this.source,We(this.path))}}class No{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=mi.OVERWRITE}operationForChild(t){return pe(this.path)?new No(this.source,Oe(),this.snap.getImmediateChild(t)):new No(this.source,We(this.path),this.snap)}}class Dl{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=mi.MERGE}operationForChild(t){if(pe(this.path)){const e=this.children.subtree(new Be(t));return e.isEmpty()?null:e.value?new No(this.source,Oe(),e.value):new Dl(this.source,Oe(),e)}return M(fe(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Dl(this.source,We(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Fs{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(pe(t))return this.isFullyInitialized()&&!this.filtered_;const e=fe(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Dne{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Wu(n,t,e,i,r,s){const o=i.filter(a=>a.type===e);o.sort((a,l)=>function(n,t,e){if(null==t.childName||null==e.childName)throw il("Should only compare child_ events.");const i=new be(t.childName,t.snapshotNode),r=new be(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,a,l)),o.forEach(a=>{const l=function(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,a,s);r.forEach(c=>{c.respondsTo(a.type)&&t.push(c.createEvent(l,n.query_))})})}function Ep(n,t){return{eventCache:n,serverCache:t}}function qu(n,t,e,i){return Ep(new Fs(t,e,i),n.serverCache)}function $F(n,t,e,i){return Ep(n.eventCache,new Fs(t,e,i))}function Dp(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Fo(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let a0;class Ze{constructor(t,e=(()=>(a0||(a0=new Fn(ute)),a0))()){this.value=t,this.children=e}static fromObject(t){let e=new Ze(null);return Kt(t,(i,r)=>{e=e.set(new Be(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Oe(),value:this.value};if(pe(t))return null;{const i=fe(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(We(t),e);return null!=s?{path:ot(new Be(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(pe(t))return this;{const e=fe(t),i=this.children.get(e);return null!==i?i.subtree(We(t)):new Ze(null)}}set(t,e){if(pe(t))return new Ze(e,this.children);{const i=fe(t),s=(this.children.get(i)||new Ze(null)).set(We(t),e),o=this.children.insert(i,s);return new Ze(this.value,o)}}remove(t){if(pe(t))return this.children.isEmpty()?new Ze(null):new Ze(null,this.children);{const e=fe(t),i=this.children.get(e);if(i){const r=i.remove(We(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new Ze(null):new Ze(this.value,s)}return this}}get(t){if(pe(t))return this.value;{const e=fe(t),i=this.children.get(e);return i?i.get(We(t)):null}}setTree(t,e){if(pe(t))return e;{const i=fe(t),s=(this.children.get(i)||new Ze(null)).setTree(We(t),e);let o;return o=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Ze(this.value,o)}}fold(t){return this.fold_(Oe(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(ot(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Oe(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(pe(t))return null;{const s=fe(t),o=this.children.get(s);return o?o.findOnPath_(We(t),ot(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Oe(),e)}foreachOnPath_(t,e,i){if(pe(t))return this;{this.value&&i(e,this.value);const r=fe(t),s=this.children.get(r);return s?s.foreachOnPath_(We(t),ot(e,r),i):new Ze(null)}}foreach(t){this.foreach_(Oe(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(ot(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Hi{constructor(t){this.writeTree_=t}static empty(){return new Hi(new Ze(null))}}function Ku(n,t,e){if(pe(t))return new Hi(new Ze(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const o=Cn(r,t);return s=s.updateChild(o,e),new Hi(n.writeTree_.set(r,s))}{const r=new Ze(e),s=n.writeTree_.setTree(t,r);return new Hi(s)}}}function l0(n,t,e){let i=n;return Kt(e,(r,s)=>{i=Ku(i,ot(t,r),s)}),i}function zF(n,t){if(pe(t))return Hi.empty();{const e=n.writeTree_.setTree(t,new Ze(null));return new Hi(e)}}function c0(n,t){return null!=Lo(n,t)}function Lo(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Cn(e.path,t)):null}function GF(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Xe,(i,r)=>{t.push(new be(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new be(i,r.value))}),t}function Ls(n,t){if(pe(t))return n;{const e=Lo(n,t);return new Hi(null!=e?new Ze(e):n.writeTree_.subtree(t))}}function u0(n){return n.writeTree_.isEmpty()}function Sl(n,t){return WF(Oe(),n.writeTree_,t)}function WF(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?(M(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=WF(ot(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(ot(n,".priority"),i)),e}}function Sp(n,t){return XF(t,n)}function One(n,t){if(n.snap)return pi(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&pi(ot(n.path,e),t))return!0;return!1}function Nne(n){return n.visible}function qF(n,t,e){let i=Hi.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const o=s.path;let a;if(s.snap)pi(e,o)?(a=Cn(e,o),i=Ku(i,a,s.snap)):pi(o,e)&&(a=Cn(o,e),i=Ku(i,Oe(),s.snap.getChild(a)));else{if(!s.children)throw il("WriteRecord should have .snap or .children");if(pi(e,o))a=Cn(e,o),i=l0(i,a,s.children);else if(pi(o,e))if(a=Cn(o,e),pe(a))i=l0(i,Oe(),s.children);else{const l=rl(s.children,fe(a));if(l){const c=l.getChild(We(a));i=Ku(i,Oe(),c)}}}}}return i}function KF(n,t,e,i,r){if(i||r){const s=Ls(n.visibleWrites,t);return!r&&u0(s)?e:r||null!=e||c0(s,Oe())?Sl(qF(n.allWrites,function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(pi(c.path,t)||pi(t,c.path))},t),e||oe.EMPTY_NODE):null}{const s=Lo(n.visibleWrites,t);if(null!=s)return s;{const o=Ls(n.visibleWrites,t);return u0(o)?e:null!=e||c0(o,Oe())?Sl(o,e||oe.EMPTY_NODE):null}}}function Tp(n,t,e,i){return KF(n.writeTree,n.treePath,t,e,i)}function d0(n,t){return function(n,t,e){let i=oe.EMPTY_NODE;const r=Lo(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Xe,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(e){const s=Ls(n.visibleWrites,t);return e.forEachChild(Xe,(o,a)=>{const l=Sl(Ls(s,new Be(o)),a);i=i.updateImmediateChild(o,l)}),GF(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}return GF(Ls(n.visibleWrites,t)).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}(n.writeTree,n.treePath,t)}function YF(n,t,e,i){return function(n,t,e,i,r){M(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=ot(t,e);if(c0(n.visibleWrites,s))return null;{const o=Ls(n.visibleWrites,s);return u0(o)?r.getChild(e):Sl(o,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function Ip(n,t){return function(n,t){return Lo(n.visibleWrites,t)}(n.writeTree,ot(n.treePath,t))}function h0(n,t,e){return function(n,t,e,i){const r=ot(t,e),s=Lo(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?Sl(Ls(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function QF(n,t){return XF(ot(n.treePath,t),n.writeTree)}function XF(n,t){return{treePath:n,writeTree:t}}class $ne{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;M("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),M(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,$u(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,ju(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,wl(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw il("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,$u(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const ZF=new class{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class f0{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Fs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return h0(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Fo(this.viewCache_),s=function(n,t,e,i,r,s){return function(n,t,e,i,r,s,o){let a;const l=Ls(n.visibleWrites,t),c=Lo(l,Oe());if(null!=c)a=c;else{if(null==e)return[];a=Sl(l,e)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let f=h.getNext();for(;f&&u.length<r;)0!==d(f,i)&&u.push(f),f=h.getNext();return u}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function JF(n,t,e,i,r,s){const o=t.eventCache;if(null!=Ip(i,e))return t;{let a,l;if(pe(e))if(M(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const c=Fo(t),d=d0(i,c instanceof oe?c:oe.EMPTY_NODE);a=n.filter.updateFullNode(t.eventCache.getNode(),d,s)}else{const c=Tp(i,Fo(t));a=n.filter.updateFullNode(t.eventCache.getNode(),c,s)}else{const c=fe(e);if(".priority"===c){M(1===Ns(e),"Can't have a priority with additional path components");const u=o.getNode();l=t.serverCache.getNode();const d=YF(i,e,u,l);a=null!=d?n.filter.updatePriority(u,d):o.getNode()}else{const u=We(e);let d;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();const h=YF(i,e,o.getNode(),l);d=null!=h?o.getNode().getImmediateChild(c).updateChild(u,h):o.getNode().getImmediateChild(c)}else d=h0(i,c,t.serverCache);a=null!=d?n.filter.updateChild(o.getNode(),c,d,u,r,s):o.getNode()}}return qu(t,a,o.isFullyInitialized()||pe(e),n.filter.filtersNodes())}}function Mp(n,t,e,i,r,s,o,a){const l=t.serverCache;let c;const u=o?n.filter:n.filter.getIndexedFilter();if(pe(e))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(e,i);c=u.updateFullNode(l.getNode(),f,null)}else{const f=fe(e);if(!l.isCompleteForPath(e)&&Ns(e)>1)return t;const p=We(e),_=l.getNode().getImmediateChild(f).updateChild(p,i);c=".priority"===f?u.updatePriority(l.getNode(),_):u.updateChild(l.getNode(),f,_,p,ZF,null)}const d=$F(t,c,l.isFullyInitialized()||pe(e),u.filtersNodes());return JF(n,d,e,r,new f0(r,d,s),a)}function p0(n,t,e,i,r,s,o){const a=t.eventCache;let l,c;const u=new f0(r,t,s);if(pe(e))c=n.filter.updateFullNode(t.eventCache.getNode(),i,o),l=qu(t,c,!0,n.filter.filtersNodes());else{const d=fe(e);if(".priority"===d)c=n.filter.updatePriority(t.eventCache.getNode(),i),l=qu(t,c,a.isFullyInitialized(),a.isFiltered());else{const h=We(e),f=a.getNode().getImmediateChild(d);let p;if(pe(h))p=i;else{const g=u.getCompleteChild(d);p=null!=g?".priority"===jE(h)&&g.getChild(SF(h)).isEmpty()?g:g.updateChild(h,i):oe.EMPTY_NODE}l=f.equals(p)?t:qu(t,n.filter.updateChild(a.getNode(),d,p,h,u,o),a.isFullyInitialized(),n.filter.filtersNodes())}}return l}function eL(n,t){return n.eventCache.isCompleteForChild(t)}function tL(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function m0(n,t,e,i,r,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c,l=t;c=pe(e)?i:new Ze(null).setTree(e,i);const u=t.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=tL(0,t.serverCache.getNode().getImmediateChild(d),h);l=Mp(n,l,new Be(d),p,r,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!t.serverCache.isCompleteForChild(d)&&void 0===h.value;if(!u.hasChild(d)&&!f){const g=tL(0,t.serverCache.getNode().getImmediateChild(d),h);l=Mp(n,l,new Be(d),g,r,s,o,a)}}),l}class Jne{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new XE(i.getIndex()),s=function(n){return n.loadsAllData()?new XE(n.getIndex()):n.hasLimit()?new hne(n):new zu(n)}(i);this.processor_=function(n){return{filter:n}}(s);const o=e.serverCache,a=e.eventCache,l=r.updateFullNode(oe.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(oe.EMPTY_NODE,a.getNode(),null),u=new Fs(l,o.isFullyInitialized(),r.filtersNodes()),d=new Fs(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Ep(d,u),this.eventGenerator_=new Dne(this.query_)}get query(){return this.query_}}function nie(n,t){const e=Fo(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!pe(t)&&!e.getImmediateChild(fe(t)).isEmpty())?e.getChild(t):null}function nL(n){return 0===n.eventRegistrations_.length}function iL(n,t,e){const i=[];if(e){M(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(e,r);o&&i.push(o)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const o=n.eventRegistrations_[s];if(o.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(o)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function rL(n,t,e,i){t.type===mi.MERGE&&null!==t.source.queryId&&(M(Fo(n.viewCache_),"We should always have a full cache before handling merges"),M(Dp(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function(n,t,e,i,r){const s=new $ne;let o,a;if(e.type===mi.OVERWRITE){const c=e;c.source.fromUser?o=p0(n,t,c.path,c.snap,i,r,s):(M(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!pe(c.path),o=Mp(n,t,c.path,c.snap,i,r,a,s))}else if(e.type===mi.MERGE){const c=e;c.source.fromUser?o=function(n,t,e,i,r,s,o){let a=t;return i.foreach((l,c)=>{const u=ot(e,l);eL(t,fe(u))&&(a=p0(n,a,u,c,r,s,o))}),i.foreach((l,c)=>{const u=ot(e,l);eL(t,fe(u))||(a=p0(n,a,u,c,r,s,o))}),a}(n,t,c.path,c.children,i,r,s):(M(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),o=m0(n,t,c.path,c.children,i,r,a,s))}else if(e.type===mi.ACK_USER_WRITE){const c=e;o=c.revert?function(n,t,e,i,r,s){let o;if(null!=Ip(i,e))return t;{const a=new f0(i,t,r),l=t.eventCache.getNode();let c;if(pe(e)||".priority"===fe(e)){let u;if(t.serverCache.isFullyInitialized())u=Tp(i,Fo(t));else{const d=t.serverCache.getNode();M(d instanceof oe,"serverChildren would be complete if leaf node"),u=d0(i,d)}u=u,c=n.filter.updateFullNode(l,u,s)}else{const u=fe(e);let d=h0(i,u,t.serverCache);null==d&&t.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),c=null!=d?n.filter.updateChild(l,u,d,We(e),a,s):t.eventCache.getNode().hasChild(u)?n.filter.updateChild(l,u,oe.EMPTY_NODE,We(e),a,s):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Tp(i,Fo(t)),o.isLeafNode()&&(c=n.filter.updateFullNode(c,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=Ip(i,Oe()),qu(t,c,o,n.filter.filtersNodes())}}(n,t,c.path,i,r,s):function(n,t,e,i,r,s,o){if(null!=Ip(r,e))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=i.value){if(pe(e)&&l.isFullyInitialized()||l.isCompleteForPath(e))return Mp(n,t,e,l.getNode().getChild(e),r,s,a,o);if(pe(e)){let c=new Ze(null);return l.getNode().forEachChild(_r,(u,d)=>{c=c.set(new Be(u),d)}),m0(n,t,e,c,r,s,a,o)}return t}{let c=new Ze(null);return i.foreach((u,d)=>{const h=ot(e,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),m0(n,t,e,c,r,s,a,o)}}(n,t,c.path,c.affectedTree,i,r,s)}else{if(e.type!==mi.LISTEN_COMPLETE)throw il("Unknown operation type: "+e.type);o=function(n,t,e,i,r){const s=t.serverCache;return JF(n,$F(t,s.getNode(),s.isFullyInitialized()||pe(e),s.isFiltered()),e,i,ZF,r)}(n,t,e.path,i,s)}const l=s.getChanges();return function(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Dp(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(BF(Dp(t)))}}(t,o,l),{viewCache:o,changes:l}}(n.processor_,r,t,e,i);return function(n,t){M(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),M(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),M(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,sL(n,s.changes,s.viewCache.eventCache.getNode(),null)}function sL(n,t,e,i){return function(n,t,e,i){const r=[],s=[];return t.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(o.childName,o.snapshotNode))}),Wu(n,r,"child_removed",t,i,e),Wu(n,r,"child_added",t,i,e),Wu(n,r,"child_moved",s,i,e),Wu(n,r,"child_changed",t,i,e),Wu(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let Ap,kp;class oL{constructor(){this.views=new Map}}function g0(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return M(null!=s,"SyncTree gave us an op for an invalid query."),rL(s,t,e,i)}{let s=[];for(const o of n.views.values())s=s.concat(rL(o,t,e,i));return s}}function aL(n,t,e,i,r){const o=n.views.get(t._queryIdentifier);if(!o){let a=Tp(e,r?i:null),l=!1;a?l=!0:i instanceof oe?(a=d0(e,i),l=!1):(a=oe.EMPTY_NODE,l=!1);const c=Ep(new Fs(a,l,!1),new Fs(i,r,!1));return new Jne(t,c)}return o}function lL(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Vs(n,t){let e=null;for(const i of n.views.values())e=e||nie(i,t);return e}function cL(n,t){return t._queryParams.loadsAllData()?xp(n):n.views.get(t._queryIdentifier)}function uL(n,t){return null!=cL(n,t)}function Bs(n){return null!=xp(n)}function xp(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let hie=1;class dL{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ze(null),this.pendingWriteTree_={visibleWrites:Hi.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function _0(n,t,e,i,r){return function(n,t,e,i,r){M(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=Ku(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Tl(n,new No({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Hs(n,t,e=!1){const i=function(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function(n,t){const e=n.allWrites.findIndex(a=>a.writeId===t);M(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,o=n.allWrites.length-1;for(;r&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=e&&One(a,i.path)?r=!1:pi(i.path,a.path)&&(s=!0)),o--}return!!r&&(s?(function(n){n.visibleWrites=qF(n.allWrites,Nne,Oe()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=zF(n.visibleWrites,i.path):Kt(i.children,l=>{n.visibleWrites=zF(n.visibleWrites,ot(i.path,l))}),!0))}(n.pendingWriteTree_,t)){let s=new Ze(null);return null!=i.snap?s=s.set(Oe(),!0):Kt(i.children,o=>{s=s.set(new Be(o),!0)}),Tl(n,new wp(i.path,s,e))}return[]}function Yu(n,t,e){return Tl(n,new No({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function y0(n,t,e,i){const r=t._path,s=n.syncPointTree_.get(r);let o=[];if(s&&("default"===t._queryIdentifier||uL(s,t))){const a=function(n,t,e,i){const r=t._queryIdentifier,s=[];let o=[];const a=Bs(n);if("default"===r)for(const[l,c]of n.views.entries())o=o.concat(iL(c,e,i)),nL(c)&&(n.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=n.views.get(r);l&&(o=o.concat(iL(l,e,i)),nL(l)&&(n.views.delete(r),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Bs(n)&&s.push(new(M(Ap,"Reference.ts has not been loaded"),Ap)(t._repo,t._path)),{removed:s,events:o}}(s,t,e,i);(function(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const l=a.removed;o=a.events;const c=-1!==l.findIndex(d=>d._queryParams.loadsAllData()),u=n.syncPointTree_.findOnPath(r,(d,h)=>Bs(h));if(c&&!u){const d=n.syncPointTree_.subtree(r);if(!d.isEmpty()){const h=function(n){return n.fold((t,e,i)=>{if(e&&Bs(e))return[xp(e)];{let r=[];return e&&(r=lL(e)),Kt(i,(s,o)=>{r=r.concat(o)}),r}})}(d);for(let f=0;f<h.length;++f){const p=h[f],g=p.query,_=mL(n,p);n.listenProvider_.startListening(Qu(g),Op(n,g),_.hashFn,_.onComplete)}}}if(!u&&l.length>0&&!i)if(c){const d=null;n.listenProvider_.stopListening(Qu(t),d)}else l.forEach(d=>{const h=n.queryToTagMap.get(Pp(d));n.listenProvider_.stopListening(Qu(d),h)});!function(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=Pp(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,l)}return o}function hL(n,t,e){const i=t._path;let r=null,s=!1;n.syncPointTree_.foreachOnPath(i,(d,h)=>{const f=Cn(d,i);r=r||Vs(h,f),s=s||Bs(h)});let a,o=n.syncPointTree_.get(i);o?(s=s||Bs(o),r=r||Vs(o,Oe())):(o=new oL,n.syncPointTree_=n.syncPointTree_.set(i,o)),null!=r?a=!0:(a=!1,r=oe.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((h,f)=>{const p=Vs(f,Oe());p&&(r=r.updateImmediateChild(h,p))}));const l=uL(o,t);if(!l&&!t._queryParams.loadsAllData()){const d=Pp(t);M(!n.queryToTagMap.has(d),"View does not exist, but we have a tag");const h=hie++;n.queryToTagMap.set(d,h),n.tagToQueryMap.set(h,d)}let u=function(n,t,e,i,r,s){const o=aL(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,o),function(n,t){n.eventRegistrations_.push(t)}(o,e),function(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Xe,(s,o)=>{i.push(wl(s,o))}),e.isFullyInitialized()&&i.push(BF(e.getNode())),sL(n,i,e.getNode(),t)}(o,e)}(o,t,e,Sp(n.pendingWriteTree_,i),r,a);if(!l&&!s){const d=cL(o,t);u=u.concat(function(n,t,e){const i=t._path,r=Op(n,t),s=mL(n,e),o=n.listenProvider_.startListening(Qu(t),r,s.hashFn,s.onComplete),a=n.syncPointTree_.subtree(i);if(r)M(!Bs(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!pe(c)&&u&&Bs(u))return[xp(u).query];{let h=[];return u&&(h=h.concat(lL(u).map(f=>f.query))),Kt(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){const u=l[c];n.listenProvider_.stopListening(Qu(u),Op(n,u))}}return o}(n,t,d))}return u}function Rp(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(o,a)=>{const c=Vs(a,Cn(o,t));if(c)return c});return KF(r,t,s,e,!0)}function Tl(n,t){return fL(t,n.syncPointTree_,null,Sp(n.pendingWriteTree_,Oe()))}function fL(n,t,e,i){if(pe(n.path))return pL(n,t,e,i);{const r=t.get(Oe());null==e&&null!=r&&(e=Vs(r,Oe()));let s=[];const o=fe(n.path),a=n.operationForChild(o),l=t.children.get(o);if(l&&a){const c=e?e.getImmediateChild(o):null,u=QF(i,o);s=s.concat(fL(a,l,c,u))}return r&&(s=s.concat(g0(r,n,i,e))),s}}function pL(n,t,e,i){const r=t.get(Oe());null==e&&null!=r&&(e=Vs(r,Oe()));let s=[];return t.children.inorderTraversal((o,a)=>{const l=e?e.getImmediateChild(o):null,c=QF(i,o),u=n.operationForChild(o);u&&(s=s.concat(pL(u,a,l,c)))}),r&&(s=s.concat(g0(r,n,i,e))),s}function mL(n,t){const e=t.query,i=Op(n,e);return{hashFn:()=>(function(n){return n.viewCache_.serverCache.getNode()}(t)||oe.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function(n,t,e){const i=v0(n,e);if(i){const r=b0(i),s=r.path,o=r.queryId,a=Cn(s,t);return C0(n,s,new Gu(o0(o),a))}return[]}(n,e._path,i):function(n,t){return Tl(n,new Gu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return y0(n,e,null,s)}}}}function Op(n,t){const e=Pp(t);return n.queryToTagMap.get(e)}function Pp(n){return n._path.toString()+"$"+n._queryIdentifier}function v0(n,t){return n.tagToQueryMap.get(t)}function b0(n){const t=n.indexOf("$");return M(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Be(n.substr(0,t))}}function C0(n,t,e){const i=n.syncPointTree_.get(t);return M(i,"Missing sync point for query tag that we're tracking"),g0(i,e,Sp(n.pendingWriteTree_,t),null)}function Qu(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(M(kp,"Reference.ts has not been loaded"),kp)(n._repo,n._path):n}class w0{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new w0(e)}node(){return this.node_}}class E0{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=ot(this.path_,t);return new E0(this.syncTree_,e)}node(){return Rp(this.syncTree_,this.path_)}}const gL=function(n,t,e){return n&&"object"==typeof n?(M(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Sie(n[".sv"],t,e):"object"==typeof n[".sv"]?Tie(n[".sv"],t):void M(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Sie=function(n,t,e){if("timestamp"===n)return e.timestamp;M(!1,"Unexpected server value: "+n)},Tie=function(n,t,e){n.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&M(!1,"Unexpected increment value: "+i);const r=t.node();if(M(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return"number"!=typeof o?i:o+i},D0=function(n,t,e){return S0(n,new w0(t),e)};function S0(n,t,e){const i=n.getPriority().val(),r=gL(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const o=n,a=gL(o.getValue(),t,e);return a!==o.getValue()||r!==o.getPriority().val()?new vl(a,ut(r)):n}{const o=n;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new vl(r))),o.forEachChild(Xe,(a,l)=>{const c=S0(l,t.getImmediateChild(a),e);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}class T0{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function Np(n,t){let e=t instanceof Be?t:new Be(t),i=n,r=fe(e);for(;null!==r;){const s=rl(i.node.children,r)||{children:{},childCount:0};i=new T0(r,i,s),e=We(e),r=fe(e)}return i}function Vo(n){return n.node.value}function I0(n,t){n.node.value=t,M0(n)}function yL(n){return n.node.childCount>0}function Fp(n,t){Kt(n.node.children,(e,i)=>{t(new T0(e,n,i))})}function vL(n,t,e,i){e&&!i&&t(n),Fp(n,r=>{vL(r,t,!0,i)}),e&&i&&t(n)}function Xu(n){return new Be(null===n.parent?n.name:Xu(n.parent)+"/"+n.name)}function M0(n){null!==n.parent&&function(n,t,e){const i=function(n){return void 0===Vo(n)&&!yL(n)}(e),r=qr(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,M0(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,M0(n))}(n.parent,n.name,n)}const xie=/[\[\].#$\/\u0000-\u001F\u007F]/,kie=/[\[\].#$\u0000-\u001F\u007F]/,A0=10485760,Lp=function(n){return"string"==typeof n&&0!==n.length&&!xie.test(n)},bL=function(n){return"string"==typeof n&&0!==n.length&&!kie.test(n)},Ju=function(n,t,e){const i=e instanceof Be?new Gte(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Oo(i));if("function"==typeof t)throw new Error(n+"contains a function "+Oo(i)+" with contents = "+t.toString());if(dp(t))throw new Error(n+"contains "+t.toString()+" "+Oo(i));if("string"==typeof t&&t.length>A0/3&&If(t)>A0)throw new Error(n+"contains a string greater than "+A0+" utf8 bytes "+Oo(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(Kt(t,(o,a)=>{if(".value"===o)r=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!Lp(o)))throw new Error(n+" contains an invalid key ("+o+") "+Oo(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=If(t),TF(n)})(i,o),Ju(n,a,i),function(n){const t=n.parts_.pop();n.byteLength_-=If(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+Oo(i)+" in addition to actual children.")}},k0=function(n,t,e,i){if(!(i&&void 0===e||bL(e)))throw new Error(sl(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},vr=function(n,t){if(".info"===fe(t))throw new Error(n+" failed = Can't modify data under /.info/")};class Nie{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Vp(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!$E(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function R0(n,t,e){Vp(n,e),EL(n,i=>$E(i,t))}function gi(n,t,e){Vp(n,e),EL(n,i=>pi(i,t)||pi(t,i))}function EL(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(Fie(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Fie(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();ko&&qt("event: "+e.toString()),_l(i)}}}class Vie{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Nie,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Cp(),this.transactionQueueTree_=new T0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function SL(n){const e=n.infoData_.getNode(new Be(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function td(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:SL(n)})}function TL(n,t,e,i,r){n.dataUpdateCount++;const s=new Be(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let o=[];if(r)if(i){const l=Sf(e,c=>ut(c));o=function(n,t,e,i){const r=v0(n,i);if(r){const s=b0(r),o=s.path,a=s.queryId,l=Cn(o,t),c=Ze.fromObject(e);return C0(n,o,new Dl(o0(a),l,c))}return[]}(n.serverSyncTree_,s,l,r)}else{const l=ut(e);o=function(n,t,e,i){const r=v0(n,i);if(null!=r){const s=b0(r),o=s.path,a=s.queryId,l=Cn(o,t);return C0(n,o,new No(o0(a),l,e))}return[]}(n.serverSyncTree_,s,l,r)}else if(i){const l=Sf(e,c=>ut(c));o=function(n,t,e){const i=Ze.fromObject(e);return Tl(n,new Dl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,l)}else{const l=ut(e);o=Yu(n.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Ml(n,s)),gi(n.eventQueue_,a,o)}function IL(n,t){O0(n,"connected",t),!1===t&&function(n){Il(n,"onDisconnectEvents");const t=td(n),e=Cp();n0(n.onDisconnect_,Oe(),(r,s)=>{const o=function(n,t,e,i){return S0(t,new E0(e,n),i)}(r,s,n.serverSyncTree_,t);El(e,r,o)});let i=[];n0(e,Oe(),(r,s)=>{i=i.concat(Yu(n.serverSyncTree_,r,s));const o=L0(n,r);Ml(n,o)}),n.onDisconnect_=Cp(),gi(n.eventQueue_,Oe(),i)}(n)}function O0(n,t,e){const i=new Be("/.info/"+t),r=ut(e);n.infoData_.updateSnapshot(i,r);const s=Yu(n.infoSyncTree_,i,r);gi(n.eventQueue_,i,s)}function Bp(n){return n.nextWriteId_++}function P0(n,t,e,i,r){Il(n,"set",{path:t.toString(),value:e,priority:i});const s=td(n),o=ut(e,i),a=Rp(n.serverSyncTree_,t),l=D0(o,a,s),c=Bp(n),u=_0(n.serverSyncTree_,t,l,c,!0);Vp(n.eventQueue_,u),n.server_.put(t.toString(),o.val(!0),(h,f)=>{const p="ok"===h;p||bn("set at "+t+" failed: "+h);const g=Hs(n.serverSyncTree_,c,!p);gi(n.eventQueue_,t,g),function(n,t,e,i){t&&_l(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const o=new Error(s);o.code=r,t(o)}})}(0,r,h,f)});const d=L0(n,t);Ml(n,d),gi(n.eventQueue_,d,[])}function N0(n,t,e){let i;i=".info"===fe(t._path)?y0(n.infoSyncTree_,t,e):y0(n.serverSyncTree_,t,e),R0(n.eventQueue_,t._path,i)}function Il(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),qt(e,...t)}function F0(n,t,e){return Rp(n.serverSyncTree_,t,e)||oe.EMPTY_NODE}function Hp(n,t=n.transactionQueueTree_){if(t||Up(n,t),Vo(t)){const e=kL(n,t);M(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function(n,t,e){const i=e.map(c=>c.currentWriteId),r=F0(n,t,i);let s=r;const o=r.hash();for(let c=0;c<e.length;c++){const u=e[c];M(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Cn(t,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;n.server_.put(l.toString(),a,c=>{Il(n,"transaction put response",{path:l.toString(),status:c});let u=[];if("ok"===c){const d=[];for(let h=0;h<e.length;h++)e[h].status=2,u=u.concat(Hs(n.serverSyncTree_,e[h].currentWriteId)),e[h].onComplete&&d.push(()=>e[h].onComplete(null,!0,e[h].currentOutputSnapshotResolved)),e[h].unwatcher();Up(n,Np(n.transactionQueueTree_,t)),Hp(n,n.transactionQueueTree_),gi(n.eventQueue_,t,u);for(let h=0;h<d.length;h++)_l(d[h])}else{if("datastale"===c)for(let d=0;d<e.length;d++)e[d].status=3===e[d].status?4:0;else{bn("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<e.length;d++)e[d].status=4,e[d].abortReason=c}Ml(n,t)}},o)}(n,Xu(t),e)}else yL(t)&&Fp(t,e=>{Hp(n,e)})}function Ml(n,t){const e=xL(n,t),i=Xu(e);return function(n,t,e){if(0===t.length)return;const i=[];let r=[];const o=t.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const l=t[a],c=Cn(e,l.path);let d,u=!1;if(M(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,d=l.abortReason,r=r.concat(Hs(n.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)u=!0,d="maxretry",r=r.concat(Hs(n.serverSyncTree_,l.currentWriteId,!0));else{const h=F0(n,l.path,o);l.currentInputSnapshot=h;const f=t[a].update(h.val());if(void 0!==f){Ju("transaction failed: Data returned ",f,l.path);let p=ut(f);"object"==typeof f&&null!=f&&qr(f,".priority")||(p=p.updatePriority(h.getPriority()));const _=l.currentWriteId,E=td(n),v=D0(p,h,E);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=v,l.currentWriteId=Bp(n),o.splice(o.indexOf(_),1),r=r.concat(_0(n.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),r=r.concat(Hs(n.serverSyncTree_,_,!0))}else u=!0,d="nodata",r=r.concat(Hs(n.serverSyncTree_,l.currentWriteId,!0))}gi(n.eventQueue_,e,r),r=[],u&&(t[a].status=2,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete&&i.push("nodata"===d?()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot):()=>t[a].onComplete(new Error(d),!1,null)))}Up(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)_l(i[a]);Hp(n,n.transactionQueueTree_)}(n,kL(n,e),i),i}function xL(n,t){let e,i=n.transactionQueueTree_;for(e=fe(t);null!==e&&void 0===Vo(i);)i=Np(i,e),e=fe(t=We(t));return i}function kL(n,t){const e=[];return RL(n,t,e),e.sort((i,r)=>i.order-r.order),e}function RL(n,t,e){const i=Vo(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);Fp(t,r=>{RL(n,r,e)})}function Up(n,t){const e=Vo(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,I0(t,e.length>0?e:void 0)}Fp(t,i=>{Up(n,i)})}function L0(n,t){const e=Xu(xL(n,t)),i=Np(n.transactionQueueTree_,t);return function(n,t,e){let i=n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{V0(n,r)}),V0(n,i),vL(i,r=>{V0(n,r)}),e}function V0(n,t){const e=Vo(t);if(e){const i=[];let r=[],s=-1;for(let o=0;o<e.length;o++)3===e[o].status||(1===e[o].status?(M(s===o-1,"All SENT items should be at beginning of queue."),s=o,e[o].status=3,e[o].abortReason="set"):(M(0===e[o].status,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(Hs(n.serverSyncTree_,e[o].currentWriteId,!0)),e[o].onComplete&&i.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?I0(t,void 0):e.length=s+1,gi(n.eventQueue_,Xu(t),r);for(let o=0;o<i.length;o++)_l(i[o])}}const B0=function(n,t){const e=ere(n),i=e.namespace;return"firebase.com"===e.domain&&mr(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&mr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&bn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new NE(e.host,e.secure,i,t,"ws"===e.scheme||"wss"===e.scheme,"",i!==e.subdomain),path:new Be(e.pathString)}},ere=function(n){let t="",e="",i="",r="",s="",o=!0,a="https",l=443;if("string"==typeof n){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let u=n.indexOf("/");-1===u&&(u=n.length);let d=n.indexOf("?");-1===d&&(d=n.length),t=n.substring(0,Math.min(u,d)),u<d&&(r=function(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(s){}t+="/"+r}return t}(n.substring(u,d)));const h=function(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):bn(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,d)));c=t.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())e="localhost";else if(f.split(".").length<=2)e=f;else{const p=t.indexOf(".");i=t.substring(0,p).toLowerCase(),e=t.substring(p+1),s=i}"ns"in h&&(s=h.ns)}return{host:t,port:l,domain:e,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};class OL{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Nt(this.snapshot.exportVal())}}class PL{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class NL{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return M(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Xn{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return pe(this._path)?null:jE(this._path)}get ref(){return new Ui(this._repo,this._path)}get _queryIdentifier(){const t=UF(this._queryParams),e=RE(t);return"{}"===e?"default":e}get _queryObject(){return UF(this._queryParams)}isEqual(t){if(!((t=zt(t))instanceof Xn))return!1;const e=this._repo===t._repo,i=$E(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}class Ui extends Xn{constructor(t,e){super(t,e,new ZE,!1)}get parent(){const t=SF(this._path);return null===t?null:new Ui(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Bo{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Be(t),i=$s(this.ref,t);return new Bo(this._node.getChild(e),i,Xe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Bo(r,$s(this.ref,i),Xe)))}hasChild(t){const e=new Be(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function FL(n,t){return(n=zt(n))._checkNotDeleted("ref"),void 0!==t?$s(n._root,t):n._root}function $s(n,t){return null===fe((n=zt(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),k0("child","path",e,!1)):k0("child","path",t,!1),new Ui(n._repo,ot(n._path,t));var e}function nre(n){return vr("remove",n._path),H0(n,null)}function H0(n,t){n=zt(n),vr("set",n._path),function(n,t,e,i){i&&void 0===t||Ju(sl(n,"value"),t,e)}("set",t,n._path,!1);const e=new xs;return P0(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function ire(n){return function(n,t){const e=function(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(c,u)=>{const d=Cn(c,e);i=i||Vs(u,d)});let r=n.syncPointTree_.get(e);r?i=i||Vs(r,Oe()):(r=new oL,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,o=s?new Fs(i,!0,!1):null;return function(n){return Dp(n.viewCache_)}(aL(r,t,Sp(n.pendingWriteTree_,t._path),s?o.getNode():oe.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const r=ut(i).withIndex(t._queryParams.getIndex()),s=Yu(n.serverSyncTree_,t._path,r);return R0(n.eventQueue_,t._path,s),Promise.resolve(r)},i=>(Il(n,"get for query "+Nt(t)+" failed: "+i),Promise.reject(new Error(i))))}((n=zt(n))._repo,n).then(t=>new Bo(t,new Ui(n._repo,n._path),n._queryParams.getIndex()))}class zp{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new OL("value",this,new Bo(t.snapshotNode,new Ui(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new PL(this,t,e):null}matches(t){return t instanceof zp&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Gp{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new PL(this,t,e):null}createEvent(t,e){M(null!=t.childName,"Child events should have a childName.");const i=$s(new Ui(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new OL(t.type,this,new Bo(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Gp&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function nd(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const l=e,c=(u,d)=>{N0(n._repo,n,a),l(u,d)};c.userCallback=e.userCallback,c.context=e.context,e=c}const o=new NL(e,s||void 0),a="value"===t?new zp(o):new Gp(t,o);return function(n,t,e){let i;i=".info"===fe(t._path)?hL(n.infoSyncTree_,t,e):hL(n.serverSyncTree_,t,e),R0(n.eventQueue_,t._path,i)}(n._repo,n,a),()=>N0(n._repo,n,a)}(function(n){M(!Ap,"__referenceConstructor has already been defined"),Ap=n})(Ui),function(n){M(!kp,"__referenceConstructor has already been defined"),kp=n}(Ui);const U0={};function bre(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||mr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qt("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l,c,o=B0(s,r),a=o.repoInfo;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=B0(s,r),a=o.repoInfo):l=!o.repoInfo.secure;const u=r&&l?new Nu(Nu.OWNER):new _te(n.name,n.options,t);(function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Lp(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),bL(n)}(e))throw new Error(sl(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",o),pe(o.path)||mr("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(n,t,e,i){let r=U0[t.name];r||(r={},U0[t.name]=r);let s=r[n.toURLString()];return s&&mr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Vie(n,false,e,i),r[n.toURLString()]=s,s}(a,n,u,new gte(n.name,e));return new Dre(d,n)}class Dre{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(n,t,e){if(n.stats_=VE(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new bp(n.repoInfo_,(i,r,s,o)=>{TL(n,i,r,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>IL(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Nt(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Po(n.repoInfo_,t,(i,r,s,o)=>{TL(n,i,r,s,o)},i=>{IL(n,i)},i=>{!function(n,t){Kt(t,(e,i)=>{O0(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function(n,t){const e=n.toString();return LE[e]||(LE[e]=t()),LE[e]}(n.repoInfo_,()=>new Ene(n.stats_,n.server_)),n.infoData_=new yne,n.infoSyncTree_=new dL({startListening:(i,r,s,o)=>{let a=[];const l=n.infoData_.getNode(i._path);return l.isEmpty()||(a=Yu(n.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),O0(n,"connected",!1),n.serverSyncTree_=new dL({startListening:(i,r,s,o)=>(n.server_.listen(i,s,r,(a,l)=>{const c=o(a,l);gi(n.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ui(this._repo,Oe())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(n,t){const e=U0[t];(!e||e[n.key]!==n)&&mr(`Database ${t}(${n.repoInfo_}) has already been deleted.`),function(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&mr("Cannot call "+t+" on a deleted database.")}}function Sre(n=fu(),t){return ks(n,"database").getImmediate({identifier:t})}Po.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Po.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},AE="9.6.1",kn(new yn("database",(t,{instanceIdentifier:e})=>bre(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),ct($N,"0.12.4",void 0),ct($N,"0.12.4","esm2017");class Al{constructor(t){return t}}const UL="database",j0=new I("angularfire2.database-instances");function Rre(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new Al(i)}}const Ore={provide:class{constructor(){return hC(UL)}},deps:[[new nt,j0]]},Pre={provide:Al,useFactory:function(n,t){const e=dC(UL,n,t);return e&&new Al(e)},deps:[[new nt,j0],fl]};let jL=(()=>{class n{constructor(){ct("angularfire",_u.full,"rtdb")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({providers:[Pre,Ore]}),n})();function Nre(n,...t){return{ngModule:jL,providers:[{provide:j0,useFactory:Rre(n),multi:!0,deps:[K,He,Bf,Hf,[new nt,HN],[new nt,xC],...t]}]}}const Lre=On(Sre,!0),$0=On(FL,!0),Vre=On(nre,!0);function $L(n,t){return t?e=>Yc(t.pipe(qe(1),ht((n,t)=>{n.subscribe(new it(t,ii))})),e.pipe($L(n))):bt((e,i)=>n(e,i).pipe(qe(1),function(n){return ee(()=>n)}(e)))}function zL(n=0,t,e=s1){let i=-1;return null!=t&&(DT(t)?e=t:i=t),new Te(r=>{let s=function(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let o=0;return e.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function z0(n,t=Vf){const e=zL(n,t);return $L(()=>e)}function GL(n,t=ms){return n=null!=n?n:jre,ht((e,i)=>{let r,s=!0;e.subscribe(new it(i,o=>{const a=t(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}function jre(n,t){return n===t}var Wp=function(){return Wp=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},Wp.apply(this,arguments)};function W0(n,t){for(var e=0,i=t.length,r=n.length;e<i;e++,r++)n[r]=t[e];return n}var Ho,gt=(()=>(function(n){n.added="child_added",n.removed="child_removed",n.changed="child_changed",n.moved="child_moved",n.value="value"}(gt||(gt={})),gt))(),Gre=Object.freeze(((Ho={})[gt.added]=function(n,t,e,i){return nd(n,"child_added",t,e,i)},Ho[gt.removed]=function(n,t,e,i){return nd(n,"child_removed",t,e,i)},Ho[gt.changed]=function(n,t,e,i){return nd(n,"child_changed",t,e,i)},Ho[gt.moved]=function(n,t,e,i){return nd(n,"child_moved",t,e,i)},Ho[gt.value]=function(n,t,e,i){return nd(n,"value",t,e,i)},Ho));function Kre(n,t){void 0===t&&(t={});var e=function(n){return(null==n||0===n.length)&&(n=[gt.added,gt.removed,gt.changed,gt.moved]),n}(t.events);return function(n){return at(ire(n)).pipe(ee(function(t){return{snapshot:t,prevKey:null,event:gt.value}}))}(n).pipe(Li(function(i){if(!i.snapshot.exists())return j([]);var r=[j(i)];return e.forEach(function(s){r.push(function(n,t){return new Te(function(e){var i=Gre[t](n,function(r,s){e.next({snapshot:r,prevKey:s,event:t})},e.error.bind(e));return{unsubscribe:function(){!function(n,t,e){let i=null;const r=e?new NL(e):null;"value"===t?i=new zp(r):t&&(i=new Gp(t,r)),N0(n._repo,n,i)}(n,t,i)}}}).pipe(z0(0))}(n,s))}),eo.apply(void 0,r).pipe(iv(Xre,[]))}),GL())}function QL(n,t){for(var e=n.length,i=0;i<e;i++)if(n[i].snapshot.key===t)return i;return-1}function Xre(n,t){var e=t.snapshot,i=t.prevKey,r=t.event,s=e.key,o=QL(n,s),a=function(n,t){if(null==t)return 0;var e=QL(n,t);return-1===e?n.length:e+1}(n,i||void 0);switch(r){case gt.value:if(t.snapshot&&t.snapshot.exists()){var l=null;t.snapshot.forEach(function(d){var h={snapshot:d,event:gt.value,prevKey:l};return l=d.key,n=W0(W0([],n),[h]),!1})}return n;case gt.added:if(o>-1){var c=n[o-1];(c&&c.snapshot.key||null)!==i&&(n=n.filter(function(d){return d.snapshot.key!==e.key})).splice(a,0,t)}else{if(null==i)return W0([t],n);(n=n.slice()).splice(a,0,t)}return n;case gt.removed:return n.filter(function(d){return d.snapshot.key!==e.key});case gt.changed:return n.map(function(d){return d.snapshot.key===s?t:d});case gt.moved:if(o>-1){var u=n.splice(o,1)[0];return(n=n.slice()).splice(a,0,u),n}return n;default:return n}}class ese{constructor(t){this.type=t.type,this.projectId=t.project_id,this.privateKeyId=t.private_key_id,this.privateKey=t.private_key,this.clientEmail=t.client_email,this.clientId=t.client_id,this.authUri=t.auth_uri,this.tokenUri=t.token_uri,this.authProviderX509CertUrl=t.auth_provider_x509_cert_url,this.clientC509CertUrl=t.client_x509_cert_url}}class tse{constructor(t,e,i,r){this.isEncrypted=!1,this.id=t,this.name=e,this.projectUrl=i,this.credential=r}}var Kp,nse=new Uint8Array(16);function ise(){if(!Kp&&!(Kp="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Kp(nse)}const rse=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ose=function(n){return"string"==typeof n&&rse.test(n)};for(var Jt=[],q0=0;q0<256;++q0)Jt.push((q0+256).toString(16).substr(1));const use=function(n,t,e){var i=(n=n||{}).random||(n.rng||ise)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){e=e||0;for(var r=0;r<16;++r)t[e+r]=i[r];return t}return function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(Jt[n[t+0]]+Jt[n[t+1]]+Jt[n[t+2]]+Jt[n[t+3]]+"-"+Jt[n[t+4]]+Jt[n[t+5]]+"-"+Jt[n[t+6]]+Jt[n[t+7]]+"-"+Jt[n[t+8]]+Jt[n[t+9]]+"-"+Jt[n[t+10]]+Jt[n[t+11]]+Jt[n[t+12]]+Jt[n[t+13]]+Jt[n[t+14]]+Jt[n[t+15]]).toLowerCase();if(!ose(e))throw TypeError("Stringified UUID is invalid");return e}(i)};function wn(n){return null!=n&&"false"!=`${n}`}function Uo(n,t=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Yp(n){return Array.isArray(n)?n:[n]}function Tt(n){return null==n?"":"string"==typeof n?n:`${n}px`}function rs(n){return n instanceof J?n.nativeElement:n}const hse=["addListener","removeListener"],fse=["addEventListener","removeEventListener"],pse=["on","off"];function rd(n,t,e,i){if(me(e)&&(i=e,e=void 0),i)return rd(n,t,e).pipe(tv(i));const[r,s]=function(n){return me(n.addEventListener)&&me(n.removeEventListener)}(n)?fse.map(o=>a=>n[o](t,a,e)):function(n){return me(n.addListener)&&me(n.removeListener)}(n)?hse.map(XL(n,t)):function(n){return me(n.on)&&me(n.off)}(n)?pse.map(XL(n,t)):[];if(!r&&cg(n))return bt(o=>rd(o,t,e))(Vn(n));if(!r)throw new TypeError("Invalid event target");return new Te(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function XL(n,t){return e=>i=>n[e](t,i)}const sd={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=sd;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Pe(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=sd;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=sd;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};new class extends Lf{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const s=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this._active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends Ff{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=sd.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(sd.cancelAnimationFrame(e),t._scheduled=void 0)}});let K0,Cse=1;const Qp={};function ZL(n){return n in Qp&&(delete Qp[n],!0)}const wse={setImmediate(n){const t=Cse++;return Qp[t]=!0,K0||(K0=Promise.resolve()),K0.then(()=>ZL(t)&&n()),t},clearImmediate(n){ZL(n)}},{setImmediate:Ese,clearImmediate:Dse}=wse,Xp={setImmediate(...n){const{delegate:t}=Xp;return((null==t?void 0:t.setImmediate)||Ese)(...n)},clearImmediate(n){const{delegate:t}=Xp;return((null==t?void 0:t.clearImmediate)||Dse)(n)},delegate:void 0},Y0=new class extends Lf{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,r=-1;t=t||e.shift();const s=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this._active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends Ff{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Xp.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(Xp.clearImmediate(e),t._scheduled=void 0)}});function JL(n,t=s1){return function(n){return ht((t,e)=>{let i=!1,r=null,s=null,o=!1;const a=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const c=r;r=null,e.next(c)}o&&e.complete()},l=()=>{s=null,o&&e.complete()};t.subscribe(new it(e,c=>{i=!0,r=c,s||Vn(n()).subscribe(s=new it(e,a,l))},()=>{o=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>zL(n,t))}let Q0;try{Q0="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Q0=!1}let xl,Vt=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return n===kR}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Q0)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(b(Is))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({}),n})();const eV=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function tV(){if(xl)return xl;if("object"!=typeof document||!document)return xl=new Set(eV),xl;let n=document.createElement("input");return xl=new Set(eV.filter(t=>(n.setAttribute("type",t),n.type===t))),xl}let od,jo,X0;function kl(n){return function(){if(null==od&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>od=!0}))}finally{od=od||!1}return od}()?n:!!n.capture}function Ase(){if(null==jo){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return jo=!1,jo;if("scrollBehavior"in document.documentElement.style)jo=!0;else{const n=Element.prototype.scrollTo;jo=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return jo}function nV(n){if(function(){if(null==X0){const n="undefined"!=typeof document?document.head:null;X0=!(!n||!n.createShadowRoot&&!n.attachShadow)}return X0}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Z0(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function $o(n){return n.composedPath?n.composedPath()[0]:n.target}function J0(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const kse=new I("cdk-dir-doc",{providedIn:"root",factory:function(){return oh(Y)}}),Ose=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let zo=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new Re,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Ose.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(b(kse,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ad=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({}),n})(),iV=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Q,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Te(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(JL(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):j()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Pt(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=rs(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>rd(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(b(K),b(Vt),b(Y,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eD=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Q,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(JL(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(b(Vt),b(K),b(Y,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ld=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({}),n})(),tD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({imports:[[ad,Zp,ld],ad,ld]}),n})();class nD{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Rl extends nD{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class em extends nD{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Lse extends nD{constructor(t){super(),this.element=t instanceof J?t.nativeElement:t}}class tm{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Rl?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof em?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Lse?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Vse extends tm{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let nm=(()=>{class n extends tm{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Re,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),o=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(m(Ts),m(Rt),m(Y))},n.\u0275dir=S({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[B]}),n})(),iD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({}),n})();function It(n){return ht((t,e)=>{Vn(n).subscribe(new it(e,()=>e.complete(),ii)),!e.closed&&t.subscribe(e)})}const rV=Ase();class Bse{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Tt(-this._previousScrollPosition.left),t.style.top=Tt(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),rV&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),rV&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class Hse{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class sV{enable(){}disable(){}attach(){}}function rD(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function oV(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Use{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();rD(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let jse=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new sV,this.close=o=>new Hse(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Bse(this._viewportRuler,this._document),this.reposition=o=>new Use(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(b(iV),b(eD),b(K),b(Y))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class im{constructor(t){if(this.scrollStrategy=new sV,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class $se{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class zse{constructor(t,e,i,r,s,o,a,l,c){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Q,this._attachments=new Q,this._detachments=new Q,this._locationChanges=Pe.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._keydownEvents=new Q,this._outsidePointerEvents=new Q,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(qe(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Tt(this._config.width),t.height=Tt(this._config.height),t.minWidth=Tt(this._config.minWidth),t.minHeight=Tt(this._config.minHeight),t.maxWidth=Tt(this._config.maxWidth),t.maxHeight=Tt(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const i=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",i),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",i)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(t,e,i){const r=Yp(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(It(eo(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.remove(),this._backdropElement===t&&(this._backdropElement=null))}}let sD=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||J0()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),J0()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(b(Y),b(Vt))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aV="cdk-overlay-connected-position-bounding-box",Gse=/([A-Za-z%]+)$/;class Wse{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Q,this._resizeSubscription=Pe.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(aV),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=[];let s;for(let o of this._preferredPositions){let a=this._getOriginPoint(t,o),l=this._getOverlayPoint(a,e,o),c=this._getOverlayFit(l,e,i,o);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,a);this._canFitWithFlexibleDimensions(c,l,i)?r.push({position:o,origin:a,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(a,o)}):(!s||s.overlayFit.visibleArea<c.visibleArea)&&(s={overlayFit:c,overlayPoint:l,originPoint:a,position:o,overlayRect:e})}if(r.length){let o=null,a=-1;for(const l of r){const c=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);c>a&&(a=c,o=l)}return this._isPushed=!1,void this._applyPosition(o.position,o.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Go(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(aV),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let i,r;if("center"==e.originX)i=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,o=this._isRtl()?t.left:t.right;i="start"==e.originX?s:o}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:i,y:r}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=cV(e);let{x:o,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-i.height,p=this._subtractOverflows(s.width,0-o,o+s.width-i.width),g=this._subtractOverflows(s.height,h,f),_=p*g;return{visibleArea:_,isCompletelyWithinViewport:s.width*s.height===_,fitsInViewportVertically:g===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,o=lV(this._overlayRef.getConfig().minHeight),a=lV(this._overlayRef.getConfig().minWidth),c=t.fitsInViewportHorizontally||null!=a&&a<=s;return(t.fitsInViewportVertically||null!=o&&o<=r)&&c}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=cV(e),s=this._viewportRect,o=Math.max(t.x+r.width-s.width,0),a=Math.max(t.y+r.height-s.height,0),l=Math.max(s.top-i.top-t.y,0),c=Math.max(s.left-i.left-t.x,0);let u=0,d=0;return u=r.width<=s.width?c||-o:t.x<this._viewportMargin?s.left-i.left-t.x:0,d=r.height<=s.height?l||-a:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:u,y:d},{x:t.x+u,y:t.y+d}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new $se(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,o,a,u,d,h;if("top"===e.overlayY)o=t.y,s=i.height-o+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,s=i.height-a+this._viewportMargin;else{const f=Math.min(i.bottom-t.y+i.top,t.y),p=this._lastBoundingBoxSize.height;s=2*f,o=t.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-p/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)h=i.width-t.x+this._viewportMargin,u=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)d=t.x,u=i.right-t.x;else{const f=Math.min(i.right-t.x+i.left,t.x),p=this._lastBoundingBoxSize.width;u=2*f,d=t.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=Tt(i.height),r.top=Tt(i.top),r.bottom=Tt(i.bottom),r.width=Tt(i.width),r.left=Tt(i.left),r.right=Tt(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Tt(s)),o&&(r.maxWidth=Tt(o))}this._lastBoundingBoxSize=i,Go(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Go(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Go(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();Go(i,this._getExactOverlayY(e,t,u)),Go(i,this._getExactOverlayX(e,t,u))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),o.maxHeight&&(r?i.maxHeight=Tt(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=Tt(o.maxWidth):s&&(i.maxWidth="")),Go(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return s.y-=o,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Tt(s.y),r}_getExactOverlayX(t,e,i){let o,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),o=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Tt(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:oV(t,i),isOriginOutsideView:rD(t,i),isOverlayClipped:oV(e,i),isOverlayOutsideView:rD(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Yp(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof J)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Go(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function lV(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(Gse);return e&&"px"!==e?null:parseFloat(t)}return n||null}function cV(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const uV="cdk-global-overlay-wrapper";class qse{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(uV),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a);t.position=this._cssPosition,t.marginLeft=l?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,l?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(uV),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Kse=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new qse}flexibleConnectedTo(e){return new Wse(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(b(eD),b(Y),b(Vt),b(sD))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dV=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(b(Y))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yse=(()=>{class n extends dV{constructor(e){super(e),this._keydownListener=i=>{const r=this._attachedOverlays;for(let s=r.length-1;s>-1;s--)if(r[s]._keydownEvents.observers.length>0){r[s]._keydownEvents.next(i);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(b(Y))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qse=(()=>{class n extends dV{constructor(e,i){super(e),this._platform=i,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=$o(r)},this._clickListener=r=>{const s=$o(r),o="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const a=this._attachedOverlays.slice();for(let l=a.length-1;l>-1;l--){const c=a[l];if(!(c._outsidePointerEvents.observers.length<1)&&c.hasAttached()){if(c.overlayElement.contains(s)||c.overlayElement.contains(o))break;c._outsidePointerEvents.next(r)}}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(b(Y),b(Vt))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xse=0,br=(()=>{class n{constructor(e,i,r,s,o,a,l,c,u,d,h){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new im(e);return o.direction=o.direction||this._directionality.value,new zse(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Xse++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Ya)),new Vse(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(b(jse),b(sD),b(Ts),b(Kse),b(Yse),b(He),b(K),b(Y),b(zo),b(jc),b(Qse))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const eoe={provide:new I("cdk-connected-overlay-scroll-strategy"),deps:[br],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let cd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({providers:[br,eoe],imports:[[ad,iD,tD],tD]}),n})();function rm(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function cD(n,t=Vf){return ht((e,i)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=s;s=null,i.next(c)}};function l(){const c=o+n,u=t.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}e.subscribe(new it(i,c=>{s=c,o=t.now(),r||(r=t.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}function mV(n){return Pt((t,e)=>n<=e)}let gV=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),moe=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=rs(e);return new Te(r=>{const o=this._observeElement(i).subscribe(r);return()=>{o.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Q,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(b(gV))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),goe=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new Re,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=wn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Uo(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(cD(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(m(moe),m(J),m(K))},n.\u0275dir=S({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),_V=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({providers:[gV]}),n})();function sm(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const vV="cdk-describedby-message-container",bV="cdk-describedby-message",om="cdk-describedby-host";let voe=0;const Cr=new Map;let Zn=null,boe=(()=>{class n{constructor(e){this._document=e}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const s=uD(i,r);"string"!=typeof i?(CV(i),Cr.set(s,{messageElement:i,referenceCount:0})):Cr.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const s=uD(i,r);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),"string"==typeof i){const o=Cr.get(s);o&&0===o.referenceCount&&this._deleteMessageElement(s)}Zn&&0===Zn.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const e=this._document.querySelectorAll(`[${om}]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(om);Zn&&this._deleteMessagesContainer(),Cr.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");CV(r),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),Zn.appendChild(r),Cr.set(uD(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){var i;const r=Cr.get(e);null===(i=null==r?void 0:r.messageElement)||void 0===i||i.remove(),Cr.delete(e)}_createMessagesContainer(){if(!Zn){const e=this._document.getElementById(vV);null==e||e.remove(),Zn=this._document.createElement("div"),Zn.id=vV,Zn.style.visibility="hidden",Zn.classList.add("cdk-visually-hidden"),this._document.body.appendChild(Zn)}}_deleteMessagesContainer(){Zn&&(Zn.remove(),Zn=null)}_removeCdkDescribedByReferenceIds(e){const i=sm(e,"aria-describedby").filter(r=>0!=r.indexOf(bV));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=Cr.get(i);(function(n,t,e){const i=sm(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(om,""),r.referenceCount++}_removeMessageReference(e,i){const r=Cr.get(i);r.referenceCount--,function(n,t,e){const r=sm(n,t).filter(s=>s!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(om)}_isElementDescribedByMessage(e,i){const r=sm(e,"aria-describedby"),s=Cr.get(i),o=s&&s.messageElement.id;return!!o&&-1!=r.indexOf(o)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=e.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(b(Y))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uD(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function CV(n){n.id||(n.id=`${bV}-${voe++}`)}class woe extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Q,this._typeaheadSubscription=Pe.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Q,this.change=new Q,t instanceof Wa&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(jt(e=>this._pressedLetters.push(e)),cD(t),Pt(()=>this._pressedLetters.length>0),ee(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,o=i[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||rm(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),r=e[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Wa?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let wV=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function(n){try{return n.frameElement}catch(t){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===DV(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=DV(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||EV(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(b(Vt))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function EV(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function DV(n){if(!EV(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Ooe{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(qe(1)).subscribe(t)}}let Poe=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new Ooe(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(b(wV),b(K),b(Y))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dD(n){return 0===n.offsetX&&0===n.offsetY}function hD(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Noe=new I("cdk-input-modality-detector-options"),Foe={ignoreKeys:[18,17,224,91,16]},Ol=kl({passive:!0,capture:!0});let Loe=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Yn(null),this._lastTouchMs=0,this._onKeydown=o=>{var a,l;(null===(l=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)||void 0===l?void 0:l.some(c=>c===o.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=$o(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(dD(o)?"keyboard":"mouse"),this._mostRecentTarget=$o(o))},this._onTouchstart=o=>{hD(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=$o(o))},this._options=Object.assign(Object.assign({},Foe),s),this.modalityDetected=this._modality.pipe(mV(1)),this.modalityChanged=this.modalityDetected.pipe(GL()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Ol),r.addEventListener("mousedown",this._onMousedown,Ol),r.addEventListener("touchstart",this._onTouchstart,Ol)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ol),document.removeEventListener("mousedown",this._onMousedown,Ol),document.removeEventListener("touchstart",this._onTouchstart,Ol))}}return n.\u0275fac=function(e){return new(e||n)(b(Vt),b(K),b(Y),b(Noe,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Voe=new I("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Hoe=new I("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Uoe=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,o;return 1===i.length&&"number"==typeof i[0]?o=i[0]:[s,o]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>new Promise(a=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,a(),"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e;clearTimeout(this._previousTimeout),null===(e=this._liveElement)||void 0===e||e.remove(),this._liveElement=null}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(b(Voe,8),b(K),b(Y),b(Hoe,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const joe=new I("cdk-focus-monitor-default-options"),am=kl({passive:!0,capture:!0});let Pl=(()=>{class n{constructor(e,i,r,s,o){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Q,this._rootNodeFocusAndBlurListener=a=>{const l=$o(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,a,u)},this._document=s,this._detectionMode=(null==o?void 0:o.detectionMode)||0}monitor(e,i=!1){const r=rs(e);if(!this._platform.isBrowser||1!==r.nodeType)return j(null);const s=nV(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;const a={checkChildren:i,subject:new Q,rootNode:s};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=rs(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=rs(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=$o(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,am),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,am)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(It(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,am),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,am),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(b(K),b(Vt),b(Loe),b(Y,8),b(joe,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TV="cdk-high-contrast-black-on-white",IV="cdk-high-contrast-white-on-black",fD="cdk-high-contrast-active";let MV=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(fD),e.remove(TV),e.remove(IV),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(fD),e.add(TV)):2===i&&(e.add(fD),e.add(IV))}}}return n.\u0275fac=function(e){return new(e||n)(b(Vt),b(Y))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$oe=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(b(MV))},n.\u0275mod=z({type:n}),n.\u0275inj=$({imports:[[Zp,_V]]}),n})();class AV{}const ss="*";function zs(n,t){return{type:7,name:n,definitions:t,options:{}}}function _i(n,t=null){return{type:4,styles:t,timings:n}}function xV(n,t=null){return{type:2,steps:n,options:t}}function Je(n){return{type:6,styles:n,offset:null}}function yi(n,t,e){return{type:0,name:n,styles:t,options:e}}function Goe(n){return{type:5,steps:n}}function Jn(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function kV(n){Promise.resolve(null).then(n)}class Nl{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){kV(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class RV{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?kV(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function OV(){return"undefined"!=typeof window&&void 0!==window.document}function mD(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Gs(n){switch(n.length){case 0:return new Nl;case 1:return n[0];default:return new RV(n)}}function PV(n,t,e,i,r={},s={}){const o=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const d=u.offset,h=d==l,f=h&&c||{};Object.keys(u).forEach(p=>{let g=p,_=u[p];if("offset"!==p)switch(g=t.normalizePropertyName(g,o),_){case"!":_=r[p];break;case ss:_=s[p];break;default:_=t.normalizeStyleValue(p,g,_,o)}f[g]=_}),h||a.push(f),c=f,l=d}),o.length){const u="\n - ";throw new Error(`Unable to animate due to the following errors:${u}${o.join(u)}`)}return a}function gD(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&_D(e,"start",n)));break;case"done":n.onDone(()=>i(e&&_D(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&_D(e,"destroy",n)))}}function _D(n,t,e){const i=e.totalTime,s=yD(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),o=n._data;return null!=o&&(s._data=o),s}function yD(n,t,e,i,r="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function ei(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function NV(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let vD=(n,t)=>!1,FV=(n,t,e)=>[];(mD()||"undefined"!=typeof Element)&&(vD=OV()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),FV=(n,t,e)=>{let i=[];if(e){const r=n.querySelectorAll(t);for(let s=0;s<r.length;s++)i.push(r[s])}else{const r=n.querySelector(t);r&&i.push(r)}return i});let Wo=null,LV=!1;function bD(n){Wo||(Wo=("undefined"!=typeof document?document.body:null)||{},LV=!!Wo.style&&"WebkitAppearance"in Wo.style);let t=!0;return Wo.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Wo.style,!t&&LV&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Wo.style)),t}const CD=vD,wD=FV;function VV(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let BV=(()=>{class n{validateStyleProperty(e){return bD(e)}matchesElement(e,i){return!1}containsElement(e,i){return CD(e,i)}query(e,i,r){return wD(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,o,a=[],l){return new Nl(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),ED=(()=>{class n{}return n.NOOP=new BV,n})();const DD="ng-enter",lm="ng-leave",cm="ng-trigger",um=".ng-trigger",UV="ng-animating",SD=".ng-animating";function qo(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:TD(parseFloat(t[1]),t[2])}function TD(n,t){return"s"===t?1e3*n:n}function dm(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};r=TD(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=TD(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),a=!0),s<0&&(t.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&t.splice(l,0,`The provided timing value "${n}" is invalid.`)}return{duration:r,delay:s,easing:o}}(n,t,e)}function Fl(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Ws(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Fl(n,e);return e}function $V(n,t,e){return e?t+":"+e+";":""}function zV(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=$V(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=$V(0,tae(e),n.style[e]));n.setAttribute("style",t)}function wr(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=MD(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),mD()&&zV(n))}function Ko(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=MD(e);n.style[i]=""}),mD()&&zV(n))}function ud(n){return Array.isArray(n)?1==n.length?n[0]:xV(n):n}const ID=new RegExp("{{\\s*(.+?)\\s*}}","g");function GV(n){let t=[];if("string"==typeof n){let e;for(;e=ID.exec(n);)t.push(e[1]);ID.lastIndex=0}return t}function hm(n,t,e){const i=n.toString(),r=i.replace(ID,(s,o)=>{let a=t[o];return t.hasOwnProperty(o)||(e.push(`Please provide a value for the animation param ${o}`),a=""),a.toString()});return r==i?n:r}function fm(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const eae=/-+([a-z0-9])/g;function MD(n){return n.replace(eae,(...t)=>t[1].toUpperCase())}function tae(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function WV(n,t){return 0===n||0===t}function qV(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let s=t[0],o=[];if(i.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=e[a]}),o.length)for(var r=1;r<t.length;r++){let a=t[r];o.forEach(function(l){a[l]=AD(n,l)})}}return t}function ti(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function AD(n,t){return window.getComputedStyle(n)[t]}function nae(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const l=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const r=i[1],s=i[2],o=i[3];t.push(KV(r,o));"<"==s[0]&&!("*"==r&&"*"==o)&&t.push(KV(o,r))}(i,e,t)):e.push(n),e}const mm=new Set(["true","1"]),gm=new Set(["false","0"]);function KV(n,t){const e=mm.has(n)||gm.has(n),i=mm.has(t)||gm.has(t);return(r,s)=>{let o="*"==n||n==r,a="*"==t||t==s;return!o&&e&&"boolean"==typeof r&&(o=r?mm.has(n):gm.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?mm.has(t):gm.has(t)),o&&a}}const sae=new RegExp("s*:selfs*,?","g");function xD(n,t,e){return new oae(n).build(t,e)}class oae{constructor(t){this._driver=t}build(t,e){const i=new cae(e);return this._resetContextStyleTimingState(i),ti(this,ud(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,o.push(l)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};if(i.styles.forEach(a=>{if(_m(a)){const l=a;Object.keys(l).forEach(c=>{GV(l[c]).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}}),s.size){const a=fm(s.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ti(this,ud(t.animation),e);return{type:1,matchers:nae(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Yo(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ti(this,i,e)),options:Yo(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(o=>{e.currentTime=i;const a=ti(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:s,options:Yo(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return kD(dm(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=kD(0,0,"");return s.dynamic=!0,s.strValue=i,s}return e=e||dm(i,t),kD(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Je({});if(5==s.type)r=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=Je(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(o=>{"string"==typeof o?o==ss?i.push(o):e.errors.push(`The provided style string value ${o} is not allowed.`):i.push(o)}):i.push(t.styles);let r=!1,s=null;return i.forEach(o=>{if(_m(o)){const a=o,l=a.easing;if(l&&(s=l,delete a.easing),!r)for(let c in a)if(a[c].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void e.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const l=e.collectedStyles[e.currentQuerySelector],c=l[a];let u=!0;c&&(s!=r&&s>=c.startTime&&r<=c.endTime&&(e.errors.push(`The CSS property "${a}" that exists between the times of "${c.startTime}ms" and "${c.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${r}ms"`),u=!1),s=c.startTime),u&&(l[a]={startTime:s,endTime:r}),e.options&&function(n,t,e){const i=t.params||{},r=GV(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(o[a],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let s=0;const o=[];let a=!1,l=!1,c=0;const u=t.steps.map(E=>{const v=this._makeStyleAst(E,e);let T=null!=v.offset?v.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(_m(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(_m(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(v.styles),P=0;return null!=T&&(s++,P=v.offset=T),l=l||P<0||P>1,a=a||P<c,c=P,o.push(P),v});l&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");const d=t.steps.length;let h=0;s>0&&s<d?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(h=1/(d-1));const f=d-1,p=e.currentTime,g=e.currentAnimateTimings,_=g.duration;return u.forEach((E,v)=>{const T=h>0?v==f?1:h*v:o[v],P=T*_;e.currentTime=p+g.delay+P,g.duration=P,this._validateStyleAst(E,e),E.offset=T,i.styles.push(E)}),i}visitReference(t,e){return{type:8,animation:ti(this,ud(t.animation),e),options:Yo(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Yo(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Yo(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(sae,"")),n=n.replace(/@\*/g,um).replace(/@\w+/g,e=>um+"-"+e.substr(1)).replace(/:animating/g,SD),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,ei(e.collectedStyles,e.currentQuerySelector,{});const a=ti(this,ud(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:Yo(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:dm(t.timings,e.errors,!0);return{type:12,animation:ti(this,ud(t.animation),e),timings:i,options:null}}}class cae{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function _m(n){return!Array.isArray(n)&&"object"==typeof n}function Yo(n){return n?(n=Fl(n)).params&&(n.params=function(n){return n?Fl(n):null}(n.params)):n={},n}function kD(n,t,e){return{duration:n,delay:t,easing:e}}function RD(n,t,e,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class ym{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const pae=new RegExp(":enter","g"),gae=new RegExp(":leave","g");function OD(n,t,e,i,r,s={},o={},a,l,c=[]){return(new _ae).buildKeyframes(n,t,e,i,r,s,o,a,l,c)}class _ae{buildKeyframes(t,e,i,r,s,o,a,l,c,u=[]){c=c||new ym;const d=new PD(t,e,c,r,s,u,[]);d.options=l,d.currentTimeline.setStyles([o],null,d.errors,l),ti(this,i,d);const h=d.timelines.filter(f=>f.containsAnimation());if(h.length&&Object.keys(a).length){const f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,d.errors,l)}return h.length?h.map(f=>f.buildKeyframes()):[RD(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const o=null!=i.duration?qo(i.duration):null,a=null!=i.delay?qo(i.delay):null;return 0!==o&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),ti(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=vm);const o=qo(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>ti(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?qo(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);s&&a.delayNextStep(s),ti(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return dm(e.params?hm(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?qo(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=vm);let o=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const d=e.createSubContext(t.options,c);s&&d.delayNextStep(s),c===e.element&&(l=d.currentTimeline),ti(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;ti(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const vm={};class PD{constructor(t,e,i,r,s,o,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new bm(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=qo(i.duration)),null!=i.delay&&(r.delay=qo(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=hm(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new PD(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=vm,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},s=new yae(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(pae,"."+this._enterClassName)).replace(gae,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),a}}class bm{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new bm(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||ss,this._currentKeyframe[e]=ss}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const s=r&&r.params||{},o=function(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(s=>{e[s]=ss})):Ws(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=hm(o[a],s,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:ss),this._updateStyle(a,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Ws(a,!0);Object.keys(c).forEach(u=>{const d=c[u];"!"==d?t.add(u):d==ss&&e.add(u)}),i||(c.offset=l/this.duration),r.push(c)});const s=t.size?fm(t.values()):[],o=e.size?fm(e.values()):[];if(i){const a=r[0],l=Fl(a);a.offset=0,l.offset=1,r=[a,l]}return RD(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class yae extends bm{constructor(t,e,i,r,s,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=i+e,a=e/o,l=Ws(t[0],!1);l.offset=0,s.push(l);const c=Ws(t[0],!1);c.offset=XV(a),s.push(c);const u=t.length-1;for(let d=1;d<=u;d++){let h=Ws(t[d],!1);h.offset=XV((e+h.offset*i)/o),s.push(h)}i=o,e=0,r="",t=s}return RD(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function XV(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class ND{}class bae extends ND{normalizePropertyName(t,e){return MD(t)}normalizeStyleValue(t,e,i,r){let s="";const o=i.toString().trim();if(Cae[e]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(`Please provide a CSS unit value for ${t}:${i}`)}return o+s}}const Cae=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ZV(n,t,e,i,r,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const FD={};class JV{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],s=this._stateStyles[t],o=r?r.buildStyles(e,i):{};return s?s.buildStyles(e,i):o}build(t,e,i,r,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||FD,p=this.buildStyles(i,a&&a.params||FD,d),g=l&&l.params||FD,_=this.buildStyles(r,g,d),E=new Set,v=new Map,T=new Map,P="void"===r,te={params:Object.assign(Object.assign({},h),g)},$e=u?[]:OD(t,e,this.ast.animation,s,o,p,_,te,c,d);let et=0;if($e.forEach(en=>{et=Math.max(en.duration+en.delay,et)}),d.length)return ZV(e,this._triggerName,i,r,P,p,_,[],[],v,T,et,d);$e.forEach(en=>{const Sn=en.element,ql=ei(v,Sn,{});en.preStyleProps.forEach($i=>ql[$i]=!0);const hs=ei(T,Sn,{});en.postStyleProps.forEach($i=>hs[$i]=!0),Sn!==e&&E.add(Sn)});const Dn=fm(E.values());return ZV(e,this._triggerName,i,r,P,p,_,$e,Dn,v,T,et)}}class Dae{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=Fl(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!=o&&(r[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=hm(l,r,e));const c=this.normalizer.normalizePropertyName(a,e);l=this.normalizer.normalizeStyleValue(a,c,l,e),i[c]=l})}}),i}}class Tae{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new Dae(r.style,r.options&&r.options.params||{},i)}),eB(this.states,"true","1"),eB(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new JV(t,r,this.states))}),this.fallbackTransition=function(n,t,e){return new JV(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(o=>o.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function eB(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const Mae=new ym;class Aae{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],r=xD(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,i){const r=t.element,s=PV(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations[t];let o;const a=new Map;if(s?(o=OD(this._driver,e,s,DD,lm,{},{},i,Mae,r),o.forEach(u=>{const d=ei(a,u.element,{});u.postStyleProps.forEach(h=>d[h]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);a.forEach((u,d)=>{Object.keys(u).forEach(h=>{u[h]=this._driver.computeStyle(d,h,ss)})});const c=Gs(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,{},d)}));return this._playersById[t]=c,c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,r){const s=yD(e,"","","");return gD(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const tB="ng-animate-queued",LD="ng-animate-disabled",Pae=[],nB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Nae={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},vi="__ng_removed";class VD{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(i?t.value:t),i){const s=Fl(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const dd="void",BD=new VD(dd);class Fae{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,bi(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const s=ei(this._elementListeners,t,[]),o={name:e,phase:i,callback:r};s.push(o);const a=ei(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(bi(t,cm),bi(t,cm+"-"+e),a[e]=BD),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),o=new HD(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(bi(t,cm),bi(t,cm+"-"+e),this._engine.statesByElement.set(t,a={}));let l=a[e];const c=new VD(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[e]=c,l||(l=BD),c.value!==dd&&l.value===c.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(l.params,c.params)){const g=[],_=s.matchStyles(l.value,l.params,g),E=s.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Ko(t,_),wr(t,E)})}return}const h=ei(this._engine.playersByElement,t,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==e&&g.queued&&g.destroy()});let f=s.matchTransition(l.value,c.value,t,c.params),p=!1;if(!f){if(!r)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(bi(t,tB),o.onStart(()=>{Ll(t,tB)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const _=this._engine.playersByElement.get(t);if(_){let E=_.indexOf(o);E>=0&&_.splice(E,1)}}),this.players.push(o),h.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,um,!0);i.forEach(r=>{if(r[vi])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t);if(s){const o=[];if(Object.keys(s).forEach(a=>{if(this._triggers[a]){const l=this.trigger(t,a,dd,r);l&&o.push(l)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&Gs(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers[o].fallbackTransition,c=i[o]||BD,u=new VD(dd),d=new HD(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[vi];(!s||s===nB)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){bi(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=yD(s,i.triggerName,i.fromState.value,i.toState.value);l._data=t,gD(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Lae{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Fae(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let r=!1;for(let s=i;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,e)){this._namespaceList.splice(s+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const o=i[r[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&e.add(a)}}}return e}trigger(t,e,i,r){if(Cm(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Cm(e))return;const s=e[vi];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),bi(t,LD)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ll(t,LD))}removeNode(t,e,i,r){if(Cm(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r){this.collectedLeaveElements.push(e),e[vi]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,r,s){return Cm(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,um,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,SD,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Gs(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[vi];if(i&&i.setForRemoval){if(t[vi]=nB,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(LD))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)bi(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Gs(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new ym,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(V=>{u.add(V);const G=this.driver.query(V,".ng-animate-queued",!0);for(let ne=0;ne<G.length;ne++)u.add(G[ne])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=sB(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((V,G)=>{const ne=DD+g++;p.set(G,ne),V.forEach(xe=>bi(xe,ne))});const _=[],E=new Set,v=new Set;for(let V=0;V<this.collectedLeaveElements.length;V++){const G=this.collectedLeaveElements[V],ne=G[vi];ne&&ne.setForRemoval&&(_.push(G),E.add(G),ne.hasAnimation?this.driver.query(G,".ng-star-inserted",!0).forEach(xe=>E.add(xe)):v.add(G))}const T=new Map,P=sB(h,Array.from(E));P.forEach((V,G)=>{const ne=lm+g++;T.set(G,ne),V.forEach(xe=>bi(xe,ne))}),t.push(()=>{f.forEach((V,G)=>{const ne=p.get(G);V.forEach(xe=>Ll(xe,ne))}),P.forEach((V,G)=>{const ne=T.get(G);V.forEach(xe=>Ll(xe,ne))}),_.forEach(V=>{this.processLeaveNode(V)})});const te=[],$e=[];for(let V=this._namespaceList.length-1;V>=0;V--)this._namespaceList[V].drainQueuedTransitions(e).forEach(ne=>{const xe=ne.player,Yt=ne.element;if(te.push(xe),this.collectedEnterElements.length){const Ci=Yt[vi];if(Ci&&Ci.setForMove)return void xe.destroy()}const Ir=!d||!this.driver.containsElement(d,Yt),ni=T.get(Yt),Qs=p.get(Yt),dt=this._buildInstruction(ne,i,Qs,ni,Ir);if(dt.errors&&dt.errors.length)return void $e.push(dt);if(Ir)return xe.onStart(()=>Ko(Yt,dt.fromStyles)),xe.onDestroy(()=>wr(Yt,dt.toStyles)),void r.push(xe);if(ne.isFallbackTransition)return xe.onStart(()=>Ko(Yt,dt.fromStyles)),xe.onDestroy(()=>wr(Yt,dt.toStyles)),void r.push(xe);const zH=[];dt.timelines.forEach(Ci=>{Ci.stretchStartingKeyframe=!0,this.disabledNodes.has(Ci.element)||zH.push(Ci)}),dt.timelines=zH,i.append(Yt,dt.timelines),o.push({instruction:dt,player:xe,element:Yt}),dt.queriedElements.forEach(Ci=>ei(a,Ci,[]).push(xe)),dt.preStyleProps.forEach((Ci,xd)=>{const rg=Object.keys(Ci);if(rg.length){let Jo=l.get(xd);Jo||l.set(xd,Jo=new Set),rg.forEach(oT=>Jo.add(oT))}}),dt.postStyleProps.forEach((Ci,xd)=>{const rg=Object.keys(Ci);let Jo=c.get(xd);Jo||c.set(xd,Jo=new Set),rg.forEach(oT=>Jo.add(oT))})});if($e.length){const V=[];$e.forEach(G=>{V.push(`@${G.triggerName} has failed due to:\n`),G.errors.forEach(ne=>V.push(`- ${ne}\n`))}),te.forEach(G=>G.destroy()),this.reportError(V)}const et=new Map,Dn=new Map;o.forEach(V=>{const G=V.element;i.has(G)&&(Dn.set(G,G),this._beforeAnimationBuild(V.player.namespaceId,V.instruction,et))}),r.forEach(V=>{const G=V.element;this._getPreviousPlayers(G,!1,V.namespaceId,V.triggerName,null).forEach(xe=>{ei(et,G,[]).push(xe),xe.destroy()})});const en=_.filter(V=>aB(V,l,c)),Sn=new Map;rB(Sn,this.driver,v,c,ss).forEach(V=>{aB(V,l,c)&&en.push(V)});const hs=new Map;f.forEach((V,G)=>{rB(hs,this.driver,new Set(V),l,"!")}),en.forEach(V=>{const G=Sn.get(V),ne=hs.get(V);Sn.set(V,Object.assign(Object.assign({},G),ne))});const $i=[],Kl=[],Yl={};o.forEach(V=>{const{element:G,player:ne,instruction:xe}=V;if(i.has(G)){if(u.has(G))return ne.onDestroy(()=>wr(G,xe.toStyles)),ne.disabled=!0,ne.overrideTotalTime(xe.totalTime),void r.push(ne);let Yt=Yl;if(Dn.size>1){let ni=G;const Qs=[];for(;ni=ni.parentNode;){const dt=Dn.get(ni);if(dt){Yt=dt;break}Qs.push(ni)}Qs.forEach(dt=>Dn.set(dt,Yt))}const Ir=this._buildAnimation(ne.namespaceId,xe,et,s,hs,Sn);if(ne.setRealPlayer(Ir),Yt===Yl)$i.push(ne);else{const ni=this.playersByElement.get(Yt);ni&&ni.length&&(ne.parentPlayer=Gs(ni)),r.push(ne)}}else Ko(G,xe.fromStyles),ne.onDestroy(()=>wr(G,xe.toStyles)),Kl.push(ne),u.has(G)&&r.push(ne)}),Kl.forEach(V=>{const G=s.get(V.element);if(G&&G.length){const ne=Gs(G);V.setRealPlayer(ne)}}),r.forEach(V=>{V.parentPlayer?V.syncPlayerEvents(V.parentPlayer):V.destroy()});for(let V=0;V<_.length;V++){const G=_[V],ne=G[vi];if(Ll(G,lm),ne&&ne.hasAnimation)continue;let xe=[];if(a.size){let Ir=a.get(G);Ir&&Ir.length&&xe.push(...Ir);let ni=this.driver.query(G,SD,!0);for(let Qs=0;Qs<ni.length;Qs++){let dt=a.get(ni[Qs]);dt&&dt.length&&xe.push(...dt)}}const Yt=xe.filter(Ir=>!Ir.destroyed);Yt.length?Uae(this,G,Yt):this.processLeaveNode(G)}return _.length=0,$i.forEach(V=>{this.players.push(V),V.onDone(()=>{V.destroy();const G=this.players.indexOf(V);this.players.splice(G,1)}),V.play()}),$i}elementContainsData(t,e){let i=!1;const r=e[vi];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!s||s==dd;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){const s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==s,d=ei(i,c,[]);this._getPreviousPlayers(c,u,o,a,e.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Ko(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,o){const a=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,h=e.timelines.map(p=>{const g=p.element;u.add(g);const _=g[vi];if(_&&_.removedBeforeQueried)return new Nl(p.duration,p.delay);const E=g!==l,v=function(n){const t=[];return oB(n,t),t}((i.get(g)||Pae).map(et=>et.getRealPlayer())).filter(et=>!!et.element&&et.element===g),T=s.get(g),P=o.get(g),te=PV(0,this._normalizer,0,p.keyframes,T,P),$e=this._buildPlayer(p,te,v);if(p.subTimeline&&r&&d.add(g),E){const et=new HD(t,a,g);et.setRealPlayer($e),c.push(et)}return $e});c.forEach(p=>{ei(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>bi(p,UV));const f=Gs(h);return f.onDestroy(()=>{u.forEach(p=>Ll(p,UV)),wr(l,e.toStyles)}),d.forEach(p=>{ei(r,p,[]).push(f)}),f}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Nl(t.duration,t.delay)}}class HD{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Nl,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>gD(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ei(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Cm(n){return n&&1===n.nodeType}function iB(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function rB(n,t,e,i,r){const s=[];e.forEach(l=>s.push(iB(l)));const o=[];i.forEach((l,c)=>{const u={};l.forEach(d=>{const h=u[d]=t.computeStyle(c,d,r);(!h||0==h.length)&&(c[vi]=Nae,o.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>iB(l,s[a++])),o}function sB(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&e.get(l).push(a)}),e}function bi(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Ll(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function Uae(n,t,e){Gs(e).onDone(()=>n.processLeaveNode(t))}function oB(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof RV?oB(i.players,t):t.push(i)}}function aB(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class wm{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Lae(t,e,i),this._timelineEngine=new Aae(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const o=t+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],c=xD(this._driver,s,l);if(l.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);a=function(n,t,e){return new Tae(n,t,e)}(r,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,o]=NV(i);this._timelineEngine.command(s,e,o,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[o,a]=NV(i);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function lB(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=UD(t[0]),t.length>1&&(i=UD(t[t.length-1]))):t&&(e=UD(t)),e||i?new zae(n,e,i):null}let zae=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&wr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(wr(this._element,this._initialStyles),this._endStyles&&(wr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ko(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ko(this._element,this._endStyles),this._endStyles=null),wr(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function UD(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];Gae(r)&&(t=t||{},t[r]=n[r])}return t}function Gae(n){return"display"===n||"position"===n}const cB="animation",uB="animationend";class Kae{constructor(t,e,i,r,s,o,a){this._element=t,this._name=e,this._duration=i,this._delay=r,this._easing=s,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(n,t){const e=$D(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),Em(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),fB(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){dB(this._element,this._name,"paused")}resume(){dB(this._element,this._name,"running")}setPosition(t){const e=hB(this._element,this._name);this._position=t*this._duration,Em(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),fB(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=$D(n,"").split(","),r=jD(i,t);r>=0&&(i.splice(r,1),Em(n,"",i.join(",")))}(this._element,this._name))}}function dB(n,t,e){Em(n,"PlayState",e,hB(n,t))}function hB(n,t){const e=$D(n,"");return e.indexOf(",")>0?jD(e.split(","),t):jD([e],t)}function jD(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function fB(n,t,e){e?n.removeEventListener(uB,t):n.addEventListener(uB,t)}function Em(n,t,e,i){const r=cB+t;if(null!=i){const s=n.style[r];if(s.length){const o=s.split(",");o[i]=e,e=o.join(",")}}n.style[r]=e}function $D(n,t){return n.style[cB+t]||""}class pB{constructor(t,e,i,r,s,o,a,l){this.element=t,this.keyframes=e,this.animationName=i,this._duration=r,this._delay=s,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+s,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Kae(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:AD(this.element,i))})}this.currentSnapshot=t}}class ele extends Nl{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=VV(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class gB{constructor(){this._count=0}validateStyleProperty(t){return bD(t)}matchesElement(t,e){return!1}containsElement(t,e){return CD(t,e)}query(t,e,i){return wD(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(a=>VV(a));let r=`@keyframes ${e} {\n`,s="";i.forEach(a=>{s=" ";const l=parseFloat(a.offset);r+=`${s}${100*l}% {\n`,s+=" ",Object.keys(a).forEach(c=>{const u=a[c];switch(c){case"offset":return;case"easing":return void(u&&(r+=`${s}animation-timing-function: ${u};\n`));default:return void(r+=`${s}${c}: ${u};\n`)}}),r+=`${s}}\n`}),r+="}\n";const o=document.createElement("style");return o.textContent=r,o}animate(t,e,i,r,s,o=[],a){const l=o.filter(_=>_ instanceof pB),c={};WV(i,r)&&l.forEach(_=>{let E=_.currentSnapshot;Object.keys(E).forEach(v=>c[v]=E[v])});const u=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(r=>{"offset"==r||"easing"==r||(t[r]=i[r])})}),t}(e=qV(t,e,c));if(0==i)return new ele(t,u);const d="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,d,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(h);const p=lB(t,e),g=new pB(t,e,d,i,r,s,u,p);return g.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(h)),g}}class yB{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:AD(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class sle{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(vB().toString()),this._cssKeyframesDriver=new gB}validateStyleProperty(t){return bD(t)}matchesElement(t,e){return!1}containsElement(t,e){return CD(t,e)}query(t,e,i){return wD(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,r,s,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,r,s,o);const u={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(u.easing=s);const d={},h=o.filter(p=>p instanceof yB);WV(i,r)&&h.forEach(p=>{let g=p.currentSnapshot;Object.keys(g).forEach(_=>d[_]=g[_])});const f=lB(t,e=qV(t,e=e.map(p=>Ws(p,!1)),d));return new yB(t,e,u,f)}}function vB(){return OV()&&Element.prototype.animate||{}}let ale=(()=>{class n extends AV{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Ei.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?xV(e):e;return bB(this._renderer,null,i,"register",[r]),new lle(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(b(Fc),b(Y))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();class lle extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new cle(this._id,t,e||{},this._renderer)}}class cle{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return bB(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function bB(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const CB="@.disabled";let ule=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,o)=>{const a=null==o?void 0:o.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(s);return u||(u=new wB("",s,this.engine),this._rendererCache.set(s,u)),u}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,e,u.name,u)};return i.data.animation.forEach(l),new dle(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(b(Fc),b(wm),b(K))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();class wB{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==CB?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class dle extends wB{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==CB?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let ple=(()=>{class n extends wm{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(b(Y),b(ED),b(ND))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const os=new I("AnimationModuleType"),EB=[{provide:AV,useClass:ale},{provide:ND,useFactory:function(){return new bae}},{provide:wm,useClass:ple},{provide:Fc,useFactory:function(n,t,e){return new ule(n,t,e)},deps:[tf,wm,K]}],DB=[{provide:ED,useFactory:function(){return"function"==typeof vB()?new sle:new gB}},{provide:os,useValue:"BrowserAnimations"},...EB],yle=[{provide:ED,useClass:BV},{provide:os,useValue:"NoopAnimations"},...EB];let vle=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?yle:DB}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({providers:DB,imports:[zR]}),n})();const Cle=new I("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Se=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!J0()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(b(MV),b(Cle,8),b(Y))},n.\u0275mod=z({type:n}),n.\u0275inj=$({imports:[[ad],ad]}),n})();function TB(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=wn(t)}}}function Vl(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function IB(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=wn(t)}}}function wle(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new Q,this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}let MB=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({imports:[[Se],Se]}),n})();class Dle{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const xB={enterDuration:225,exitDuration:150},zD=kl({passive:!0}),kB=["mousedown","touchstart"],RB=["mouseup","mouseleave","touchend","touchcancel"];class Tle{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=rs(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},xB),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=i.radius||function(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),a=t-r.left,l=e-r.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u),function(n){window.getComputedStyle(n).getPropertyValue("opacity")}(u),u.style.transform="scale(1)";const d=new Dle(this,u,i);return d.state=0,this._activeRipples.add(d),i.persistent||(this._mostRecentTransientRipple=d),this._runTimeoutOutsideZone(()=>{const h=d===this._mostRecentTransientRipple;d.state=1,!i.persistent&&(!h||!this._isPointerDown)&&d.fadeOut()},c),d}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},xB),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=rs(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(kB))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(RB),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=dD(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!hD(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,zD)})})}_removeTriggerEvents(){this._triggerElement&&(kB.forEach(t=>{this._triggerElement.removeEventListener(t,this,zD)}),this._pointerUpEventsRegistered&&RB.forEach(t=>{this._triggerElement.removeEventListener(t,this,zD)}))}}const Ale=new I("mat-ripple-global-options");let Sm=(()=>{class n{constructor(e,i,r,s,o){this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Tle(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(m(J),m(K),m(Vt),m(Ale,8),m(os,8))},n.\u0275dir=S({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&yt("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),GD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({imports:[[Se,Zp],Se]}),n})(),xle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({imports:[[Se]]}),n})(),OB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({imports:[[GD,lr,Se,xle]]}),n})();function kle(n,t){}class WD{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0}}const Rle={dialogContainer:zs("dialogContainer",[yi("void, exit",Je({opacity:0,transform:"scale(0.7)"})),yi("enter",Je({transform:"none"})),Jn("* => enter",_i("150ms cubic-bezier(0, 0, 0.2, 1)",Je({transform:"none",opacity:1}))),Jn("* => void, * => exit",_i("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Je({opacity:0})))])};let Ole=(()=>{class n extends tm{constructor(e,i,r,s,o,a,l,c){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=o,this._interactivityChecker=a,this._ngZone=l,this._focusMonitor=c,this._animationStateChanged=new Re,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(u)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{e.addEventListener("blur",()=>e.removeAttribute("tabindex")),e.addEventListener("mousedown",()=>e.removeAttribute("tabindex"))})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=Z0(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=Z0())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Z0();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(m(J),m(Poe),m(rr),m(Y,8),m(WD),m(wV),m(K),m(Pl))},n.\u0275dir=S({type:n,viewQuery:function(e,i){if(1&e&&Ut(nm,7),2&e){let r;ce(r=ue())&&(i._portalOutlet=r.first)}},features:[B]}),n})(),Ple=(()=>{class n extends Ole{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ne(n)))(i||n)}}(),n.\u0275cmp=Ce({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&Dh("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(kc("id",i._id),Ue("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),Th("@dialogContainer",i._state))},features:[B],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&U(0,kle,0,0,"ng-template",0)},directives:[nm],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Rle.dialogContainer]}}),n})(),Nle=0;class Bl{constructor(t,e,i="mat-dialog-"+Nle++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Q,this._afterClosed=new Q,this._beforeClosed=new Q,this._state=0,e._id=i,e._animationStateChanged.pipe(Pt(r=>"opened"===r.state),qe(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Pt(r=>"closed"===r.state),qe(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Pt(r=>27===r.keyCode&&!this.disableClose&&!rm(r))).subscribe(r=>{r.preventDefault(),qD(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():qD(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Pt(e=>"closing"===e.state),qe(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function qD(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const KD=new I("MatDialogData"),Fle=new I("mat-dialog-default-options"),PB=new I("mat-dialog-scroll-strategy"),Vle={provide:PB,deps:[br],useFactory:function(n){return()=>n.scrollStrategies.block()}};let Ble=(()=>{class n{constructor(e,i,r,s,o,a,l,c,u,d){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=o,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._animationMode=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Q,this._afterOpenedAtThisLevel=new Q,this._ariaHiddenElements=new Map,this._dialogAnimatingOpen=!1,this.afterAllClosed=nv(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(jr(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){if(i=function(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new WD),i.id&&this.getDialogById(i.id),this._dialogAnimatingOpen)return this._lastDialogRef;const r=this._createOverlay(i),s=this._attachDialogContainer(r,i);if("NoopAnimations"!==this._animationMode){const a=s._animationStateChanged.subscribe(l=>{"opening"===l.state&&(this._dialogAnimatingOpen=!0),"opened"===l.state&&(this._dialogAnimatingOpen=!1,a.unsubscribe())});this._animationStateSubscriptions||(this._animationStateSubscriptions=new Pe),this._animationStateSubscriptions.add(a)}const o=this._attachDialogContent(e,s,r,i);return this._lastDialogRef=o,this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this._removeOpenDialog(o)),this.afterOpened.next(o),s._initializeWithAttachedContent(),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._animationStateSubscriptions&&this._animationStateSubscriptions.unsubscribe()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new im({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const s=He.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:WD,useValue:i}]}),o=new Rl(this._dialogContainerType,i.viewContainerRef,s,i.componentFactoryResolver);return e.attach(o).instance}_attachDialogContent(e,i,r,s){const o=new this._dialogRefConstructor(r,i,s.id);if(e instanceof Et)i.attachTemplatePortal(new em(e,null,{$implicit:s.data,dialogRef:o}));else{const a=this._createInjector(s,o,i),l=i.attachComponentPortal(new Rl(e,s.viewContainerRef,a));o.componentInstance=l.instance}return o.updateSize(s.width,s.height).updatePosition(s.position),o}_createInjector(e,i,r){const s=e&&e.viewContainerRef&&e.viewContainerRef.injector,o=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!s||!s.get(zo,null,re.Optional))&&o.push({provide:zo,useValue:{value:e.direction,change:j()}}),He.create({parent:s||this._injector,providers:o})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){Mc()},n.\u0275dir=S({type:n}),n})(),Hl=(()=>{class n extends Ble{constructor(e,i,r,s,o,a,l,c){super(e,i,s,a,l,o,Bl,Ple,KD,c)}}return n.\u0275fac=function(e){return new(e||n)(b(br),b(He),b(jc,8),b(Fle,8),b(PB),b(n,12),b(sD),b(os,8))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),Ule=0,NB=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=FB(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){qD(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(m(Bl,8),m(J),m(Hl))},n.\u0275dir=S({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&he("click",function(s){return i._onButtonClick(s)}),2&e&&Ue("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Ht]}),n})(),YD=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+Ule++}ngOnInit(){this._dialogRef||(this._dialogRef=FB(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(m(Bl,8),m(J),m(Hl))},n.\u0275dir=S({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&kc("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),QD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=S({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),XD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=S({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})();function FB(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let jle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({providers:[Hl,Vle],imports:[[cd,iD,Se],Se]}),n})();const LB=["mat-button",""],VB=["*"],Gle=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Wle=Vl(TB(IB(class{constructor(n){this._elementRef=n}})));let Er=(()=>{class n extends Wle{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of Gle)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(m(J),m(Pl),m(os,8))},n.\u0275cmp=Ce({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&Ut(Sm,5),2&e){let r;ce(r=ue())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(Ue("disabled",i.disabled||null),yt("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[B],attrs:LB,ngContentSelectors:VB,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(tr(),C(0,"span",0),wt(1),w(),ye(2,"span",1),ye(3,"span",2)),2&e&&(x(2),yt("mat-button-ripple-round",i.isRoundButton||i.isIconButton),L("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Sm],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),qle=(()=>{class n extends Er{constructor(e,i,r){super(i,e,r)}_haltDisabledEvents(e){this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}}return n.\u0275fac=function(e){return new(e||n)(m(Pl),m(J),m(os,8))},n.\u0275cmp=Ce({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(e,i){1&e&&he("click",function(s){return i._haltDisabledEvents(s)}),2&e&&(Ue("tabindex",i.disabled?-1:i.tabIndex||0)("disabled",i.disabled||null)("aria-disabled",i.disabled.toString()),yt("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[B],attrs:LB,ngContentSelectors:VB,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(tr(),C(0,"span",0),wt(1),w(),ye(2,"span",1),ye(3,"span",2)),2&e&&(x(2),yt("mat-button-ripple-round",i.isRoundButton||i.isIconButton),L("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Sm],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),ZD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({imports:[[GD,Se],Se]}),n})();function BB(...n){const t=ST(n),{args:e,keys:i}=YR(n),r=new Te(s=>{const{length:o}=e;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;Vn(e[u]).subscribe(new it(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?QR(i,a):a),s.complete())}))}});return t?r.pipe(tv(t)):r}class HB{}class UB{}class as{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof as?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new as;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof as?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Yle{encodeKey(t){return jB(t)}encodeValue(t){return jB(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Xle=/%(\d[a-f0-9])/gi,Zle={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function jB(n){return encodeURIComponent(n).replace(Xle,(t,e)=>{var i;return null!==(i=Zle[e])&&void 0!==i?i:t})}function $B(n){return`${n}`}class qs{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Yle,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new qs({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push($B(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf($B(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Jle{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function zB(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function GB(n){return"undefined"!=typeof Blob&&n instanceof Blob}function WB(n){return"undefined"!=typeof FormData&&n instanceof FormData}class fd{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new as),this.context||(this.context=new Jle),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new qs,this.urlWithParams=e}serializeBody(){return null===this.body?null:zB(this.body)||GB(this.body)||WB(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof qs?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||WB(this.body)?null:GB(this.body)?this.body.type||null:zB(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qs?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,s=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,u=t.params||this.params;const d=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((h,f)=>h.set(f,t.setHeaders[f]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((h,f)=>h.set(f,t.setParams[f]),u)),new fd(i,r,o,{params:u,headers:c,context:d,reportProgress:l,responseType:s,withCredentials:a})}}var Mt=(()=>((Mt=Mt||{})[Mt.Sent=0]="Sent",Mt[Mt.UploadProgress=1]="UploadProgress",Mt[Mt.ResponseHeader=2]="ResponseHeader",Mt[Mt.DownloadProgress=3]="DownloadProgress",Mt[Mt.Response=4]="Response",Mt[Mt.User=5]="User",Mt))();class JD{constructor(t,e=200,i="OK"){this.headers=t.headers||new as,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class eS extends JD{constructor(t={}){super(t),this.type=Mt.ResponseHeader}clone(t={}){return new eS({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Tm extends JD{constructor(t={}){super(t),this.type=Mt.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Tm({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class qB extends JD{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function tS(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Im=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof fd)s=e;else{let l,c;l=r.headers instanceof as?r.headers:new as(r.headers),r.params&&(c=r.params instanceof qs?r.params:new qs({fromObject:r.params})),s=new fd(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=j(s).pipe(Za(l=>this.handler.handle(l)));if(e instanceof fd||"events"===r.observe)return o;const a=o.pipe(Pt(l=>l instanceof Tm));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ee(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(ee(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(ee(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(ee(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new qs).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,tS(r,i))}post(e,i,r={}){return this.request("POST",e,tS(r,i))}put(e,i,r={}){return this.request("PUT",e,tS(r,i))}}return n.\u0275fac=function(e){return new(e||n)(b(HB))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();class KB{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const nS=new I("HTTP_INTERCEPTORS");let nce=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const ice=/^\)\]\}',?\n/;let YB=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Te(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((f,p)=>r.setRequestHeader(f,p.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const f=e.detectContentTypeHeader();null!==f&&r.setRequestHeader("Content-Type",f)}if(e.responseType){const f=e.responseType.toLowerCase();r.responseType="json"!==f?f:"text"}const s=e.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=1223===r.status?204:r.status,p=r.statusText||"OK",g=new as(r.getAllResponseHeaders()),_=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return o=new eS({headers:g,status:f,statusText:p,url:_}),o},l=()=>{let{headers:f,status:p,statusText:g,url:_}=a(),E=null;204!==p&&(E=void 0===r.response?r.responseText:r.response),0===p&&(p=E?200:0);let v=p>=200&&p<300;if("json"===e.responseType&&"string"==typeof E){const T=E;E=E.replace(ice,"");try{E=""!==E?JSON.parse(E):null}catch(P){E=T,v&&(v=!1,E={error:P,text:E})}}v?(i.next(new Tm({body:E,headers:f,status:p,statusText:g,url:_||void 0})),i.complete()):i.error(new qB({error:E,headers:f,status:p,statusText:g,url:_||void 0}))},c=f=>{const{url:p}=a(),g=new qB({error:f,status:r.status||0,statusText:r.statusText||"Unknown Error",url:p||void 0});i.error(g)};let u=!1;const d=f=>{u||(i.next(a()),u=!0);let p={type:Mt.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===e.responseType&&!!r.responseText&&(p.partialText=r.responseText),i.next(p)},h=f=>{let p={type:Mt.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),i.next(p)};return r.addEventListener("load",l),r.addEventListener("error",c),r.addEventListener("timeout",c),r.addEventListener("abort",c),e.reportProgress&&(r.addEventListener("progress",d),null!==s&&r.upload&&r.upload.addEventListener("progress",h)),r.send(s),i.next({type:Mt.Sent}),()=>{r.removeEventListener("error",c),r.removeEventListener("abort",c),r.removeEventListener("load",l),r.removeEventListener("timeout",c),e.reportProgress&&(r.removeEventListener("progress",d),null!==s&&r.upload&&r.upload.removeEventListener("progress",h)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(b(OR))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})();const iS=new I("XSRF_COOKIE_NAME"),rS=new I("XSRF_HEADER_NAME");class QB{}let sce=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ER(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(b(Y),b(Is),b(iS))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),sS=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(b(QB),b(rS))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),oce=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(nS,[]);this.chain=i.reduceRight((r,s)=>new KB(r,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(b(UB),b(He))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),ace=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:sS,useClass:nce}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:iS,useValue:e.cookieName}:[],e.headerName?{provide:rS,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({providers:[sS,{provide:nS,useExisting:sS,multi:!0},{provide:QB,useClass:sce},{provide:iS,useValue:"XSRF-TOKEN"},{provide:rS,useValue:"X-XSRF-TOKEN"}]}),n})(),lce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({providers:[Im,{provide:HB,useClass:oce},YB,{provide:UB,useExisting:YB}],imports:[[ace.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const cce=["*"];let Mm;function pd(n){var t;return(null===(t=function(){if(void 0===Mm&&(Mm=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(Mm=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Mm}())||void 0===t?void 0:t.createHTML(n))||n}function XB(n){return Error(`Unable to find icon with the name "${n}"`)}function ZB(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function JB(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Qo{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let Am=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new Qo(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const o=this._sanitizer.sanitize(Fe.HTML,r);if(!o)throw JB(r);const a=pd(o);return this._addSvgIconConfig(e,i,new Qo("",a,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Qo(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(Fe.HTML,i);if(!s)throw JB(i);const o=pd(s);return this._addSvgIconSetConfig(e,new Qo("",o,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(Fe.RESOURCE_URL,e);if(!i)throw ZB(e);const r=this._cachedIconsByUrl.get(i);return r?j(xm(r)):this._loadSvgIconFromConfig(new Qo(e,null)).pipe(jt(s=>this._cachedIconsByUrl.set(i,s)),ee(s=>xm(s)))}getNamedSvgIcon(e,i=""){const r=e2(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(i);return o?this._getSvgFromIconSetConfigs(e,o):function(n,t){const e=me(n)?n:()=>n,i=r=>r.error(e());return new Te(i)}(XB(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?j(xm(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(ee(i=>xm(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?j(r):BB(i.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe($r(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Fe.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),j(null)})))).pipe(ee(()=>{const o=this._extractIconWithNameFromAnySet(e,i);if(!o)throw XB(e);return o}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,e,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(jt(i=>e.svgText=i),ee(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?j(null):this._fetchIcon(e).pipe(jt(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const a=this._svgElementFromString(pd("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(pd("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:o,value:a}=r[s];"id"!==o&&i.setAttribute(o,a)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:s}=e,o=null!==(i=null==s?void 0:s.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const a=this._sanitizer.sanitize(Fe.RESOURCE_URL,r);if(!a)throw ZB(r);const l=this._inProgressUrlFetches.get(a);if(l)return l;const c=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(ee(u=>pd(u)),rf(()=>this._inProgressUrlFetches.delete(a)),IT());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(e2(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return fce(s)?new Qo(s.url,null,s.options):new Qo(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(b(Im,8),b(ev),b(Y,8),b(Or))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xm(n){return n.cloneNode(!0)}function e2(n,t){return n+":"+t}function fce(n){return!(!n.url||!n.options)}const pce=Vl(class{constructor(n){this._elementRef=n}}),mce=new I("mat-icon-location",{providedIn:"root",factory:function(){const n=oh(Y),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),t2=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],_ce=t2.map(n=>`[${n}]`).join(", "),yce=/^url\(['"]?#(.*?)['"]?\)$/;let Ul=(()=>{class n extends pce{constructor(e,i,r,s,o){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=o,this._inline=!1,this._currentIconFetch=Pe.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=wn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=e.querySelectorAll("style");for(let s=0;s<i.length;s++)i[s].textContent+=" ";const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${e}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(_ce),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)t2.forEach(o=>{const a=i[s],l=a.getAttribute(o),c=l?l.match(yce):null;if(c){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:o,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(qe(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(m(J),m(Am),ws("aria-hidden"),m(mce),m(Or))},n.\u0275cmp=Ce({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(Ue("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),yt("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[B],ngContentSelectors:cce,decls:1,vars:0,template:function(e,i){1&e&&(tr(),wt(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),vce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({imports:[[Se],Se]}),n})();function bce(n,t){if(1&n&&(ha(),ye(0,"circle",3)),2&n){const e=Ae();xi("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),Ue("r",e._getCircleRadius())}}function Cce(n,t){if(1&n&&(ha(),ye(0,"circle",3)),2&n){const e=Ae();xi("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),Ue("r",e._getCircleRadius())}}const Ece=Vl(class{constructor(n){this._elementRef=n}},"primary"),Dce=new I("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class Dr extends Ece{constructor(t,e,i,r,s){super(t),this._document=i,this._diameter=100,this._value=0,this.mode="determinate";const o=Dr._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),o.has(i.head)||o.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!s&&!s._forceAnimations,s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=Uo(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=Uo(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Uo(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=nV(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=Dr._diameters;let r=i.get(t);if(!r||!r.has(e)){const s=this._document.createElement("style");s.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),s.textContent=this._getAnimationText(),t.appendChild(s),r||(r=new Set,i.set(t,r)),r.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Dr._diameters=new WeakMap,Dr.\u0275fac=function(t){return new(t||Dr)(m(J),m(Vt),m(Y,8),m(os,8),m(Dce))},Dr.\u0275cmp=Ce({type:Dr,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(Ue("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),xi("width",e.diameter,"px")("height",e.diameter,"px"),yt("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[B],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(ha(),C(0,"svg",0),U(1,bce,1,9,"circle",1),U(2,Cce,1,7,"circle",2),w()),2&t&&(xi("width",e.diameter,"px")("height",e.diameter,"px"),L("ngSwitch","indeterminate"===e.mode),Ue("viewBox",e._getViewBox()),x(1),L("ngSwitchCase",!0),x(1),L("ngSwitchCase",!1))},directives:[Wc,Gy],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let Ice=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({imports:[[Se,lr],Se]}),n})();const Mce=["fileInput"];function Ace(n,t){if(1&n&&(C(0,"li"),O(1),w()),2&n){const e=t.$implicit;x(1),mn(" ",e.name," ")}}function xce(n,t){1&n&&(C(0,"div",9),ye(1,"mat-progress-spinner",10),O(2," Saving... "),w())}function kce(n,t){if(1&n){const e=er();C(0,"button",7),he("click",function(){return zn(e),Ae().save()}),C(1,"mat-icon"),O(2,"save"),w(),O(3," Save "),w()}}let Rce=(()=>{class n{constructor(e,i){this.db=e,this.dialogRef=i,this.reader="",this.project=[],this.templateDoc=$0(this.db,"template"),this.isProgress=!1}ngOnInit(){}openFIleChooser(){this.fileInput.nativeElement.click()}fileInputChange(e){var i=this;return y(function*(){var r,s;const o=e.target;try{const a=new ese(JSON.parse(yield null===(s=null===(r=o.files)||void 0===r?void 0:r.item(0))||void 0===s?void 0:s.text())),l=new tse(use(),a.projectId,`https://console.firebase.google.com/project/${a.projectId}/overview`,a);i.project.find(c=>{var u,d;return(null===(u=c.credential)||void 0===u?void 0:u.projectId)==(null===(d=l.credential)||void 0===d?void 0:d.projectId)})||i.project.push(l)}catch(a){i.reader="Error cannot parse File"}finally{o.value=""}})()}save(){this.dialogRef.disableClose=!0,this.isProgress=!0,Promise.all(this.project.map(e=>H0($s(this.templateDoc,e.id),e))).finally(()=>{this.dialogRef.disableClose=!1,this.isProgress=!1}).then(e=>this.dialogRef.close()).catch(e=>this.reader=e)}}return n.\u0275fac=function(e){return new(e||n)(m(Al),m(Bl))},n.\u0275cmp=Ce({type:n,selectors:[["app-create-template"]],viewQuery:function(e,i){if(1&e&&Ut(Mce,7,J),2&e){let r;ce(r=ue())&&(i.fileInput=r.first)}},decls:15,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["type","file","accept",".json","hidden","",3,"change"],["fileInput",""],[4,"ngFor","ngForOf"],["class","flex flex-row items-center gap-2",4,"ngIf"],["mat-dialog-actions","","align","end"],["mat-button","",3,"click"],["mat-button","",3,"click",4,"ngIf"],[1,"flex","flex-row","items-center","gap-2"],["diameter","30","mode","indeterminate"]],template:function(e,i){1&e&&(C(0,"h1",0),O(1,"Add New Project"),w(),C(2,"div",1),C(3,"strong"),O(4,"Choose services_account.son"),w(),C(5,"input",2,3),he("change",function(s){return i.fileInputChange(s)}),w(),U(7,Ace,2,1,"li",4),U(8,xce,3,0,"div",5),w(),C(9,"div",6),C(10,"button",7),he("click",function(){return i.openFIleChooser()}),C(11,"mat-icon"),O(12,"folder_open"),w(),O(13," Add File "),w(),U(14,kce,4,0,"button",8),w()),2&e&&(x(7),L("ngForOf",i.project),x(1),L("ngIf",i.isProgress),x(6),L("ngIf",i.project.length>0))},directives:[YD,QD,DR,ar,XD,Er,Ul,Dr],styles:[""]}),n})();function Oce(n,t){1&n&&(C(0,"div",6),ye(1,"mat-progress-spinner",7),O(2," Deleting... "),w())}let Pce=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.data=i,this.db=r,this.isProgress=!1,this.templateRef=$0(this.db,"template")}ngOnInit(){}delete(){this.isProgress=!0,Vre($s(this.templateRef,this.data.id)).finally(()=>{this.isProgress=!1,this.dialogRef.close()})}}return n.\u0275fac=function(e){return new(e||n)(m(Bl),m(KD),m(Al))},n.\u0275cmp=Ce({type:n,selectors:[["app-delete-template"]],decls:11,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["class","flex flex-row items-center gap-2",4,"ngIf"],["mat-dialog-actions","","align","end"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"click"],[1,"flex","flex-row","items-center","gap-2"],["diameter","30","mode","indeterminate"]],template:function(e,i){1&e&&(C(0,"h1",0),O(1,"Confirmation"),w(),C(2,"div",1),C(3,"strong"),O(4),w(),U(5,Oce,3,0,"div",2),w(),C(6,"div",3),C(7,"button",4),O(8," Cancel "),w(),C(9,"button",5),he("click",function(){return i.delete()}),O(10," OK "),w(),w()),2&e&&(x(4),mn("you want to delete ",i.data.id," template"),x(1),L("ngIf",i.isProgress))},directives:[YD,QD,ar,XD,Er,NB,Dr],styles:[""]}),n})();var ji=(()=>(function(n){n[n.info=0]="info",n[n.error=1]="error",n[n.warn=2]="warn",n[n.log=3]="log",n[n.table=4]="table",n[n.all=5]="all"}(ji||(ji={})),ji))();const n2="LOGGER_OPTIONS";let md=(()=>{class n{constructor(e){this.options=e}get level(){return this.options.level}get enable(){return this.options.enable}info(e){this.allowLog(ji.log)&&console.log(e)}error(e){this.allowLog(ji.error)&&console.error(e)}warn(e){this.allowLog(ji.warn)&&console.warn(e)}log(e){this.allowLog(ji.log)&&console.log(e)}table(e){this.allowLog(ji.table)&&console.table(e)}allowLog(e){return this.level instanceof Array?(this.level.includes(e)||this.level.includes(ji.all))&&this.enable:(this.level==e||this.level==ji.all)&&this.options.enable}}return n.\u0275fac=function(e){return new(e||n)(b(n2))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function aS(n){return n&&"function"==typeof n.connect}class r2{applyChanges(t,e,i,r,s){t.forEachOperation((o,a,l)=>{let c,u;if(null==o.previousIndex){const d=i(o,a,l);c=e.createEmbeddedView(d.templateRef,d.context,d.index),u=1}else null==l?(e.remove(a),u=3):(c=e.get(a),e.move(c,l),u=2);s&&s({context:null==c?void 0:c.context,operation:u,record:o})})}detach(){}}const gd=new I("_ViewRepeater"),Fce=[[["caption"]],[["colgroup"],["col"]]],Lce=["caption","colgroup, col"];function lS(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=wn(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const jl=new I("CDK_TABLE");let $l=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(m(Et))},n.\u0275dir=S({type:n,selectors:[["","cdkCellDef",""]]}),n})(),zl=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(m(Et))},n.\u0275dir=S({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),km=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(m(Et))},n.\u0275dir=S({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class Uce{}const jce=lS(Uce);let ls=(()=>{class n extends jce{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=wn(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(m(jl,8))},n.\u0275dir=S({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(st(r,$l,5),st(r,zl,5),st(r,km,5)),2&e){let s;ce(s=ue())&&(i.cell=s.first),ce(s=ue())&&(i.headerCell=s.first),ce(s=ue())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[Z([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),B]}),n})();class cS{constructor(t,e){const i=e.nativeElement.classList;for(const r of t._columnCssClassName)i.add(r)}}let uS=(()=>{class n extends cS{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(m(ls),m(J))},n.\u0275dir=S({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[B]}),n})(),dS=(()=>{class n extends cS{constructor(e,i){var r;if(super(e,i),1===(null===(r=e._table)||void 0===r?void 0:r._elementRef.nativeElement.nodeType)){const s=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===s||"treegrid"===s?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(m(ls),m(J))},n.\u0275dir=S({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[B]}),n})();class a2{constructor(){this.tasks=[],this.endTasks=[]}}const hS=new I("_COALESCED_STYLE_SCHEDULER");let l2=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Q}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new a2,this._getScheduleObservable().pipe(It(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new a2;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?at(Promise.resolve(void 0)):this._ngZone.onStable.pipe(qe(1))}}return n.\u0275fac=function(e){return new(e||n)(b(K))},n.\u0275prov=k({token:n,factory:n.\u0275fac}),n})(),fS=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof _d?e.headerCell.template:this instanceof yd?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(m(Et),m(sr))},n.\u0275dir=S({type:n,features:[Ht]}),n})();class $ce extends fS{}const zce=lS($ce);let _d=(()=>{class n extends zce{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(m(Et),m(sr),m(jl,8))},n.\u0275dir=S({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[B,Ht]}),n})();class Gce extends fS{}const Wce=lS(Gce);let yd=(()=>{class n extends Wce{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(m(Et),m(sr),m(jl,8))},n.\u0275dir=S({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[B,Ht]}),n})(),Rm=(()=>{class n extends fS{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(m(Et),m(sr),m(jl,8))},n.\u0275dir=S({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[B]}),n})(),cs=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(m(Rt))},n.\u0275dir=S({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),pS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ce({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&pn(0,0)},directives:[cs],encapsulation:2}),n})(),gS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ce({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&pn(0,0)},directives:[cs],encapsulation:2}),n})(),Om=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(m(Et))},n.\u0275dir=S({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const c2=["top","bottom","left","right"];class qce{constructor(t,e,i,r,s=!0,o=!0,a){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=o,this._positionListener=a,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(h=>h)&&!i.some(h=>h))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=t[0],o=s.children.length,a=this._getCellWidths(s,r),l=this._getStickyStartColumnPositions(a,e),c=this._getStickyEndColumnPositions(a,i),u=e.lastIndexOf(!0),d=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const h="rtl"===this.direction,f=h?"right":"left",p=h?"left":"right";for(const g of t)for(let _=0;_<o;_++){const E=g.children[_];e[_]&&this._addStickyStyle(E,f,l[_],_===u),i[_]&&this._addStickyStyle(E,p,c[_],_===d)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===u?[]:a.slice(0,u+1).map((g,_)=>e[_]?g:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===d?[]:a.slice(d).map((g,_)=>i[_+d]?g:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,s="bottom"===i?e.slice().reverse():e,o=[],a=[],l=[];for(let u=0,d=0;u<r.length;u++){if(!s[u])continue;o[u]=d;const h=r[u];l[u]=this._isNativeHtmlTable?Array.from(h.children):[h];const f=h.getBoundingClientRect().height;d+=f,a[u]=f}const c=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var u,d;for(let h=0;h<r.length;h++){if(!s[h])continue;const f=o[h],p=h===c;for(const g of l[h])this._addStickyStyle(g,i,f,p)}"top"===i?null===(u=this._positionListener)||void 0===u||u.stickyHeaderRowsUpdated({sizes:a,offsets:o,elements:l}):null===(d=this._positionListener)||void 0===d||d.stickyFooterRowsUpdated({sizes:a,offsets:o,elements:l})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);c2.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of c2)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let s=0;s<t.length;s++)e[s]&&(i[s]=r,r+=t[s]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let s=t.length;s>0;s--)e[s]&&(i[s]=r,r+=t[s]);return i}}const _S=new I("CDK_SPL");let Pm=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(m(Rt),m(J))},n.\u0275dir=S({type:n,selectors:[["","rowOutlet",""]]}),n})(),Nm=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(m(Rt),m(J))},n.\u0275dir=S({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),Fm=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(m(Rt),m(J))},n.\u0275dir=S({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),Lm=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(m(Rt),m(J))},n.\u0275dir=S({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),Vm=(()=>{class n{constructor(e,i,r,s,o,a,l,c,u,d,h){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=o,this._platform=l,this._viewRepeater=c,this._coalescedStyleScheduler=u,this._viewportRuler=d,this._stickyPositioningListener=h,this._onDestroy=new Q,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new Re,this.viewChange=new Yn({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=a,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=wn(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=wn(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(It(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),aS(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,s,o)=>this._getEmbeddedViewArgs(r.item,o),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const s=this._headerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,s,"top"),this._headerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const s=this._footerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((s,o)=>{this._addStickyColumnStyles([s],this._headerRowDefs[o])}),this._rowDefs.forEach(s=>{const o=[];for(let a=0;a<i.length;a++)this._renderRows[a].rowDef===s&&o.push(i[a]);this._addStickyColumnStyles(o,s)}),r.forEach((s,o)=>{this._addStickyColumnStyles([s],this._footerRowDefs[o])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const o=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let a=0;a<o.length;a++){let l=o[a];const c=this._cachedRenderRowsMap.get(l.data);c.has(l.rowDef)?c.get(l.rowDef).push(l):c.set(l.rowDef,[l]),e.push(l)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(o=>{const a=r&&r.has(o)?r.get(o):[];if(a.length){const l=a.shift();return l.dataIndex=i,l}return{data:e,rowDef:o,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Bm(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=Bm(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Bm(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Bm(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(o,a)=>o||!!a.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(e,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(e){this._data=[],aS(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;aS(this.dataSource)?e=this.dataSource.connect(this):function(n){return!!n&&(n instanceof Te||me(n.lift)&&me(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=j(this.dataSource)),this._renderChangeSubscription=e.pipe(It(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(a=>this._columnDefsByName.get(a)),s=r.map(a=>a.sticky),o=r.map(a=>a.stickyEnd);this._stickyStyler.updateStickyColumns(e,s,o,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const s=e.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,e));else{let s=this._rowDefs.find(o=>o.when&&o.when(i,e))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,s={}){const o=e.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),o}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))cs.mostRecentCellOutlet&&cs.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const o=e.get(i).context;o.count=r,o.first=0===i,o.last=i===r-1,o.even=i%2==0,o.odd=!o.even,this.multiTemplateDataRows?(o.dataIndex=this._renderRows[i].dataIndex,o.renderIndex=i):o.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const o of r.outlets)s.appendChild(o.elementRef.nativeElement);e.appendChild(s)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new qce(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:j()).pipe(It(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(e.templateRef),o=s.rootNodes[0];1===s.rootNodes.length&&(null==o?void 0:o.nodeType)===this._document.ELEMENT_NODE&&(o.setAttribute("role","row"),o.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(m(sr),m(rr),m(J),ws("role"),m(zo,8),m(Y),m(Vt),m(gd),m(hS),m(eD),m(_S,12))},n.\u0275cmp=Ce({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(st(r,Om,5),st(r,ls,5),st(r,Rm,5),st(r,_d,5),st(r,yd,5)),2&e){let s;ce(s=ue())&&(i._noDataRow=s.first),ce(s=ue())&&(i._contentColumnDefs=s),ce(s=ue())&&(i._contentRowDefs=s),ce(s=ue())&&(i._contentHeaderRowDefs=s),ce(s=ue())&&(i._contentFooterRowDefs=s)}},viewQuery:function(e,i){if(1&e&&(Ut(Pm,7),Ut(Nm,7),Ut(Fm,7),Ut(Lm,7)),2&e){let r;ce(r=ue())&&(i._rowOutlet=r.first),ce(r=ue())&&(i._headerRowOutlet=r.first),ce(r=ue())&&(i._footerRowOutlet=r.first),ce(r=ue())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&yt("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[Z([{provide:jl,useExisting:n},{provide:gd,useClass:r2},{provide:hS,useClass:l2},{provide:_S,useValue:null}])],ngContentSelectors:Lce,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(tr(Fce),wt(0),wt(1,1),pn(2,0),pn(3,1),pn(4,2),pn(5,3))},directives:[Nm,Pm,Lm,Fm],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function Bm(n,t){return n.concat(Array.from(t))}let Yce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({imports:[[tD]]}),n})();const Qce=[[["caption"]],[["colgroup"],["col"]]],Xce=["caption","colgroup, col"];let yS=(()=>{class n extends Vm{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ne(n)))(i||n)}}(),n.\u0275cmp=Ce({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&yt("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[Z([{provide:gd,useClass:r2},{provide:Vm,useExisting:n},{provide:jl,useExisting:n},{provide:hS,useClass:l2},{provide:_S,useValue:null}]),B],ngContentSelectors:Xce,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(tr(Qce),wt(0),wt(1,1),pn(2,0),pn(3,1),pn(4,2),pn(5,3))},directives:[Nm,Pm,Lm,Fm],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),n})(),Hm=(()=>{class n extends $l{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ne(n)))(i||n)}}(),n.\u0275dir=S({type:n,selectors:[["","matCellDef",""]],features:[Z([{provide:$l,useExisting:n}]),B]}),n})(),Um=(()=>{class n extends zl{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ne(n)))(i||n)}}(),n.\u0275dir=S({type:n,selectors:[["","matHeaderCellDef",""]],features:[Z([{provide:zl,useExisting:n}]),B]}),n})(),jm=(()=>{class n extends ls{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ne(n)))(i||n)}}(),n.\u0275dir=S({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[Z([{provide:ls,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),B]}),n})(),$m=(()=>{class n extends uS{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ne(n)))(i||n)}}(),n.\u0275dir=S({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[B]}),n})(),zm=(()=>{class n extends dS{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ne(n)))(i||n)}}(),n.\u0275dir=S({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[B]}),n})(),vS=(()=>{class n extends _d{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ne(n)))(i||n)}}(),n.\u0275dir=S({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[Z([{provide:_d,useExisting:n}]),B]}),n})(),bS=(()=>{class n extends Rm{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ne(n)))(i||n)}}(),n.\u0275dir=S({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[Z([{provide:Rm,useExisting:n}]),B]}),n})(),CS=(()=>{class n extends pS{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ne(n)))(i||n)}}(),n.\u0275cmp=Ce({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[Z([{provide:pS,useExisting:n}]),B],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&pn(0,0)},directives:[cs],encapsulation:2}),n})(),wS=(()=>{class n extends gS{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ne(n)))(i||n)}}(),n.\u0275cmp=Ce({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[Z([{provide:gS,useExisting:n}]),B],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&pn(0,0)},directives:[cs],encapsulation:2}),n})(),ES=(()=>{class n extends Om{constructor(){super(...arguments),this._contentClassName="mat-no-data-row"}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ne(n)))(i||n)}}(),n.\u0275dir=S({type:n,selectors:[["ng-template","matNoDataRow",""]],features:[Z([{provide:Om,useExisting:n}]),B]}),n})(),oue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({imports:[[Yce,Se],Se]}),n})();const d2=new Set;let Gl,lue=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):uue}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function(n){if(!d2.has(n))try{Gl||(Gl=document.createElement("style"),Gl.setAttribute("type","text/css"),document.head.appendChild(Gl)),Gl.sheet&&(Gl.sheet.insertRule(`@media ${n} {body{ }}`,0),d2.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(b(Vt))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uue(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let h2=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Q}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return f2(Yp(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=XR(f2(Yp(e)).map(o=>this._registerQuery(o).observable));return s=Yc(s.pipe(qe(1)),s.pipe(mV(1),cD(0))),s.pipe(ee(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new Te(o=>{const a=l=>this._zone.run(()=>o.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(jr(i),ee(({matches:o})=>({query:e,matches:o})),It(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(b(lue),b(K))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function f2(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function due(n,t){if(1&n){const e=er();C(0,"div",1),C(1,"button",2),he("click",function(){return zn(e),Ae().action()}),O(2),w(),w()}if(2&n){const e=Ae();x(2),Oi(e.data.action)}}function hue(n,t){}const DS=new I("MatSnackBarData");class Gm{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const fue=Math.pow(2,31)-1;class SS{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Q,this._afterOpened=new Q,this._onAction=new Q,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,fue))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let pue=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(m(SS),m(DS))},n.\u0275cmp=Ce({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(C(0,"span"),O(1),w(),U(2,due,3,1,"div",0)),2&e&&(x(1),Oi(i.data.message),x(1),L("ngIf",i.hasAction))},directives:[ar,Er],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),n})();const mue={snackBarState:zs("state",[yi("void, hidden",Je({transform:"scale(0.8)",opacity:0})),yi("visible",Je({transform:"scale(1)",opacity:1})),Jn("* => visible",_i("150ms cubic-bezier(0, 0, 0.2, 1)")),Jn("* => void, * => hidden",_i("75ms cubic-bezier(0.4, 0.0, 1, 1)",Je({opacity:0})))])};let gue=(()=>{class n extends tm{constructor(e,i,r,s,o){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=o,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Q,this._onExit=new Q,this._onEnter=new Q,this._animationState="void",this.attachDomPortal=a=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(a)),this._live="assertive"!==o.politeness||o.announcementMessage?"off"===o.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(qe(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),null==r||r.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(m(K),m(J),m(rr),m(Vt),m(Gm))},n.\u0275cmp=Ce({type:n,selectors:[["snack-bar-container"]],viewQuery:function(e,i){if(1&e&&Ut(nm,7),2&e){let r;ce(r=ue())&&(i._portalOutlet=r.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&Dh("@state.done",function(s){return i.onAnimationEnd(s)}),2&e&&Th("@state",i._animationState)},features:[B],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(C(0,"div",0),U(1,hue,0,0,"ng-template",1),w(),ye(2,"div")),2&e&&(x(2),Ue("aria-live",i._live)("role",i._role))},directives:[nm],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[mue.snackBarState]}}),n})(),m2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({imports:[[cd,iD,lr,ZD,Se],Se]}),n})();const _ue=new I("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new Gm}});let g2=(()=>{class n{constructor(e,i,r,s,o,a){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=o,this._defaultConfig=a,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=pue,this.snackBarContainerComponent=gue,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const s=Object.assign(Object.assign({},this._defaultConfig),r);return s.data={message:e,action:i},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const s=He.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:Gm,useValue:i}]}),o=new Rl(this.snackBarContainerComponent,i.viewContainerRef,s),a=e.attach(o);return a.instance.snackBarConfig=i,a.instance}_attach(e,i){const r=Object.assign(Object.assign(Object.assign({},new Gm),this._defaultConfig),i),s=this._createOverlay(r),o=this._attachSnackBarContainer(s,r),a=new SS(o,s);if(e instanceof Et){const l=new em(e,null,{$implicit:r.data,snackBarRef:a});a.instance=o.attachTemplatePortal(l)}else{const l=this._createInjector(r,a),c=new Rl(e,void 0,l),u=o.attachComponentPortal(c);a.instance=u.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(It(s.detachments())).subscribe(l=>{s.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new im;i.direction=e.direction;let r=this._overlay.position().global();const s="rtl"===e.direction,o="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,a=!o&&"center"!==e.horizontalPosition;return o?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return He.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:SS,useValue:i},{provide:DS,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(b(br),b(Uoe),b(He),b(h2),b(n,12),b(_ue))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:m2}),n})(),_2=(()=>{class n{constructor(e){this.data=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(m(DS))},n.\u0275cmp=Ce({type:n,selectors:[["app-copy-message"]],decls:5,vars:1,consts:[[1,"flex","flex-row","items-center","justify-items-center","gap-2"],[1,"!text-green-500"]],template:function(e,i){1&e&&(C(0,"div",0),C(1,"mat-icon",1),O(2,"check_circle"),w(),C(3,"span"),O(4),w(),w()),2&e&&(x(4),Oi(i.data.message))},directives:[Ul],encapsulation:2}),n})(),TS=(()=>{class n{constructor(e){this.snackBar=e,this.horizontalPosition="right",this.verticalPosition="top",this.message="Copy text to clipboard",this.duration=1e3}onClick(e){this.snackBar.openFromComponent(_2,{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,duration:this.duration,data:{message:this.message}})}}return n.\u0275fac=function(e){return new(e||n)(m(g2))},n.\u0275dir=S({type:n,selectors:[["","appCopyMessage",""]],hostBindings:function(e,i){1&e&&he("click",function(s){return i.onClick(s.target)})},inputs:{message:"message",duration:"duration"}}),n})();class vue{constructor(t,e){this._document=e;const i=this._textarea=this._document.createElement("textarea"),r=i.style;r.position="fixed",r.top=r.opacity="0",r.left="-999em",i.setAttribute("aria-hidden","true"),i.value=t,this._document.body.appendChild(i)}copy(){const t=this._textarea;let e=!1;try{if(t){const i=this._document.activeElement;t.select(),t.setSelectionRange(0,t.value.length),e=this._document.execCommand("copy"),i&&i.focus()}}catch(i){}return e}destroy(){const t=this._textarea;t&&(t.remove(),this._textarea=void 0)}}let bue=(()=>{class n{constructor(e){this._document=e}copy(e){const i=this.beginCopy(e),r=i.copy();return i.destroy(),r}beginCopy(e){return new vue(e,this._document)}}return n.\u0275fac=function(e){return new(e||n)(b(Y))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cue=new I("CDK_COPY_TO_CLIPBOARD_CONFIG");let IS=(()=>{class n{constructor(e,i,r){this._clipboard=e,this._ngZone=i,this.text="",this.attempts=1,this.copied=new Re,this._pending=new Set,r&&null!=r.attempts&&(this.attempts=r.attempts)}copy(e=this.attempts){if(e>1){let i=e;const r=this._clipboard.beginCopy(this.text);this._pending.add(r);const s=()=>{const o=r.copy();o||!--i||this._destroyed?(this._currentTimeout=null,this._pending.delete(r),r.destroy(),this.copied.emit(o)):this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(s,1))};s()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(e=>e.destroy()),this._pending.clear(),this._destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(m(bue),m(K),m(Cue,8))},n.\u0275dir=S({type:n,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(e,i){1&e&&he("click",function(){return i.copy()})},inputs:{text:["cdkCopyToClipboard","text"],attempts:["cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}}),n})(),wue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({}),n})();const Eue={tooltipState:zs("state",[yi("initial, void, hidden",Je({opacity:0,transform:"scale(0)"})),yi("visible",Je({transform:"scale(1)"})),Jn("* => visible",_i("200ms cubic-bezier(0, 0, 0.2, 1)",Goe([Je({opacity:0,transform:"scale(0)",offset:0}),Je({opacity:.5,transform:"scale(0.99)",offset:.5}),Je({opacity:1,transform:"scale(1)",offset:1})]))),Jn("* => hidden",_i("100ms cubic-bezier(0, 0, 0.2, 1)",Je({opacity:0})))])},y2="tooltip-panel",v2=kl({passive:!0}),b2=new I("mat-tooltip-scroll-strategy"),Iue={provide:b2,deps:[br],useFactory:function(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},Mue=new I("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let xue=(()=>{class n{constructor(e,i,r,s,o,a,l,c,u,d,h,f){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=o,this._platform=a,this._ariaDescriber=l,this._focusMonitor=c,this._dir=d,this._defaultOptions=h,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Q,this._handleKeydown=p=>{this._isTooltipVisible()&&27===p.keyCode&&!rm(p)&&(p.preventDefault(),p.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=u,this._document=f,h&&(h.position&&(this.position=h.position),h.touchGestures&&(this.touchGestures=h.touchGestures)),d.change.pipe(It(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),o.runOutsideAngular(()=>{i.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(e){var i;e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(i=this._tooltipInstance)||void 0===i||i.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=wn(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Uo(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Uo(e)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(It(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),e.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,v2)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new Rl(this._tooltipComponent,this._viewContainerRef),this._tooltipInstance=i.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(It(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(It(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${y2}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(It(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(It(this._destroyed)).subscribe(()=>{var r;return null===(r=this._tooltipInstance)||void 0===r?void 0:r._handleBodyInteraction()}),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset(Object.assign(Object.assign({},r.main),s.main)),this._addOffset(Object.assign(Object.assign({},r.fallback),s.fallback))])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:s,y:o}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:o}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:o}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:o}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(qe(1),It(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:s}=e;let o;if(o="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",o!==this._currentPosition){const a=this._overlayRef;if(a){const l=`${this._cssClassPrefix}-${y2}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+o)}this._currentPosition=o}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",()=>this.hide()],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,v2)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){Mc()},n.\u0275dir=S({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),C2=(()=>{class n extends xue{constructor(e,i,r,s,o,a,l,c,u,d,h,f){super(e,i,r,s,o,a,l,c,u,d,h,f),this._tooltipComponent=Rue}}return n.\u0275fac=function(e){return new(e||n)(m(br),m(J),m(iV),m(Rt),m(K),m(Vt),m(boe),m(Pl),m(b2),m(zo,8),m(Mue,8),m(Y))},n.\u0275dir=S({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[B]}),n})(),kue=(()=>{class n{constructor(e){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new Q}show(e){clearTimeout(this._hideTimeoutId),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=void 0,this._onShow(),this._markForCheck()},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=void 0,this._markForCheck()},e)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(e){const i=e.toState;"hidden"===i&&!this.isVisible()&&this._onHide.next(),("visible"===i||"hidden"===i)&&(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_onShow(){}}return n.\u0275fac=function(e){return new(e||n)(m(rr))},n.\u0275dir=S({type:n}),n})(),Rue=(()=>{class n extends kue{constructor(e,i){super(e),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}}return n.\u0275fac=function(e){return new(e||n)(m(rr),m(h2))},n.\u0275cmp=Ce({type:n,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){2&e&&xi("zoom","visible"===i._visibility?1:null)},features:[B],decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(e,i){if(1&e&&(C(0,"div",0),he("@state.start",function(){return i._animationStart()})("@state.done",function(s){return i._animationDone(s)}),function(n,t){const e=Me();let i;const r=n+20;e.firstCreatePass?(i=function(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=so(i.type)),o=gs(m);try{const a=Jd(!1),l=s();Jd(a),function(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,D(),r,l)}finally{gs(o)}}(1,"async"),O(2),w()),2&e){let r;yt("mat-tooltip-handset",null==(r=function(n,t,e){const i=n+20,r=D(),s=ua(r,i);return function(n,t){return n[1].data[t].pure}(r,i)?ok(r,dn(),t,s.transform,e,s):s.transform(e)}(1,5,i._isHandset))?null:r.matches),L("ngClass",i.tooltipClass)("@state",i._visibility),x(2),Oi(i.message)}},directives:[Gc],pipes:[AR],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[Eue.tooltipState]},changeDetection:0}),n})(),w2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({providers:[Iue],imports:[[$oe,lr,cd,Se],Se,ld]}),n})();const Oue=["fileInput"];function Pue(n,t){1&n&&(C(0,"th",13),O(1," Project Id "),w())}const Nue=function(n){return["/users",n]};function Fue(n,t){if(1&n&&(C(0,"td",14),C(1,"a",15),O(2),w(),w()),2&n){const e=t.$implicit;x(1),L("routerLink",function(n,t,e,i){return ok(D(),dn(),n,t,e,i)}(2,Nue,e.id)),x(1),Oi(e.name)}}function Lue(n,t){1&n&&(C(0,"th",16),O(1," Actions "),w())}function Vue(n,t){if(1&n){const e=er();C(0,"td",17),C(1,"button",18),he("click",function(){const s=zn(e).$implicit;return Ae().actionDelete(s.id)}),O(2," Delete "),w(),C(3,"a",19),O(4,"Link"),w(),C(5,"button",20),O(6," Copy Id "),w(),w()}if(2&n){const e=t.$implicit;x(3),J_("href",e.projectUrl,dh),x(2),L("cdkCopyToClipboard",e.id)}}function Bue(n,t){if(1&n){const e=er();Mn(0),C(1,"tr",21),C(2,"td",22),C(3,"button",23),he("click",function(){return zn(e),Ae().refreshSubscription()}),C(4,"mat-icon"),O(5,"refresh"),w(),w(),O(6," No data "),w(),w(),An()}}function Hue(n,t){1&n&&ye(0,"tr",24)}function Uue(n,t){1&n&&ye(0,"tr",25)}let jue=(()=>{class n{constructor(e,i,r){this.db=e,this.dialog=i,this.logger=r,this.token="",this.projects=[],this.displayedColumns=["name","actions"],this.templateRef=$0(this.db,"template")}ngOnInit(){this.initObserver()}initObserver(){this.subscription$=function(n,t){return void 0===t&&(t={}),Kre(n).pipe(ee(function(e){return e.map(function(i){return function(n,t){var e;void 0===t&&(t={});var i=n.snapshot.val();return n.snapshot.exists()&&"object"==typeof i?Wp(Wp({},i),t.keyField?((e={})[t.keyField]=n.snapshot.key,e):null):i}(i,t)})}))}(this.templateRef).subscribe(e=>this.projects=null!=e?e:[])}pickFile(){this.dialog.open(Rce,{width:"50%"})}actionDelete(e){this.dialog.open(Pce,{width:"50%",data:{id:e}})}refreshSubscription(){var e;(null===(e=this.subscription$)||void 0===e?void 0:e.closed)&&this.initObserver()}ngOnDestroy(){var e;null===(e=this.subscription$)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(m(Al),m(Hl),m(md))},n.\u0275cmp=Ce({type:n,selectors:[["app-index"]],viewQuery:function(e,i){if(1&e&&Ut(Oue,7,J),2&e){let r;ce(r=ue())&&(i.filePicker=r.first)}},decls:14,vars:3,consts:[[1,"container","mx-auto","flex","flex-col","justify-center","items-center","p-4"],[1,"w-full","text-right","mb-1"],["mat-raised-button","","type","button",3,"click"],["mat-table","",1,"mat-elevation-z8","w-full",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","break-normal",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","","class","!text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],[4,"matNoDataRow"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"break-normal"],[3,"routerLink"],["mat-header-cell","",1,"!text-center"],["mat-cell","",1,"text-center"],["mat-flat-button","","color","warn",3,"click"],["mat-flat-button","","target","_blank",1,"!ml-2","!bg-yellow-400",3,"href"],["appCopyMessage","","type","button","mat-flat-button","",1,"!ml-2","!bg-green-400",3,"cdkCopyToClipboard"],[1,"mat-row"],["colspan","2",1,"mat-cell","text-center"],["mat-icon-button","","matTooltip","Refresh","type","button",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(C(0,"div",0),C(1,"div",1),C(2,"button",2),he("click",function(){return i.pickFile()}),O(3,"Add Project"),w(),w(),C(4,"table",3),Mn(5,4),U(6,Pue,2,0,"th",5),U(7,Fue,3,4,"td",6),An(),Mn(8,7),U(9,Lue,2,0,"th",8),U(10,Vue,7,2,"td",9),An(),U(11,Bue,7,0,"ng-container",10),U(12,Hue,1,0,"tr",11),U(13,Uue,1,0,"tr",12),w(),w()),2&e&&(x(4),L("dataSource",i.projects),x(8),L("matHeaderRowDef",i.displayedColumns),x(1),L("matRowDefColumns",i.displayedColumns))},directives:[Er,yS,jm,Um,Hm,ES,vS,bS,$m,zm,au,qle,TS,IS,C2,Ul,CS,wS],styles:[""]}),n})(),E2=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(m(Fr),m(J))},n.\u0275dir=S({type:n}),n})(),Xo=(()=>{class n extends E2{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ne(n)))(i||n)}}(),n.\u0275dir=S({type:n,features:[B]}),n})();const Sr=new I("NgValueAccessor"),zue={provide:Sr,useExisting:Ke(()=>vd),multi:!0},Wue=new I("CompositionEventMode");let vd=(()=>{class n extends E2{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=or()?or().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(m(Fr),m(J),m(Wue,8))},n.\u0275dir=S({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&he("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Z([zue]),B]}),n})();function Ks(n){return null==n||0===n.length}function S2(n){return null!=n&&"number"==typeof n.length}const an=new I("NgValidators"),Ys=new I("NgAsyncValidators"),que=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class bd{static min(t){return function(n){return t=>{if(Ks(t.value)||Ks(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function(n){return t=>{if(Ks(t.value)||Ks(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function(n){return Ks(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function(n){return Ks(n.value)||que.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function(n){return t=>Ks(t.value)||!S2(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function(n){return t=>S2(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(n){if(!n)return Cd;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Ks(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return B2(t)}static composeAsync(t){return H2(t)}}function Cd(n){return null}function P2(n){return null!=n}function N2(n){const t=Ac(n)?at(n):n;return X_(t),t}function F2(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function L2(n,t){return t.map(e=>e(n))}function V2(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function B2(n){if(!n)return null;const t=n.filter(P2);return 0==t.length?null:function(e){return F2(L2(e,t))}}function MS(n){return null!=n?B2(V2(n)):null}function H2(n){if(!n)return null;const t=n.filter(P2);return 0==t.length?null:function(e){return BB(L2(e,t).map(N2)).pipe(ee(F2))}}function AS(n){return null!=n?H2(V2(n)):null}function U2(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function j2(n){return n._rawValidators}function $2(n){return n._rawAsyncValidators}function xS(n){return n?Array.isArray(n)?n:[n]:[]}function Wm(n,t){return Array.isArray(n)?n.includes(t):n===t}function z2(n,t){const e=xS(t);return xS(n).forEach(r=>{Wm(e,r)||e.push(r)}),e}function G2(n,t){return xS(t).filter(e=>!Wm(n,e))}class W2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=MS(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=AS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class us extends W2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class En extends W2{get formDirective(){return null}get path(){return null}}class q2{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let kS=(()=>{class n extends q2{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(m(us,2))},n.\u0275dir=S({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&yt("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[B]}),n})(),K2=(()=>{class n extends q2{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(m(En,10))},n.\u0275dir=S({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&yt("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[B]}),n})();function wd(n,t){PS(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Y2(n,t)})}(n,t),function(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Y2(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Ym(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Xm(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Qm(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function PS(n,t){const e=j2(n);null!==t.validator?n.setValidators(U2(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=$2(n);null!==t.asyncValidator?n.setAsyncValidators(U2(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Qm(t._rawValidators,r),Qm(t._rawAsyncValidators,r)}function Xm(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=j2(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=$2(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Qm(t._rawValidators,i),Qm(t._rawAsyncValidators,i),e}function Y2(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Q2(n,t){PS(n,t)}function NS(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function X2(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function FS(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===vd?e=s:function(n){return Object.getPrototypeOf(n.constructor)===Xo}(s)?i=s:r=s}),r||i||e||null}function Zm(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Ed="VALID",Jm="INVALID",Wl="PENDING",Dd="DISABLED";function LS(n){return(BS(n)?n.validators:n)||null}function Z2(n){return Array.isArray(n)?MS(n):n||null}function VS(n,t){return(BS(t)?t.asyncValidators:n)||null}function J2(n){return Array.isArray(n)?AS(n):n||null}function BS(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class HS{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Z2(this._rawValidators),this._composedAsyncValidatorFn=J2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ed}get invalid(){return this.status===Jm}get pending(){return this.status==Wl}get disabled(){return this.status===Dd}get enabled(){return this.status!==Dd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Z2(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=J2(t)}addValidators(t){this.setValidators(z2(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(z2(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(G2(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(G2(t,this._rawAsyncValidators))}hasValidator(t){return Wm(this._rawValidators,t)}hasAsyncValidator(t){return Wm(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Wl,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Dd,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ed,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ed||this.status===Wl)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dd:Ed}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Wl,this._hasOwnPendingAsyncValidator=!0;const e=N2(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=i instanceof Sd?i.controls.hasOwnProperty(r)?i.controls[r]:null:i instanceof US&&i.at(r)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Re,this.statusChanges=new Re}_calculateStatus(){return this._allControlsDisabled()?Dd:this.errors?Jm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wl)?Wl:this._anyControlsHaveStatus(Jm)?Jm:Ed}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){BS(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ds extends HS{constructor(t=null,e,i){super(LS(e),VS(i,e)),this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Zm(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Zm(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Sd extends HS{constructor(t,e,i){super(LS(e),VS(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof ds?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class US extends HS{constructor(t,e,i){super(LS(e),VS(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,r)=>{this._throwIfControlMissing(r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ds?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const ode={provide:En,useExisting:Ke(()=>eg)},Td=(()=>Promise.resolve(null))();let eg=(()=>{class n extends En{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Re,this.form=new Sd({},MS(e),AS(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Td.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),wd(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Td.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),Zm(this._directives,e)})}addFormGroup(e){Td.then(()=>{const i=this._findContainer(e.path),r=new Sd({});Q2(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Td.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Td.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,X2(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(m(an,10),m(Ys,10))},n.\u0275dir=S({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&he("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Z([ode]),B]}),n})(),rH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=S({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),oH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({}),n})();const jS=new I("NgModelWithFormControlWarning"),fde={provide:us,useExisting:Ke(()=>$S)};let $S=(()=>{class n extends us{constructor(e,i,r,s){super(),this._ngModelWarningConfig=s,this.update=new Re,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=FS(0,r)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&Ym(i,this,!1),wd(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}NS(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Ym(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(m(an,10),m(Ys,10),m(Sr,10),m(jS,8))},n.\u0275dir=S({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Z([fde]),B,Ht]}),n})();const pde={provide:En,useExisting:Ke(()=>Id)};let Id=(()=>{class n extends En{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Re,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Xm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return wd(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Ym(e.control||null,e,!1),Zm(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,X2(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Ym(i||null,e),r instanceof ds&&(wd(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);Q2(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return Xm(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){PS(this.form,this),this._oldForm&&Xm(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(m(an,10),m(Ys,10))},n.\u0275dir=S({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&he("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Z([pde]),B,Ht]}),n})();const _de={provide:us,useExisting:Ke(()=>WS)};let WS=(()=>{class n extends us{constructor(e,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Re,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=FS(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),NS(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(m(En,13),m(an,10),m(Ys,10),m(Sr,10),m(jS,8))},n.\u0275dir=S({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Z([_de]),B,Ht]}),n})(),CH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({imports:[[oH]]}),n})(),Rde=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({imports:[CH]}),n})(),wH=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:jS,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({imports:[CH]}),n})(),Pde=(()=>{class n{group(e,i=null){const r=this._reduceControls(e);let a,s=null,o=null;return null!=i&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(s=null!=i.validators?i.validators:null,o=null!=i.asyncValidators?i.asyncValidators:null,a=null!=i.updateOn?i.updateOn:void 0):(s=null!=i.validator?i.validator:null,o=null!=i.asyncValidator?i.asyncValidator:null)),new Sd(r,{asyncValidators:o,updateOn:a,validators:s})}control(e,i,r){return new ds(e,i,r)}array(e,i,r){const s=e.map(o=>this._createControl(o));return new US(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof ds||e instanceof Sd||e instanceof US?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:wH}),n})();const Tr_firebase={projectId:"auth-custom-claim-manager",appId:"1:831416126337:web:8603fe95a28b2b85597680",databaseURL:"https://auth-custom-claim-manager-default-rtdb.asia-southeast1.firebasedatabase.app",storageBucket:"auth-custom-claim-manager.appspot.com",apiKey:"AIzaSyCDxL6-SMOMRGWGi_ziYlepIllI_9wt9_Y",authDomain:"auth-custom-claim-manager.firebaseapp.com",messagingSenderId:"831416126337",measurementId:"G-YRJSK81ZTR"},Nde=["connectionContainer"],Fde=["inputContainer"],Lde=["label"];function Vde(n,t){1&n&&(Mn(0),C(1,"div",14),ye(2,"div",15),ye(3,"div",16),ye(4,"div",17),w(),C(5,"div",18),ye(6,"div",15),ye(7,"div",16),ye(8,"div",17),w(),An())}function Bde(n,t){if(1&n){const e=er();C(0,"div",19),he("cdkObserveContent",function(){return zn(e),Ae().updateOutlineGap()}),wt(1,1),w()}2&n&&L("cdkObserveContentDisabled","outline"!=Ae().appearance)}function Hde(n,t){if(1&n&&(Mn(0),wt(1,2),C(2,"span"),O(3),w(),An()),2&n){const e=Ae(2);x(3),Oi(e._control.placeholder)}}function Ude(n,t){1&n&&wt(0,3,["*ngSwitchCase","true"])}function jde(n,t){1&n&&(C(0,"span",23),O(1," *"),w())}function $de(n,t){if(1&n){const e=er();C(0,"label",20,21),he("cdkObserveContent",function(){return zn(e),Ae().updateOutlineGap()}),U(2,Hde,4,1,"ng-container",12),U(3,Ude,1,0,"ng-content",12),U(4,jde,2,0,"span",22),w()}if(2&n){const e=Ae();yt("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),L("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),Ue("for",e._control.id)("aria-owns",e._control.id),x(2),L("ngSwitchCase",!1),x(1),L("ngSwitchCase",!0),x(1),L("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function zde(n,t){1&n&&(C(0,"div",24),wt(1,4),w())}function Gde(n,t){if(1&n&&(C(0,"div",25),ye(1,"span",26),w()),2&n){const e=Ae();x(1),yt("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function Wde(n,t){1&n&&(C(0,"div"),wt(1,5),w()),2&n&&L("@transitionMessages",Ae()._subscriptAnimationState)}function qde(n,t){if(1&n&&(C(0,"div",30),O(1),w()),2&n){const e=Ae(2);L("id",e._hintLabelId),x(1),Oi(e.hintLabel)}}function Kde(n,t){if(1&n&&(C(0,"div",27),U(1,qde,2,2,"div",28),wt(2,6),ye(3,"div",29),wt(4,7),w()),2&n){const e=Ae();L("@transitionMessages",e._subscriptAnimationState),x(1),L("ngIf",e.hintLabel)}}const Yde=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Qde=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let Xde=0;const EH=new I("MatError");let DH=(()=>{class n{constructor(e,i){this.id="mat-error-"+Xde++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(ws("aria-live"),m(J))},n.\u0275dir=S({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&Ue("id",i.id)},inputs:{id:"id"},features:[Z([{provide:EH,useExisting:n}])]}),n})();const Zde={transitionMessages:zs("transitionMessages",[yi("enter",Je({opacity:1,transform:"translateY(0%)"})),Jn("void => enter",[Je({opacity:0,transform:"translateY(-5px)"}),_i("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let QS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=S({type:n}),n})();const Jde=new I("MatHint");let XS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=S({type:n,selectors:[["mat-label"]]}),n})(),ehe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=S({type:n,selectors:[["mat-placeholder"]]}),n})();const SH=new I("MatPrefix");let the=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=S({type:n,selectors:[["","matPrefix",""]],features:[Z([{provide:SH,useExisting:n}])]}),n})();const TH=new I("MatSuffix");let nhe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=S({type:n,selectors:[["","matSuffix",""]],features:[Z([{provide:TH,useExisting:n}])]}),n})(),IH=0;const rhe=Vl(class{constructor(n){this._elementRef=n}},"primary"),she=new I("MAT_FORM_FIELD_DEFAULT_OPTIONS"),AH=new I("MatFormField");let ZS=(()=>{class n extends rhe{constructor(e,i,r,s,o,a,l){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=o,this._ngZone=a,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Q,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+IH++,this._labelId="mat-form-field-label-"+IH++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==l,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=wn(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(jr(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(It(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(It(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),eo(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(jr(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(jr(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(It(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,rd(this._label.nativeElement,"transitionend").pipe(qe(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let i=0,r=0;const s=this._connectionContainerRef.nativeElement,o=s.querySelectorAll(".mat-form-field-outline-start"),a=s.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const l=s.getBoundingClientRect();if(0===l.width&&0===l.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const c=this._getStartEnd(l),u=e.children,d=this._getStartEnd(u[0].getBoundingClientRect());let h=0;for(let f=0;f<u.length;f++)h+=u[f].offsetWidth;i=Math.abs(d-c)-5,r=h>0?.75*h+10:0}for(let l=0;l<o.length;l++)o[l].style.width=`${i}px`;for(let l=0;l<a.length;l++)a[l].style.width=`${r}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(m(J),m(rr),m(zo,8),m(she,8),m(Vt),m(K),m(os,8))},n.\u0275cmp=Ce({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(st(r,QS,5),st(r,QS,7),st(r,XS,5),st(r,XS,7),st(r,ehe,5),st(r,EH,5),st(r,Jde,5),st(r,SH,5),st(r,TH,5)),2&e){let s;ce(s=ue())&&(i._controlNonStatic=s.first),ce(s=ue())&&(i._controlStatic=s.first),ce(s=ue())&&(i._labelChildNonStatic=s.first),ce(s=ue())&&(i._labelChildStatic=s.first),ce(s=ue())&&(i._placeholderChild=s.first),ce(s=ue())&&(i._errorChildren=s),ce(s=ue())&&(i._hintChildren=s),ce(s=ue())&&(i._prefixChildren=s),ce(s=ue())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(Ut(Nde,7),Ut(Fde,5),Ut(Lde,5)),2&e){let r;ce(r=ue())&&(i._connectionContainerRef=r.first),ce(r=ue())&&(i._inputContainerRef=r.first),ce(r=ue())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&yt("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[Z([{provide:AH,useExisting:n}]),B],ngContentSelectors:Qde,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(tr(Yde),C(0,"div",0),C(1,"div",1,2),he("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),U(3,Vde,9,0,"ng-container",3),U(4,Bde,2,1,"div",4),C(5,"div",5,6),wt(7),C(8,"span",7),U(9,$de,5,16,"label",8),w(),w(),U(10,zde,2,0,"div",9),w(),U(11,Gde,2,4,"div",10),C(12,"div",11),U(13,Wde,2,1,"div",12),U(14,Kde,5,2,"div",13),w(),w()),2&e&&(x(3),L("ngIf","outline"==i.appearance),x(1),L("ngIf",i._prefixChildren.length),x(5),L("ngIf",i._hasFloatingLabel()),x(1),L("ngIf",i._suffixChildren.length),x(1),L("ngIf","outline"!=i.appearance),x(1),L("ngSwitch",i._getDisplayedMessages()),x(1),L("ngSwitchCase","error"),x(1),L("ngSwitchCase","hint"))},directives:[ar,Wc,Gy,goe],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Zde.transitionMessages]},changeDetection:0}),n})(),JS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({imports:[[lr,Se,_V],Se]}),n})();const xH=kl({passive:!0});let ohe=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Gi;const i=rs(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Q,o="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||i.classList.contains(o)?"cdk-text-field-autofill-end"===l.animationName&&i.classList.contains(o)&&(i.classList.remove(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!1}))):(i.classList.add(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,xH),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",a,xH)}}),s}stopMonitoring(e){const i=rs(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(b(Vt),b(K))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({imports:[[Zp]]}),n})();const ahe=new I("MAT_INPUT_VALUE_ACCESSOR"),lhe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let che=0;const uhe=wle(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let eT=(()=>{class n extends uhe{constructor(e,i,r,s,o,a,l,c,u,d){super(a,s,o,r),this._elementRef=e,this._platform=i,this._autofillMonitor=c,this._formField=d,this._uid="mat-input-"+che++,this.focused=!1,this.stateChanges=new Q,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(p=>tV().has(p));const h=this._elementRef.nativeElement,f=h.nodeName.toLowerCase();this._inputValueAccessor=l||h,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&u.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",p=>{const g=p.target;!g.value&&0===g.selectionStart&&0===g.selectionEnd&&(g.setSelectionRange(1,1),g.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===f,this._isTextarea="textarea"===f,this._isInFormField=!!d,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=wn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,r,s;return null!==(s=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(bd.required))&&void 0!==s&&s}set required(e){this._required=wn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&tV().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=wn(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const r=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(r!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=r,r?s.setAttribute("placeholder",r):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){lhe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(m(J),m(Vt),m(us,10),m(eg,8),m(Id,8),m(MB),m(ahe,10),m(ohe),m(K),m(AH,8))},n.\u0275dir=S({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(e,i){1&e&&he("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(kc("disabled",i.disabled)("required",i.required),Ue("id",i.id)("data-placeholder",i.placeholder)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),yt("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Z([{provide:QS,useExisting:n}]),B,Ht]}),n})(),dhe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({providers:[MB],imports:[[kH,JS,Se],kH,JS]}),n})();const hhe=["primaryValueBar"],fhe=Vl(class{constructor(n){this._elementRef=n}},"primary"),phe=new I("mat-progress-bar-location",{providedIn:"root",factory:function(){const n=oh(Y),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),ghe=new I("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let _he=0,tT=(()=>{class n extends fhe{constructor(e,i,r,s,o){super(e),this._ngZone=i,this._animationMode=r,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new Re,this._animationEndSubscription=Pe.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+_he++;const a=s?s.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${a}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===r,o&&(o.color&&(this.color=this.defaultColor=o.color),this.mode=o.mode||this.mode)}get value(){return this._value}set value(e){this._value=RH(Uo(e)||0)}get bufferValue(){return this._bufferValue}set bufferValue(e){this._bufferValue=RH(e||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=rd(e,"transitionend").pipe(Pt(i=>i.target===e)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(m(J),m(K),m(os,8),m(phe,8),m(ghe,8))},n.\u0275cmp=Ce({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(e,i){if(1&e&&Ut(hhe,5),2&e){let r;ce(r=ue())&&(i._primaryValueBar=r.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,i){2&e&&(Ue("aria-valuenow","indeterminate"===i.mode||"query"===i.mode?null:i.value)("mode",i.mode),yt("_mat-animation-noopable",i._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[B],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,i){1&e&&(C(0,"div",0),ha(),C(1,"svg",1),C(2,"defs"),C(3,"pattern",2),ye(4,"circle",3),w(),w(),ye(5,"rect",4),w(),X.lFrame.currentNamespace=null,ye(6,"div",5),ye(7,"div",6,7),ye(9,"div",8),w()),2&e&&(x(3),L("id",i.progressbarId),x(2),Ue("fill",i._rectangleFillValue),x(1),L("ngStyle",i._bufferTransform()),x(1),L("ngStyle",i._primaryTransform()))},directives:[MR],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),n})();function RH(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let yhe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({imports:[[lr,Se],Se]}),n})();function vhe(n,t){1&n&&(C(0,"mat-error"),O(1," Please enter a valid email address "),w())}function bhe(n,t){1&n&&(C(0,"mat-error"),O(1," Email is "),C(2,"strong"),O(3,"required"),w(),w())}function Che(n,t){1&n&&(C(0,"mat-error"),O(1," Password is "),C(2,"strong"),O(3,"required"),w(),w())}function whe(n,t){if(1&n&&(C(0,"mat-error"),O(1," Minimum "),C(2,"strong"),O(3),w(),O(4," digit "),w()),2&n){const e=Ae();x(3),Oi(null==e.passwordFormControl.errors?null:e.passwordFormControl.errors.minlength.requiredLength)}}function Ehe(n,t){if(1&n&&(C(0,"p",9),O(1),w()),2&n){const e=Ae();x(1),Oi(e.errorMessage)}}function Dhe(n,t){1&n&&ye(0,"mat-progress-bar",10)}let She=(()=>{class n{constructor(e,i,r,s){this.fb=e,this.auth=i,this.router=r,this.titleServces=s,this.matcher=new OH,this.emailFormControl=new ds("",[bd.required,bd.email]),this.passwordFormControl=new ds("",[bd.required,bd.minLength(6)]),this.isProgress=!1,this.errorMessage=null,this.titleServces.setTitle("Login"),this.control=this.fb.group({email:this.emailFormControl,password:this.passwordFormControl})}get password(){return this.passwordFormControl.value}get email(){return this.emailFormControl.value}ngOnInit(){}login(){!this.control.valid||(this.isProgress=!0,this.errorMessage=null,at(ite(this.auth,this.email,this.password)).pipe(rf(()=>this.isProgress=!1)).subscribe({error:e=>{e instanceof dr&&(this.errorMessage=e.code.split("/")[1].replace("-"," "))},complete:()=>this.router.navigate([""])}))}}return n.\u0275fac=function(e){return new(e||n)(m(Pde),m(ts),m(on),m(GR))},n.\u0275cmp=Ce({type:n,selectors:[["app-login"]],decls:18,vars:9,consts:[[1,"container","mx-auto","h-screen","flex","justify-center","items-center"],[1,"w-full","p-6","sm:p-0","sm:w-4/5","flex","flex-col","gap-1",3,"formGroup"],["appearance","fill",1,"w-full"],["type","email","matInput","","formControlName","email","placeholder","Ex. pat@example.com",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","formControlName","password","placeholder","Placeholder","type","password",3,"errorStateMatcher"],["class","text-red-500",4,"ngIf"],["mat-raised-button","","type","submit","color","primary",1,"full-width",3,"click"],["class","mt-1","mode","indeterminate",4,"ngIf"],[1,"text-red-500"],["mode","indeterminate",1,"mt-1"]],template:function(e,i){1&e&&(C(0,"div",0),C(1,"form",1),C(2,"mat-form-field",2),C(3,"mat-label"),O(4,"Email"),w(),ye(5,"input",3),U(6,vhe,2,0,"mat-error",4),U(7,bhe,4,0,"mat-error",4),w(),C(8,"mat-form-field",2),C(9,"mat-label"),O(10,"Password"),w(),ye(11,"input",5),U(12,Che,4,0,"mat-error",4),U(13,whe,5,1,"mat-error",4),w(),U(14,Ehe,2,1,"p",6),C(15,"button",7),he("click",function(){return i.login()}),O(16,"Login"),w(),U(17,Dhe,1,0,"mat-progress-bar",8),w(),w()),2&e&&(x(1),L("formGroup",i.control),x(4),L("errorStateMatcher",i.matcher),x(1),L("ngIf",i.emailFormControl.hasError("email")&&!i.emailFormControl.hasError("required")),x(1),L("ngIf",i.emailFormControl.hasError("required")),x(4),L("errorStateMatcher",i.matcher),x(1),L("ngIf",i.passwordFormControl.hasError("required")),x(1),L("ngIf",i.passwordFormControl.hasError("minlength")),x(1),L("ngIf",i.errorMessage),x(3),L("ngIf",i.isProgress))},directives:[rH,K2,Id,ZS,XS,eT,vd,kS,WS,ar,Er,DH,tT],styles:[""]}),n})();class OH{isErrorState(t,e){return!!(t&&t.invalid&&(t.dirty||t.touched||e&&e.submitted))}}const nT=ee(n=>!!n);let Md=(()=>{class n{constructor(e,i){this.router=e,this.auth=i,this.canActivate=(r,s)=>{const o=r.data.authGuardPipe||(()=>nT);return Jee(this.auth).pipe(qe(1),o(r,s),ee(a=>"boolean"==typeof a?a:Array.isArray(a)?this.router.createUrlTree(a):this.router.parseUrl(a)))}}}return n.\u0275fac=function(e){return new(e||n)(b(on),b(ts))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Ahe=(()=>{class n{constructor(e,i){this.route=e,this.auth=i}ngOnInit(){var e=this;return y(function*(){yield rte(e.auth),e.route.navigate(["login"])})()}}return n.\u0275fac=function(e){return new(e||n)(m(on),m(ts))},n.\u0275cmp=Ce({type:n,selectors:[["app-index"]],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),xhe=(()=>{class n{constructor(e){this.auth=e,this.idToken=""}ngOnInit(){at(tte(this.auth.currentUser)).pipe(qe(1)).subscribe(e=>this.idToken=e)}}return n.\u0275fac=function(e){return new(e||n)(m(ts))},n.\u0275cmp=Ce({type:n,selectors:[["app-token"]],decls:7,vars:2,consts:[[1,"container","mx-auto"],[1,"grid","grid-cols-1","m-2"],[1,"break-words"],["mat-icon-button","","appCopyMessage","",3,"cdkCopyToClipboard"]],template:function(e,i){1&e&&(C(0,"div",0),C(1,"div",1),C(2,"code",2),O(3),C(4,"button",3),C(5,"mat-icon"),O(6,"content_copy"),w(),w(),w(),w(),w()),2&e&&(x(3),mn(" ",i.idToken," "),x(1),L("cdkCopyToClipboard",i.idToken))},directives:[Er,TS,IS,Ul],styles:[""]}),n})();function PH(n){const t=JSON.stringify(n,null,2);return"null"==t?"":t}class khe{static jsonFormat(t){try{return""==t.value||JSON.parse(t.value),null}catch(e){return{jsonFormat:"Invalid JsonFormat"}}}}const NH="AUTH_INTERCEP_BASE_URL";let FH=(()=>{class n{constructor(e,i,r){this.baseUrl=e,this.http=i,this.logger=r}getUsers(e,i){return this.http.get(`${this.baseUrl}/users/${e}`,{params:i?{page_token:i}:void 0})}getUserClaims(e,i){return this.http.get(`${this.baseUrl}/user/${e}/claims/${i}`)}updateUserClaims(e,i,r){return this.http.put(`${this.baseUrl}/user/${e}/claims/${i}`,r)}}return n.\u0275fac=function(e){return new(e||n)(b(NH),b(Im),b(md))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rhe=(()=>{class n{constructor(e){this.snackBar=e}error(e,i=1e3){this.snackBar.open(e,void 0,{duration:i,panelClass:"!bg-red-500",horizontalPosition:"right",verticalPosition:"top"})}open(e,i=1e3){this.snackBar.open(e,void 0,{duration:i,panelClass:"bg-red-500",horizontalPosition:"right",verticalPosition:"top"})}success(e,i=1e3){this.snackBar.openFromComponent(_2,{data:{message:e},duration:i,panelClass:"bg-red-500",horizontalPosition:"right",verticalPosition:"top"})}}return n.\u0275fac=function(e){return new(e||n)(b(g2))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ohe(n,t){1&n&&ye(0,"mat-progress-bar",9)}function Phe(n,t){if(1&n&&(C(0,"mat-error"),O(1),w()),2&n){const e=Ae();x(1),mn(" ",null==e.customClaimsFormControl.errors?null:e.customClaimsFormControl.errors.jsonFormat," ")}}let Nhe=(()=>{class n{constructor(e,i,r,s,o){this.logger=e,this.data=i,this.api=r,this.snackBarServices=s,this.dialogRef=o,this.isLoading=!1,this.customClaimsFormControl=new ds("",[khe.jsonFormat]),this.matcher=new OH}get claims(){return this.customClaimsFormControl.value}ngOnInit(){this.isLoading=!0,this.customClaimsFormControl.disable(),this.api.getUserClaims(this.data.templateId,this.data.id).pipe(qe(1)).subscribe({next:e=>{this.customClaimsFormControl.setValue(PH(e)),this.customClaimsFormControl.enable()},complete:()=>this.isLoading=!1})}formatJson(){try{const e=PH(JSON.parse(this.customClaimsFormControl.value));this.customClaimsFormControl.setValue(e)}catch(e){return}}saveChange(){this.isLoading=!0,this.api.updateUserClaims(this.data.templateId,this.data.id,this.claims).pipe(qe(1),rf(()=>this.dialogRef.close())).subscribe({next:e=>this.snackBarServices.success(e.message),error:e=>{this.snackBarServices.error(e.error.message)}})}}return n.\u0275fac=function(e){return new(e||n)(m(md),m(KD),m(FH),m(Rhe),m(Bl))},n.\u0275cmp=Ce({type:n,selectors:[["app-edit-custom-claims"]],decls:15,vars:6,consts:[["mat-dialog-title",""],["class","example-margin","mode","indeterminate",4,"ngIf"],["mat-dialog-content",""],["appearance","fill",1,"w-full","!m-0","!p-0"],["matInput","","placeholder",'Enter valid json format ex. {"row": "admin"}',1,"min-h-[25vh]",3,"formControl","errorStateMatcher"],[4,"ngIf"],["mat-dialog-actions","","align","end"],["mat-flat-button","",3,"disabled","click"],["mat-flat-button","","mat-dialog-close",""],["mode","indeterminate",1,"example-margin"]],template:function(e,i){1&e&&(C(0,"h1",0),O(1,"Edit custom claims"),w(),U(2,Ohe,1,0,"mat-progress-bar",1),C(3,"div",2),C(4,"mat-form-field",3),C(5,"textarea",4),O(6,"            "),w(),U(7,Phe,2,1,"mat-error",5),w(),w(),C(8,"div",6),C(9,"button",7),he("click",function(){return i.formatJson()}),O(10,"Format"),w(),C(11,"button",8),O(12,"Cancel"),w(),C(13,"button",7),he("click",function(){return i.saveChange()}),O(14,"Save"),w(),w()),2&e&&(x(2),L("ngIf",i.isLoading),x(3),L("formControl",i.customClaimsFormControl)("errorStateMatcher",i.matcher),x(2),L("ngIf",i.customClaimsFormControl.hasError("jsonFormat")),x(2),L("disabled",i.isLoading),x(4),L("disabled",i.customClaimsFormControl.errors||i.isLoading))},directives:[YD,ar,QD,ZS,eT,vd,kS,$S,XD,Er,NB,tT,DH],styles:["textarea[_ngcontent-%COMP%]{font-family:Source Code Pro,monospace}"]}),n})();function Fhe(n,t){1&n&&(C(0,"div"),ye(1,"mat-progress-bar",25),w())}function Lhe(n,t){1&n&&(C(0,"th",26),O(1," Verified "),w())}function Vhe(n,t){1&n&&(C(0,"mat-icon",30),O(1,"verified_user"),w())}function Bhe(n,t){1&n&&(C(0,"mat-icon",31),O(1,"gpp_bad"),w())}function Hhe(n,t){if(1&n&&(C(0,"td",27),U(1,Vhe,2,0,"mat-icon",28),U(2,Bhe,2,0,"mat-icon",29),w()),2&n){const e=t.$implicit;x(1),L("ngIf",e.emailVerified),x(1),L("ngIf",!e.emailVerified)}}function Uhe(n,t){1&n&&(C(0,"th",32),O(1," Uid "),w())}function jhe(n,t){if(1&n&&(C(0,"td",33),C(1,"span",34),O(2),w(),w()),2&n){const e=t.$implicit;x(1),L("cdkCopyToClipboard",e.uid)("ngClass",e.disable?"text-neutral-400":""),x(1),mn(" ",e.uid," ")}}function $he(n,t){1&n&&(C(0,"th",32),O(1," Email "),w())}function zhe(n,t){if(1&n&&(C(0,"td",35),C(1,"span",36),O(2),w(),w()),2&n){const e=t.$implicit;x(1),L("cdkCopyToClipboard",e.email),x(1),mn(" ",e.email," ")}}function Ghe(n,t){1&n&&(C(0,"th",32),O(1," Actions "),w())}function Whe(n,t){if(1&n){const e=er();C(0,"td",37),C(1,"button",38),he("click",function(){const s=zn(e).$implicit;return Ae().openEditCustomClaimsDialog(s.uid)}),C(2,"mat-icon"),O(3,"person"),w(),w(),w()}}function qhe(n,t){if(1&n){const e=er();Mn(0),C(1,"tr",39),C(2,"td",40),C(3,"button",41),he("click",function(){return zn(e),Ae().refreshTable()}),C(4,"mat-icon"),O(5,"refresh"),w(),w(),O(6," No data "),w(),w(),An()}}function Khe(n,t){1&n&&ye(0,"tr",42)}function Yhe(n,t){1&n&&ye(0,"tr",43)}let Qhe=(()=>{class n{constructor(e,i,r,s){this.route=e,this.api=i,this.dialog=r,this.logger=s,this.id="",this.isLoading=!1,this.displayedColumns=["verified","uid","email","actions"],this.users=[]}get userResponse(){return this._userResponse}set userResponse(e){var i;this._userResponse=e,this.users=null!==(i=null==e?void 0:e.data)&&void 0!==i?i:[]}ngOnInit(){this.route.params.pipe(qe(1)).subscribe({next:e=>this.id=e.template_id,complete:()=>this.loadPageData()})}refreshTable(){this.loadPageData()}loadPageData(e){this.isLoading=!0,this.api.getUsers(this.id,e).pipe(qe(1)).subscribe({next:i=>this.userResponse=i,complete:()=>this.isLoading=!1})}nextPage(){var e;this.loadPageData(null===(e=this.userResponse)||void 0===e?void 0:e.next)}openEditCustomClaimsDialog(e){this.dialog.open(Nhe,{width:"100%",data:{templateId:this.id,id:e}})}filterCall(e){var i;const r=e.target,s=null===(i=this.userResponse)||void 0===i?void 0:i.data.filter(o=>o.email.includes(r.value)||o.uid.includes(r.value));this.users=null!=s?s:[]}}return n.\u0275fac=function(e){return new(e||n)(m(mo),m(FH),m(Hl),m(md))},n.\u0275cmp=Ce({type:n,selectors:[["app-users"]],decls:31,vars:7,consts:[[1,"container","flex","flex-col","p-4","h-full","gap-6"],[1,"flex","flex-row","gap-4","items-center"],[1,"grow"],["appearance","outline",1,"w-full","mb-[-1.25em]"],["matPrefix",""],["type","tel","matInput","","placeholder","Search by email or uid",3,"disabled","input"],["mat-icon-button","","matSuffix",""],[1,"grow-0"],["mat-flat-button","","color","primary",1,"h-[52px]",3,"disabled","click"],[4,"ngIf"],[1,"mat-elevation-z8","grow","mat","overflow-auto"],["mat-table","",1,"w-full","!overscroll-auto",2,"height","300ox",3,"dataSource"],["matColumnDef","verified",1,"!text-center"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","uid"],["mat-header-cell","","class","!text-center",4,"matHeaderCellDef"],["mat-cell","","class","whitespace-nowrap !pl-4 !pr-4",4,"matCellDef"],["matColumnDef","email"],["mat-cell","","class","whitespace-nowrap",4,"matCellDef"],["matColumnDef","actions","stickyEnd",""],["mat-cell","","class","text-center",4,"matCellDef"],[4,"matNoDataRow"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mode","indeterminate"],["mat-header-cell",""],["mat-cell",""],["class","!text-green-500",4,"ngIf"],["class","!text-red-500",4,"ngIf"],[1,"!text-green-500"],[1,"!text-red-500"],["mat-header-cell","",1,"!text-center"],["mat-cell","",1,"whitespace-nowrap","!pl-4","!pr-4"],["appCopyMessage","","matTooltip","Copy",1,"cursor-pointer",3,"cdkCopyToClipboard","ngClass"],["mat-cell","",1,"whitespace-nowrap"],["appCopyMessage","","matTooltip","Copy",1,"cursor-pointer",3,"cdkCopyToClipboard"],["mat-cell","",1,"text-center"],["mat-icon-button","","type","button",1,"!text-pink-500",3,"click"],[1,"mat-row"],["colspan","4",1,"mat-cell","text-center"],["mat-icon-button","","type","button",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(C(0,"div",0),C(1,"div",1),C(2,"div",2),C(3,"mat-form-field",3),C(4,"mat-icon",4),O(5,"search"),w(),C(6,"input",5),he("input",function(s){return i.filterCall(s)}),w(),C(7,"button",6),C(8,"mat-icon"),O(9,"close"),w(),w(),w(),w(),C(10,"div",7),C(11,"button",8),he("click",function(){return i.nextPage()}),O(12," Next Page "),w(),w(),w(),U(13,Fhe,2,0,"div",9),C(14,"div",10),C(15,"table",11),Mn(16,12),U(17,Lhe,2,0,"th",13),U(18,Hhe,3,2,"td",14),An(),Mn(19,15),U(20,Uhe,2,0,"th",16),U(21,jhe,3,3,"td",17),An(),Mn(22,18),U(23,$he,2,0,"th",16),U(24,zhe,3,2,"td",19),An(),Mn(25,20),U(26,Ghe,2,0,"th",16),U(27,Whe,4,0,"td",21),An(),U(28,qhe,7,0,"ng-container",22),U(29,Khe,1,0,"tr",23),U(30,Yhe,1,0,"tr",24),w(),w(),w()),2&e&&(x(6),L("disabled",i.isLoading),x(5),L("disabled",i.isLoading),x(2),L("ngIf",i.isLoading),x(2),L("dataSource",i.users),x(14),L("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),x(1),L("matRowDefColumns",i.displayedColumns))},directives:[ZS,Ul,the,eT,Er,nhe,ar,yS,jm,Um,Hm,ES,vS,bS,tT,$m,zm,TS,C2,IS,Gc,CS,wS],styles:[""]}),n})();const iT=()=>(n=>aT(nT,ee(t=>t||n)))(["login"]),Zhe=[{path:"",component:jue,canActivate:[Md],data:{authGuardPipe:iT}},{path:"login",component:She,canActivate:[Md],data:{authGuardPipe:()=>(n=>aT(nT,ee(t=>t&&n||!0)))([""])}},{path:"logout",component:Ahe},{path:"token",component:xhe,canActivate:[Md],data:{authGuardPipe:iT}},{path:"users/:template_id",component:Qhe,canActivate:[Md],data:{authGuardPipe:iT}}];let Jhe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({imports:[[ZO.forRoot(Zhe)],ZO]}),n})();const efe=["*",[["mat-toolbar-row"]]],tfe=["*","mat-toolbar-row"],nfe=Vl(class{constructor(n){this._elementRef=n}});let ife=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=S({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),rfe=(()=>{class n extends nfe{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(m(J),m(Vt),m(Y))},n.\u0275cmp=Ce({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&st(r,ife,5),2&e){let s;ce(s=ue())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&yt("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[B],ngContentSelectors:tfe,decls:2,vars:0,template:function(e,i){1&e&&(tr(efe),wt(0),wt(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),sfe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({imports:[[Se],Se]}),n})();const ofe=["mat-menu-item",""];function afe(n,t){1&n&&(ha(),C(0,"svg",2),ye(1,"polygon",3),w())}const LH=["*"];function lfe(n,t){if(1&n){const e=er();C(0,"div",0),he("keydown",function(r){return zn(e),Ae()._handleKeydown(r)})("click",function(){return zn(e),Ae().closed.emit("click")})("@transformMenu.start",function(r){return zn(e),Ae()._onAnimationStart(r)})("@transformMenu.done",function(r){return zn(e),Ae()._onAnimationDone(r)}),C(1,"div",1),wt(2),w(),w()}if(2&n){const e=Ae();L("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),Ue("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const ng={transformMenu:zs("transformMenu",[yi("void",Je({opacity:0,transform:"scale(0.8)"})),Jn("void => enter",_i("120ms cubic-bezier(0, 0, 0.2, 1)",Je({opacity:1,transform:"scale(1)"}))),Jn("* => void",_i("100ms 25ms linear",Je({opacity:0})))]),fadeInItems:zs("fadeInItems",[yi("showing",Je({opacity:1})),Jn("void => *",[Je({opacity:0}),_i("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},cfe=new I("MatMenuContent"),rT=new I("MAT_MENU_PANEL"),ufe=IB(TB(class{}));let ig=(()=>{class n extends ufe{constructor(e,i,r,s,o){super(),this._elementRef=e,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=o,this.role="menuitem",this._hovered=new Q,this._focused=new Q,this._highlighted=!1,this._triggersSubmenu=!1,s&&s.addItem&&s.addItem(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var e;const i=this._elementRef.nativeElement.cloneNode(!0),r=i.querySelectorAll("mat-icon, .material-icons");for(let s=0;s<r.length;s++)r[s].remove();return(null===(e=i.textContent)||void 0===e?void 0:e.trim())||""}_setHighlighted(e){var i;this._highlighted=e,null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(m(J),m(Y),m(Pl),m(rT,8),m(rr))},n.\u0275cmp=Ce({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,i){1&e&&he("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(Ue("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),yt("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[B],attrs:ofe,ngContentSelectors:LH,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(tr(),wt(0),ye(1,"div",0),U(2,afe,2,0,"svg",1)),2&e&&(x(1),L("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),x(1),L("ngIf",i._triggersSubmenu))},directives:[Sm,ar],encapsulation:2,changeDetection:0}),n})();const VH=new I("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let hfe=0,Ad=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new Wa,this._tabSubscription=Pe.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Q,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new Re,this.close=this.closed,this.panelId="mat-menu-panel-"+hfe++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=wn(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=wn(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new woe(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(jr(this._directDescendantItems),Li(e=>eo(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(jr(this._directDescendantItems),Li(i=>eo(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:rm(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:(38===i||40===i)&&r.setFocusOrigin("keyboard"),r.onKeydown(e)}}focusFirstItem(e="program"){this.lazyContent?this._ngZone.onStable.pipe(qe(1)).subscribe(()=>this._focusFirstItem(e)):this._focusFirstItem(e)}_focusFirstItem(e){const i=this._keyManager;if(i.setFocusOrigin(e).setFirstItemActive(),!i.activeItem&&this._directDescendantItems.length){let r=this._directDescendantItems.first._getHostElement().parentElement;for(;r;){if("menu"===r.getAttribute("role")){r.focus();break}r=r.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(o=>o.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(jr(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(m(J),m(K),m(VH))},n.\u0275dir=S({type:n,contentQueries:function(e,i,r){if(1&e&&(st(r,cfe,5),st(r,ig,5),st(r,ig,4)),2&e){let s;ce(s=ue())&&(i.lazyContent=s.first),ce(s=ue())&&(i._allItems=s),ce(s=ue())&&(i.items=s)}},viewQuery:function(e,i){if(1&e&&Ut(Et,5),2&e){let r;ce(r=ue())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),ffe=(()=>{class n extends Ad{constructor(e,i,r){super(e,i,r),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(m(J),m(K),m(VH))},n.\u0275cmp=Ce({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&Ue("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Z([{provide:rT,useExisting:n}]),B],ngContentSelectors:LH,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,i){1&e&&(tr(),U(0,lfe,3,6,"ng-template"))},directives:[Gc],styles:["mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,data:{animation:[ng.transformMenu,ng.fadeInItems]},changeDetection:0}),n})();const BH=new I("mat-menu-scroll-strategy"),mfe={provide:BH,deps:[br],useFactory:function(n){return()=>n.scrollStrategies.reposition()}},UH=kl({passive:!0});let gfe=(()=>{class n{constructor(e,i,r,s,o,a,l,c){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=a,this._dir=l,this._focusMonitor=c,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Pe.EMPTY,this._hoverSubscription=Pe.EMPTY,this._menuCloseSubscription=Pe.EMPTY,this._handleTouchStart=u=>{hD(u)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new Re,this.onMenuOpen=this.menuOpened,this.menuClosed=new Re,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=o instanceof Ad?o:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,UH),a&&(a._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,UH),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const e=this._createOverlay(),i=e.getConfig();this._setPosition(i.positionStrategy),i.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof Ad&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){var e;null===(e=this._overlayRef)||void 0===e||e.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof Ad?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(Pt(r=>"void"===r.toState),qe(1),It(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i.lazyContent&&i.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let e=0,i=this.menu.parentMenu;for(;i;)e++,i=i.parentMenu;this.menu.setElevation(e)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new im({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e){this.menu.setPositionClasses&&e.positionChanges.subscribe(i=>{this.menu.setPositionClasses("start"===i.connectionPair.overlayX?"after":"before","top"===i.connectionPair.overlayY?"below":"above")})}_setPosition(e){let[i,r]="before"===this.menu.xPosition?["end","start"]:["start","end"],[s,o]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[a,l]=[s,o],[c,u]=[i,r],d=0;this.triggersSubmenu()?(u=i="before"===this.menu.xPosition?"start":"end",r=c="end"===i?"start":"end",d="bottom"===s?8:-8):this.menu.overlapTrigger||(a="top"===s?"bottom":"top",l="top"===o?"bottom":"top"),e.withPositions([{originX:i,originY:a,overlayX:c,overlayY:s,offsetY:d},{originX:r,originY:a,overlayX:u,overlayY:s,offsetY:d},{originX:i,originY:l,overlayX:c,overlayY:o,offsetY:-d},{originX:r,originY:l,overlayX:u,overlayY:o,offsetY:-d}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments();return eo(e,this._parentMaterialMenu?this._parentMaterialMenu.closed:j(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Pt(o=>o!==this._menuItemInstance),Pt(()=>this._menuOpen)):j(),i)}_handleMousedown(e){dD(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Pt(e=>e===this._menuItemInstance&&!e.disabled),z0(0,Y0)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Ad&&this.menu._isAnimating?this.menu._animationDone.pipe(qe(1),z0(0,Y0),It(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new em(this.menu.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(m(br),m(J),m(Rt),m(BH),m(rT,8),m(ig,10),m(zo,8),m(Pl))},n.\u0275dir=S({type:n,hostAttrs:["aria-haspopup","true"],hostVars:2,hostBindings:function(e,i){1&e&&he("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&e&&Ue("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),_fe=(()=>{class n extends gfe{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ne(n)))(i||n)}}(),n.\u0275dir=S({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[B]}),n})(),yfe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({providers:[mfe],imports:[[lr,Se,GD,cd],ld,Se]}),n})();function vfe(n,t){if(1&n&&(C(0,"div",11),O(1),w()),2&n){const e=Ae(2);x(1),mn(" ",null==e.user?null:e.user.displayName," ")}}function bfe(n,t){1&n&&(C(0,"div",12),C(1,"mat-icon"),O(2,"token"),w(),O(3," Token "),w())}function Cfe(n,t){if(1&n&&(C(0,"mat-toolbar",1),C(1,"a",2),C(2,"span"),O(3,"Custom Claims Manager"),w(),w(),ye(4,"span",3),C(5,"button",4),C(6,"mat-icon"),O(7,"account_circle"),w(),w(),C(8,"mat-menu",null,5),U(10,vfe,2,1,"div",6),C(11,"div",7),C(12,"mat-icon"),O(13,"email"),w(),O(14),C(15,"mat-icon",8),O(16,"circle"),w(),w(),U(17,bfe,4,0,"div",9),C(18,"div",10),C(19,"mat-icon"),O(20,"logout"),w(),O(21," Signout "),w(),w(),w()),2&n){const e=function(n){return ua(X.lFrame.contextLView,20+n)}(9),i=Ae();x(5),L("matMenuTriggerFor",e),x(5),L("ngIf",null==i.user?null:i.user.displayName),x(4),mn(" ",null==i.user?null:i.user.email," "),x(1),L("ngClass",null!=i.user&&i.user.emailVerified?"!text-green-400":"!text-red-400"),x(2),L("ngIf",i.isDevMode)}}let wfe=(()=>{class n{constructor(e,i){this.auth=e,this.dialog=i,this.isDevMode=!1,this.user=null,this.dispose=null}get isLoggedIn(){return null!=this.user}ngOnDestroy(){var e;null===(e=this.dispose)||void 0===e||e.call("cancel")}ngOnInit(){var e=this;return y(function*(){e.dispose=nte(e.auth,i=>e.user=i)})()}}return n.\u0275fac=function(e){return new(e||n)(m(ts),m(Hl))},n.\u0275cmp=Ce({type:n,selectors:[["app-tool-bar"]],decls:1,vars:1,consts:[["class","my-toolbar",4,"ngIf"],[1,"my-toolbar"],["routerLink","/",1,"app-title"],[1,"w-full"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",4,"ngIf"],["mat-menu-item","",1,"inline-block","!align-middle"],[1,"!text-xs",3,"ngClass"],["mat-menu-item","","routerLink","/token",4,"ngIf"],["mat-menu-item","","routerLink","/logout"],["mat-menu-item",""],["mat-menu-item","","routerLink","/token"]],template:function(e,i){1&e&&U(0,Cfe,22,5,"mat-toolbar",0),2&e&&L("ngIf",i.isLoggedIn)},directives:[ar,rfe,au,Er,_fe,Ul,ffe,ig,Gc,Cf],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.my-toolbar[_ngcontent-%COMP%]{background-color:#00f;color:#fff;position:-webkit-sticky;top:0;z-index:1000}.app-title[_ngcontent-%COMP%]{text-decoration:none;color:#fff}"]}),n})(),Efe=(()=>{class n{constructor(){this.title="firebase_auth_credentail_manager"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ce({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"flex","flex-col","h-full"],[1,"grow"],[1,"grow","w-screen","h-full","overflow-auto"]],template:function(e,i){1&e&&(C(0,"div",0),C(1,"div",1),ye(2,"app-tool-bar"),w(),C(3,"div",2),ye(4,"router-outlet"),w(),w())},directives:[wfe,_v],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100vw;height:100%}.wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2){flex-grow:1;overflow:auto}"]}),n})(),Dfe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({imports:[[Se],Se]}),n})(),Ife=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({imports:[[AB,Se],AB,Se]}),n})();const Rfe={provide:new I("mat-select-scroll-strategy"),deps:[br],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let Ofe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({providers:[Rfe],imports:[[lr,cd,OB,Se],ld,JS,OB,Se]}),n})(),sT=(()=>{class n{constructor(){this.changes=new Q,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const s=e*i;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+i,r):s+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vfe={provide:sT,deps:[[new nt,new Es,sT]],useFactory:function(n){return n||new sT}};let Bfe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({providers:[Vfe],imports:[[lr,ZD,Ofe,w2,Se]]}),n})(),Hfe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({providers:[],imports:[ZD,sfe,Dfe,vce,dhe,Ife,yhe,yfe,jle,oue,Ice,m2,w2,Bfe]}),n})(),Ufe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({imports:[[dZ(()=>{const t=new IC("6LefPr4dAAAAAF0d-FFP57NQTFXpXNIRuWP-mwds");return hZ(gX(),{provider:t,isTokenAutoRefreshEnabled:!0})})],R1]}),n})(),jfe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n}),n.\u0275inj=$({providers:[],imports:[[mX(()=>_X(Tr_firebase)),Nre(()=>{const t=Lre();return t}),Zee(()=>jN())],u1,UN,jL,Ufe]}),n})();const $fe=[{provide:nS,useClass:(()=>{class n{constructor(e,i){this.auth=e,this.logger=i}intercept(e,i){this.logger.log("On Intercep");const r=this.auth.currentUser;if(!r)throw new Error("Can't get user token");return at(r.getIdToken()).pipe(Li(s=>(e=e.clone({setHeaders:{Authorization:`Bearer ${s}`}}),i.handle(e))))}}return n.\u0275fac=function(e){return new(e||n)(b(ts),b(md))},n.\u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),multi:!0}];let zfe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=z({type:n,bootstrap:[Efe]}),n.\u0275inj=$({providers:[{provide:n2,useValue:{level:ji.all,enable:!1}},$fe,{provide:NH,useValue:"https://asia-southeast2-auth-custom-claim-manager.cloudfunctions.net/api"}],imports:[[zR,Jhe,vle,Hfe,Rde,wH,jfe,wue,lce]]}),n})();(function(){if(Zk)throw new Error("Cannot enable prod mode after platform setup.");Xk=!1})(),H6().bootstrapModule(zfe).catch(n=>console.error(n))},940:function(kd,Rd){!function(Xs){"use strict";function me(H){return Array.prototype.slice.call(H)}function ea(H){return new Promise(function(ge,ke){H.onsuccess=function(){ge(H.result)},H.onerror=function(){ke(H.error)}})}function fs(H,ge,ke){var Le,Ee=new Promise(function(cn,ps){ea(Le=H[ge].apply(H,ke)).then(cn,ps)});return Ee.request=Le,Ee}function ta(H,ge,ke){var Le=fs(H,ge,ke);return Le.then(function(Ee){if(Ee)return new zi(Ee,Le.request)})}function Pe(H,ge,ke){ke.forEach(function(Le){Object.defineProperty(H.prototype,Le,{get:function(){return this[ge][Le]},set:function(Ee){this[ge][Le]=Ee}})})}function na(H,ge,ke,Le){Le.forEach(function(Ee){Ee in ke.prototype&&(H.prototype[Ee]=function(){return fs(this[ge],Ee,arguments)})})}function Zs(H,ge,ke,Le){Le.forEach(function(Ee){Ee in ke.prototype&&(H.prototype[Ee]=function(){return this[ge][Ee].apply(this[ge],arguments)})})}function Ql(H,ge,ke,Le){Le.forEach(function(Ee){Ee in ke.prototype&&(H.prototype[Ee]=function(){return ta(this[ge],Ee,arguments)})})}function ln(H){this._index=H}function zi(H,ge){this._cursor=H,this._request=ge}function Ln(H){this._store=H}function ii(H){this._tx=H,this.complete=new Promise(function(ge,ke){H.oncomplete=function(){ge()},H.onerror=function(){ke(H.error)},H.onabort=function(){ke(H.error)}})}function ia(H,ge,ke){this._db=H,this.oldVersion=ge,this.transaction=new ii(ke)}function ra(H){this._db=H}Pe(ln,"_index",["name","keyPath","multiEntry","unique"]),na(ln,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Ql(ln,"_index",IDBIndex,["openCursor","openKeyCursor"]),Pe(zi,"_cursor",["direction","key","primaryKey","value"]),na(zi,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(H){H in IDBCursor.prototype&&(zi.prototype[H]=function(){var ge=this,ke=arguments;return Promise.resolve().then(function(){return ge._cursor[H].apply(ge._cursor,ke),ea(ge._request).then(function(Le){if(Le)return new zi(Le,ge._request)})})})}),Ln.prototype.createIndex=function(){return new ln(this._store.createIndex.apply(this._store,arguments))},Ln.prototype.index=function(){return new ln(this._store.index.apply(this._store,arguments))},Pe(Ln,"_store",["name","keyPath","indexNames","autoIncrement"]),na(Ln,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Ql(Ln,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Zs(Ln,"_store",IDBObjectStore,["deleteIndex"]),ii.prototype.objectStore=function(){return new Ln(this._tx.objectStore.apply(this._tx,arguments))},Pe(ii,"_tx",["objectStoreNames","mode"]),Zs(ii,"_tx",IDBTransaction,["abort"]),ia.prototype.createObjectStore=function(){return new Ln(this._db.createObjectStore.apply(this._db,arguments))},Pe(ia,"_db",["name","version","objectStoreNames"]),Zs(ia,"_db",IDBDatabase,["deleteObjectStore","close"]),ra.prototype.transaction=function(){return new ii(this._db.transaction.apply(this._db,arguments))},Pe(ra,"_db",["name","version","objectStoreNames"]),Zs(ra,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(H){[Ln,ln].forEach(function(ge){H in ge.prototype&&(ge.prototype[H.replace("open","iterate")]=function(){var ke=me(arguments),Le=ke[ke.length-1],Ee=this._store||this._index,cn=Ee[H].apply(Ee,ke.slice(0,-1));cn.onsuccess=function(){Le(cn.result)}})})}),[ln,Ln].forEach(function(H){H.prototype.getAll||(H.prototype.getAll=function(ge,ke){var Le=this,Ee=[];return new Promise(function(cn){Le.iterateCursor(ge,function(ps){ps?(Ee.push(ps.value),void 0===ke||Ee.length!=ke?ps.continue():cn(Ee)):cn(Ee)})})})}),Xs.openDb=function(H,ge,ke){var Le=fs(indexedDB,"open",[H,ge]),Ee=Le.request;return Ee&&(Ee.onupgradeneeded=function(cn){ke&&ke(new ia(Ee.result,cn.oldVersion,Ee.transaction))}),Le.then(function(cn){return new ra(cn)})},Xs.deleteDb=function(H){return fs(indexedDB,"deleteDatabase",[H])},Object.defineProperty(Xs,"__esModule",{value:!0})}(Rd)}},kd=>{kd(kd.s=111)}]);