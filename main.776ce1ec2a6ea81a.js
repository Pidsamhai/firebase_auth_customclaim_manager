(self.webpackChunkfirebase_auth_credentail_manager=self.webpackChunkfirebase_auth_credentail_manager||[]).push([[179],{238:(pd,md,Os)=>{"use strict";function he(n){return"function"==typeof n}function Bo(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Gr=Bo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ho(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Ae{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(he(i))try{i()}catch(s){e=s instanceof Gr?s.errors:[s]}const{_teardowns:r}=this;if(r){this._teardowns=null;for(const s of r)try{Nl(s)}catch(o){e=null!=e?e:[],o instanceof Gr?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Gr(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Nl(e);else{if(e instanceof Ae){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ho(t,e)}remove(e){const{_teardowns:t}=this;t&&Ho(t,e),e instanceof Ae&&e._removeParent(this)}}Ae.EMPTY=(()=>{const n=new Ae;return n.closed=!0,n})();const Uo=Ae.EMPTY;function Ps(n){return n instanceof Ae||n&&"closed"in n&&he(n.remove)&&he(n.add)&&he(n.unsubscribe)}function Nl(n){he(n)?n():n.unsubscribe()}const sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},xi={setTimeout(...n){const{delegate:e}=xi;return((null==e?void 0:e.setTimeout)||setTimeout)(...n)},clearTimeout(n){const{delegate:e}=xi;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function Rn(n){xi.setTimeout(()=>{const{onUnhandledError:e}=sn;if(!e)throw n;e(n)})}function Yn(){}const jo=Fl("C",void 0,void 0);function Fl(n,e,t){return{kind:n,value:e,error:t}}let F=null;function fe(n){if(sn.useDeprecatedSynchronousErrorHandling){const e=!F;if(e&&(F={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=F;if(F=null,t)throw i}}else n()}class Oe extends Ae{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ps(e)&&e.add(this)):this.destination=x2}static create(e,t,i){return new ve(e,t,i)}next(e){this.isStopped?Am(Fl("N",e,void 0),this):this._next(e)}error(e){this.isStopped?Am(Fl("E",void 0,e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Am(jo,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class ve extends Oe{constructor(e,t,i){let r;if(super(),he(e))r=e;else if(e){let s;({next:r,error:t,complete:i}=e),this&&sn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe()):s=e,r=null==r?void 0:r.bind(s),t=null==t?void 0:t.bind(s),i=null==i?void 0:i.bind(s)}this.destination={next:r?on(r):Yn,error:on(null!=t?t:qr),complete:i?on(i):Yn}}}function on(n,e){return(...t)=>{try{n(...t)}catch(i){sn.useDeprecatedSynchronousErrorHandling?function(n){sn.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=n)}(i):Rn(i)}}}function qr(n){throw n}function Am(n,e){const{onStoppedNotification:t}=sn;t&&xi.setTimeout(()=>t(n,e))}const x2={closed:!0,next:Yn,error:qr,complete:Yn},km="function"==typeof Symbol&&Symbol.observable||"@@observable";function Kr(n){return n}function fT(...n){return pT(n)}function pT(n){return 0===n.length?Kr:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let Ee=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const s=function(n){return n&&n instanceof Oe||function(n){return n&&he(n.next)&&he(n.error)&&he(n.complete)}(n)&&Ps(n)}(t)?t:new ve(t,i,r);return fe(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=mT(i))((r,s)=>{let o;o=this.subscribe(a=>{try{t(a)}catch(l){s(l),null==o||o.unsubscribe()}},s,r)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[km](){return this}pipe(...t){return pT(t)(this)}toPromise(t){return new(t=mT(t))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function mT(n){var e;return null!==(e=null!=n?n:sn.Promise)&&void 0!==e?e:Promise}const N2=Bo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let _e=(()=>{class n extends Ee{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new gT(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new N2}next(t){fe(()=>{if(this._throwIfClosed(),!this.isStopped){const i=this.observers.slice();for(const r of i)r.next(t)}})}error(t){fe(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){fe(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:s}=this;return i||r?Uo:(s.push(t),new Ae(()=>Ho(s,t)))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){const t=new Ee;return t.source=this,t}}return n.create=(e,t)=>new gT(e,t),n})();class gT extends _e{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:Uo}}function _T(n){return he(null==n?void 0:n.lift)}function lt(n){return e=>{if(_T(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}class Je extends Oe{constructor(e,t,i,r,s){super(e),this.onFinalize=s,this._next=t?function(o){try{t(o)}catch(a){e.error(a)}}:super._next,this._error=r?function(o){try{r(o)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function ne(n,e){return lt((t,i)=>{let r=0;t.subscribe(new Je(i,s=>{i.next(n.call(e,s,r++))}))})}function Ns(n){return this instanceof Ns?(this.v=n,this):new Ns(n)}function V2(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){i[h]&&(r[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function(h){h.value instanceof Ns?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(i[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function B2(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}const xm=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function CT(n){return he(null==n?void 0:n.then)}function wT(n){return he(n[km])}function ET(n){return Symbol.asyncIterator&&he(null==n?void 0:n[Symbol.asyncIterator])}function DT(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const TT="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function ST(n){return he(null==n?void 0:n[TT])}function IT(n){return V2(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield Ns(t.read());if(r)return yield Ns(void 0);yield yield Ns(i)}}finally{t.releaseLock()}})}function MT(n){return he(null==n?void 0:n.getReader)}function xn(n){if(n instanceof Ee)return n;if(null!=n){if(wT(n))return function(n){return new Ee(e=>{const t=n[km]();if(he(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(xm(n))return function(n){return new Ee(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(CT(n))return function(n){return new Ee(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Rn)})}(n);if(ET(n))return AT(n);if(ST(n))return function(n){return new Ee(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(MT(n))return function(n){return AT(IT(n))}(n)}throw DT(n)}function AT(n){return new Ee(e=>{(function(n,e){var t,i,r,s;return function(n,e,t,i){return new(t||(t=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=B2(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ur(n,e,t,i=0,r=!1){const s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function gt(n,e,t=1/0){return he(e)?gt((i,r)=>ne((s,o)=>e(i,s,r,o))(xn(n(i,r))),t):("number"==typeof e&&(t=e),lt((i,r)=>function(n,e,t,i,r,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=g=>c<i?p(g):l.push(g),p=g=>{c++;let _=!1;xn(t(g,u++)).subscribe(new Je(e,b=>{e.next(b)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<i;){const b=l.shift();p(b)}h()}catch(b){e.error(b)}}))};return n.subscribe(new Je(e,f,()=>{d=!0,h()})),()=>{}}(i,r,n,t)))}function Ll(n=1/0){return gt(Kr,n)}const Oi=new Ee(n=>n.complete());function kT(n){return n&&he(n.schedule)}function Om(n){return n[n.length-1]}function RT(n){return he(Om(n))?n.pop():void 0}function Vl(n){return kT(Om(n))?n.pop():void 0}function gd(n,e=0){return lt((t,i)=>{t.subscribe(new Je(i,r=>ur(i,n,()=>i.next(r),e),()=>ur(i,n,()=>i.complete(),e),r=>ur(i,n,()=>i.error(r),e)))})}function _d(n,e=0){return lt((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function xT(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ee(t=>{ur(t,e,()=>{const i=n[Symbol.asyncIterator]();ur(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function ct(n,e){return e?function(n,e){if(null!=n){if(wT(n))return function(n,e){return xn(n).pipe(_d(e),gd(e))}(n,e);if(xm(n))return function(n,e){return new Ee(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(CT(n))return function(n,e){return xn(n).pipe(_d(e),gd(e))}(n,e);if(ET(n))return xT(n,e);if(ST(n))return function(n,e){return new Ee(t=>{let i;return ur(t,e,()=>{i=n[TT](),ur(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void t.error(o)}s?t.complete():t.next(r)},0,!0)}),()=>he(null==i?void 0:i.return)&&i.return()})}(n,e);if(MT(n))return function(n,e){return xT(IT(n),e)}(n,e)}throw DT(n)}(n,e):xn(n)}function Fs(...n){const e=Vl(n),t=function(n,e){return"number"==typeof Om(n)?n.pop():1/0}(n),i=n;return i.length?1===i.length?xn(i[0]):Ll(t)(ct(i,e)):Oi}function Et(n){return n<=0?()=>Oi:lt((e,t)=>{let i=0;e.subscribe(new Je(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function OT(n={}){const{connector:e=(()=>new _e),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o=null,a=null,l=null,c=0,u=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=l=null,u=d=!1},p=()=>{const g=o;f(),null==g||g.unsubscribe()};return lt((g,_)=>{c++,!d&&!u&&h();const b=l=null!=l?l:e();_.add(()=>{c--,0===c&&!d&&!u&&(a=Pm(p,r))}),b.subscribe(_),o||(o=new ve({next:v=>b.next(v),error:v=>{d=!0,h(),a=Pm(f,t,v),b.error(v)},complete:()=>{u=!0,h(),a=Pm(f,i),b.complete()}}),ct(g).subscribe(o))})(s)}}function Pm(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(Et(1)).subscribe(()=>n())}function He(n){for(let e in n)if(n[e]===He)return e;throw Error("Could not find renamed property on target object.")}function Nm(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ce(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ce).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Fm(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const iH=He({__forward_ref__:He});function We(n){return n.__forward_ref__=We,n.toString=function(){return Ce(this())},n}function re(n){return PT(n)?n():n}function PT(n){return"function"==typeof n&&n.hasOwnProperty(iH)&&n.__forward_ref__===We}class On extends Error{constructor(e,t){super(function(n,e){return`${n?`NG0${n}: `:""}${e}`}(e,t)),this.code=e}}function K(n){return"string"==typeof n?n:null==n?"":String(n)}function an(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():K(n)}function yd(n,e){const t=e?` in ${e}`:"";throw new On("201",`No provider for ${an(n)} found${t}`)}function Nn(n,e){null==n&&function(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function O(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function W(n){return{providers:n.providers||[],imports:n.imports||[]}}function Vm(n){return NT(n,vd)||NT(n,LT)}function NT(n,e){return n.hasOwnProperty(e)?n[e]:null}function FT(n){return n&&(n.hasOwnProperty(Bm)||n.hasOwnProperty(uH))?n[Bm]:null}const vd=He({\u0275prov:He}),Bm=He({\u0275inj:He}),LT=He({ngInjectableDef:He}),uH=He({ngInjectorDef:He});var Y=(()=>((Y=Y||{})[Y.Default=0]="Default",Y[Y.Host=1]="Host",Y[Y.Self=2]="Self",Y[Y.SkipSelf=4]="SkipSelf",Y[Y.Optional=8]="Optional",Y))();let Hm;function Yr(n){const e=Hm;return Hm=n,e}function VT(n,e,t){const i=Vm(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&Y.Optional?null:void 0!==e?e:void yd(Ce(n),"Injector")}function Qr(n){return{toString:n}.toString()}var fi=(()=>((fi=fi||{})[fi.OnPush=0]="OnPush",fi[fi.Default=1]="Default",fi))(),pi=(()=>{return(n=pi||(pi={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",pi;var n})();const hH="undefined"!=typeof globalThis&&globalThis,fH="undefined"!=typeof window&&window,pH="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Le=hH||"undefined"!=typeof global&&global||fH||pH,zo={},Ue=[],bd=He({\u0275cmp:He}),Um=He({\u0275dir:He}),jm=He({\u0275pipe:He}),BT=He({\u0275mod:He}),hr=He({\u0275fac:He}),Bl=He({__NG_ELEMENT_ID__:He});let mH=0;function ke(n){return Qr(()=>{const t={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===fi.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Ue,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||pi.Emulated,id:"c",styles:n.styles||Ue,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,s=n.features,o=n.pipes;return i.id+=mH++,i.inputs=$T(n.inputs,t),i.outputs=$T(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(HT):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(UT):null,i})}function HT(n){return Xt(n)||function(n){return n[Um]||null}(n)}function UT(n){return function(n){return n[jm]||null}(n)}const jT={};function Q(n){return Qr(()=>{const e={type:n.type,bootstrap:n.bootstrap||Ue,declarations:n.declarations||Ue,imports:n.imports||Ue,exports:n.exports||Ue,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(jT[n.id]=n.type),e})}function $T(n,e){if(null==n)return zo;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=i,e&&(e[r]=s)}return t}const T=ke;function Xt(n){return n[bd]||null}function Qn(n,e){const t=n[BT]||null;if(!t&&!0===e)throw new Error(`Type ${Ce(n)} does not have '\u0275mod' property.`);return t}function Pi(n){return Array.isArray(n)&&"object"==typeof n[1]}function gi(n){return Array.isArray(n)&&!0===n[1]}function Wm(n){return 0!=(8&n.flags)}function Dd(n){return 2==(2&n.flags)}function Td(n){return 1==(1&n.flags)}function _i(n){return null!==n.template}function CH(n){return 0!=(512&n[2])}function Us(n,e){return n.hasOwnProperty(hr)?n[hr]:null}class DH{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Pt(){return WT}function WT(n){return n.type.prototype.ngOnChanges&&(n.setInput=SH),TH}function TH(){const n=qT(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===zo)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function SH(n,e,t,i){const r=qT(n)||function(n,e){return n[GT]=e}(n,{previous:zo,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[t],l=o[a];s[a]=new DH(l&&l.currentValue,e,o===zo),n[i]=e}Pt.ngInherit=!0;const GT="__ngSimpleChanges__";function qT(n){return n[GT]||null}const KT="http://www.w3.org/2000/svg";let Km;function ut(n){return!!n.listen}const QT={createRenderer:(n,e)=>void 0!==Km?Km:"undefined"!=typeof document?document:void 0};function _t(n){for(;Array.isArray(n);)n=n[0];return n}function Sd(n,e){return _t(e[n])}function Jn(n,e){return _t(e[n.index])}function Qm(n,e){return n.data[e]}function Ln(n,e){const t=e[n];return Pi(t)?t:t[0]}function XT(n){return 4==(4&n[2])}function Xm(n){return 128==(128&n[2])}function Zr(n,e){return null==e?null:n[e]}function ZT(n){n[18]=0}function Zm(n,e){n[5]+=e;let t=n,i=n[3];for(;null!==i&&(1===e&&1===t[5]||-1===e&&0===t[5]);)i[5]+=e,t=i,i=i[3]}const z={lFrame:oS(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function JT(){return z.bindingsEnabled}function w(){return z.lFrame.lView}function we(){return z.lFrame.tView}function fr(n){return z.lFrame.contextLView=n,n[8]}function Dt(){let n=eS();for(;null!==n&&64===n.type;)n=n.parent;return n}function eS(){return z.lFrame.currentTNode}function Ni(n,e){const t=z.lFrame;t.currentTNode=n,t.isParent=e}function Jm(){return z.lFrame.isParent}function eg(){z.lFrame.isParent=!1}function Id(){return z.isInCheckNoChangesMode}function Md(n){z.isInCheckNoChangesMode=n}function Qo(){return z.lFrame.bindingIndex++}function UH(n,e){const t=z.lFrame;t.bindingIndex=t.bindingRootIndex=n,tg(e)}function tg(n){z.lFrame.currentDirectiveIndex=n}function ng(n){const e=z.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function iS(){return z.lFrame.currentQueryIndex}function ig(n){z.lFrame.currentQueryIndex=n}function $H(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function rS(n,e,t){if(t&Y.SkipSelf){let r=e,s=n;for(;!(r=r.parent,null!==r||t&Y.Host||(r=$H(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;e=r,n=s}const i=z.lFrame=sS();return i.currentTNode=e,i.lView=n,!0}function Ad(n){const e=sS(),t=n[1];z.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function sS(){const n=z.lFrame,e=null===n?null:n.child;return null===e?oS(n):e}function oS(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function aS(){const n=z.lFrame;return z.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const lS=aS;function kd(){const n=aS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function cn(){return z.lFrame.selectedIndex}function Jr(n){z.lFrame.selectedIndex=n}function dt(){const n=z.lFrame;return Qm(n.tView,n.selectedIndex)}function Xo(){z.lFrame.currentNamespace=KT}function Rd(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function xd(n,e,t){uS(n,e,3,t)}function Od(n,e,t,i){(3&n[2])===t&&uS(n,e,t,i)}function rg(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function uS(n,e,t,i){const s=null!=i?i:-1,o=e.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(QH(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function QH(n,e,t,i){const r=t[i]<0,s=t[i+1],a=n[r?-t[i]:t[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class zl{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Pd(n,e,t){const i=ut(n);let r=0;for(;r<t.length;){const s=t[r];if("number"==typeof s){if(0!==s)break;r++;const o=t[r++],a=t[r++],l=t[r++];i?n.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=t[++r];og(o)?i&&n.setProperty(e,o,a):i?n.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function dS(n){return 3===n||4===n||6===n}function og(n){return 64===n.charCodeAt(0)}function Nd(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||hS(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function hS(n,e,t,i,r){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function fS(n){return-1!==n}function Zo(n){return 32767&n}function Jo(n,e){let t=function(n){return n>>16}(n),i=e;for(;t>0;)i=i[15],t--;return i}let ag=!0;function Fd(n){const e=ag;return ag=n,e}let nU=0;function Gl(n,e){const t=cg(n,e);if(-1!==t)return t;const i=e[1];i.firstCreatePass&&(n.injectorIndex=e.length,lg(i.data,n),lg(e,null),lg(i.blueprint,null));const r=Ld(n,e),s=n.injectorIndex;if(fS(r)){const o=Zo(r),a=Jo(r,e),l=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function lg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function cg(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Ld(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){const s=r[1],o=s.type;if(i=2===o?s.declTNode:1===o?r[6]:null,null===i)return-1;if(t++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return-1}function Vd(n,e,t){!function(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Bl)&&(i=t[Bl]),null==i&&(i=t[Bl]=nU++);const r=255&i;e.data[n+(r>>5)]|=1<<r}(n,e,t)}function gS(n,e,t){if(t&Y.Optional)return n;yd(e,"NodeInjector")}function _S(n,e,t,i){if(t&Y.Optional&&void 0===i&&(i=null),0==(t&(Y.Self|Y.Host))){const r=n[9],s=Yr(void 0);try{return r?r.get(e,i,t&Y.Optional):VT(e,i,t&Y.Optional)}finally{Yr(s)}}return gS(i,e,t)}function yS(n,e,t,i=Y.Default,r){if(null!==n){const s=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Bl)?n[Bl]:void 0;return"number"==typeof e?e>=0?255&e:sU:e}(t);if("function"==typeof s){if(!rS(e,n,i))return i&Y.Host?gS(r,t,i):_S(e,t,i,r);try{const o=s(i);if(null!=o||i&Y.Optional)return o;yd(t)}finally{lS()}}else if("number"==typeof s){let o=null,a=cg(n,e),l=-1,c=i&Y.Host?e[16][6]:null;for((-1===a||i&Y.SkipSelf)&&(l=-1===a?Ld(n,e):e[a+8],-1!==l&&CS(i,!1)?(o=e[1],a=Zo(l),e=Jo(l,e)):a=-1);-1!==a;){const u=e[1];if(bS(s,a,u.data)){const d=oU(a,e,t,o,i,c);if(d!==vS)return d}l=e[a+8],-1!==l&&CS(i,e[1].data[a+8]===c)&&bS(s,a,e)?(o=u,a=Zo(l),e=Jo(l,e)):a=-1}}}return _S(e,t,i,r)}const vS={};function sU(){return new ea(Dt(),w())}function oU(n,e,t,i,r,s){const o=e[1],a=o.data[n+8],u=Bd(a,o,t,null==i?Dd(a)&&ag:i!=o&&0!=(3&a.type),r&Y.Host&&s===a);return null!==u?ql(e,o,u,a):vS}function Bd(n,e,t,i,r){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(r){const f=o[l];if(f&&_i(f)&&f.type===t)return l}return null}function ql(n,e,t,i){let r=n[t];const s=e.data;if(function(n){return n instanceof zl}(r)){const o=r;o.resolving&&function(n,e){throw new On("200",`Circular dependency in DI detected for ${n}`)}(an(s[t]));const a=Fd(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Yr(o.injectImpl):null;rS(n,i,Y.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&function(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const o=WT(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}r&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,r),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&Yr(l),Fd(a),o.resolving=!1,lS()}}return r}function bS(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function CS(n,e){return!(n&Y.Self||n&Y.Host&&e)}class ea{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return yS(this._tNode,this._lView,e,i,t)}}function Re(n){return Qr(()=>{const e=n.prototype.constructor,t=e[hr]||ug(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[hr]||ug(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function ug(n){return PT(n)?()=>{const e=ug(re(n));return e&&e()}:Us(n)}function ts(n){return function(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const s=t[r];if(dS(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(s===e)return t[r+1];r+=2}}}return null}(Dt(),n)}const na="__parameters__";function ra(n,e,t){return Qr(()=>{const i=function(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(na)?l[na]:Object.defineProperty(l,na,{value:[]})[na];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class M{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=O({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const cU=new M("AnalyzeForEntryComponents");function ei(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let i=n[t];Array.isArray(i)?(e===n&&(e=n.slice(0,t)),ei(i,e)):e!==n&&e.push(i)}return e}function Fi(n,e){n.forEach(t=>Array.isArray(t)?Fi(t,e):e(t))}function ES(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Hd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Ql(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function Vn(n,e,t){let i=sa(n,e);return i>=0?n[1|i]=t:(i=~i,function(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function fg(n,e){const t=sa(n,e);if(t>=0)return n[1|t]}function sa(n,e){return function(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}(n,e,1)}const Xl={},mg="__NG_DI_FLAG__",jd="ngTempTokenPath",vU=/\n/gm,MS="__source",CU=He({provide:String,useValue:He});let Zl;function AS(n){const e=Zl;return Zl=n,e}function wU(n,e=Y.Default){if(void 0===Zl)throw new Error("inject() must be called from an injection context");return null===Zl?VT(n,void 0,e):Zl.get(n,e&Y.Optional?null:void 0,e)}function C(n,e=Y.Default){return(Hm||wU)(re(n),e)}const $d=C;function gg(n){const e=[];for(let t=0;t<n.length;t++){const i=re(n[t]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let r,s=Y.Default;for(let o=0;o<i.length;o++){const a=i[o],l=EU(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}e.push(C(r,s))}else e.push(C(i))}return e}function Jl(n,e){return n[mg]=e,n.prototype[mg]=e,n}function EU(n){return n[mg]}const ec=Jl(ra("Inject",n=>({token:n})),-1),tt=Jl(ra("Optional"),8),js=Jl(ra("SkipSelf"),4);let Wd;function aa(n){var e;return(null===(e=function(){if(void 0===Wd&&(Wd=null,Le.trustedTypes))try{Wd=Le.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Wd}())||void 0===e?void 0:e.createHTML(n))||n}class $s{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class FU extends $s{getTypeName(){return"HTML"}}class LU extends $s{getTypeName(){return"Style"}}class VU extends $s{getTypeName(){return"Script"}}class BU extends $s{getTypeName(){return"URL"}}class HU extends $s{getTypeName(){return"ResourceURL"}}function Bn(n){return n instanceof $s?n.changingThisBreaksApplicationSecurity:n}function Li(n,e){const t=VS(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}function VS(n){return n instanceof $s&&n.getTypeName()||null}class GU{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(aa(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class qU{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const i=this.inertDocument.createElement("body");t.appendChild(i)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=aa(e),t;const i=this.inertDocument.createElement("body");return i.innerHTML=aa(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const o=t.item(r).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let i=e.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const YU=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,QU=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function nc(n){return(n=String(n)).match(YU)||n.match(QU)?n:"unsafe:"+n}function HS(n){return(n=String(n)).split(",").map(e=>nc(e.trim())).join(", ")}function Vi(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function ic(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const US=Vi("area,br,col,hr,img,wbr"),jS=Vi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$S=Vi("rp,rt"),bg=ic(US,ic(jS,Vi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ic($S,Vi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ic($S,jS)),Cg=Vi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wg=Vi("srcset"),zS=ic(Cg,wg,Vi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),XU=Vi("script,style,template");class ZU{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!bg.hasOwnProperty(t))return this.sanitizedSomething=!0,!XU.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!zS.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;Cg[a]&&(l=nc(l)),wg[a]&&(l=HS(l)),this.buf.push(" ",o,'="',WS(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();bg.hasOwnProperty(t)&&!US.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(WS(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const JU=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ej=/([^\#-~ |!])/g;function WS(n){return n.replace(/&/g,"&amp;").replace(JU,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(ej,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let qd;function GS(n,e){let t=null;try{qd=qd||function(n){const e=new qU(n);return function(){try{return!!(new window.DOMParser).parseFromString(aa(""),"text/html")}catch(n){return!1}}()?new GU(e):e}(n);let i=e?String(e):"";t=qd.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=qd.getInertBodyElement(i)}while(i!==s);return aa((new ZU).sanitizeChildren(Eg(t)||t))}finally{if(t){const i=Eg(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Eg(n){return"content"in n&&function(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var xe=(()=>((xe=xe||{})[xe.NONE=0]="NONE",xe[xe.HTML=1]="HTML",xe[xe.STYLE=2]="STYLE",xe[xe.SCRIPT=3]="SCRIPT",xe[xe.URL=4]="URL",xe[xe.RESOURCE_URL=5]="RESOURCE_URL",xe))();function Kd(n){const e=function(){const n=w();return n&&n[12]}();return e?e.sanitize(xe.URL,n)||"":Li(n,"URL")?Bn(n):nc(K(n))}const YS="__ngContext__";function Jt(n,e){n[YS]=e}function Tg(n){const e=function(n){return n[YS]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function Ig(n){return n.ngOriginalError}function vj(n,...e){n.error(...e)}class gr{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),i=(n=e)&&n.ngErrorLogger||vj;var n;i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Ig(e);for(;t&&Ig(t);)t=Ig(t);return t||null}}const eI=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Le))();function Bi(n){return n instanceof Function?n():n}var Hn=(()=>((Hn=Hn||{})[Hn.Important=1]="Important",Hn[Hn.DashCase=2]="DashCase",Hn))();function Ag(n,e){return undefined(n,e)}function oc(n){const e=n[3];return gi(e)?e[3]:e}function kg(n){return sI(n[13])}function Rg(n){return sI(n[4])}function sI(n){for(;null!==n&&!gi(n);)n=n[4];return n}function ca(n,e,t,i,r){if(null!=i){let s,o=!1;gi(i)?s=i:Pi(i)&&(o=!0,i=i[0]);const a=_t(i);0===n&&null!==t?null==r?dI(e,t,a):zs(e,t,a,r||null,!0):1===n&&null!==t?zs(e,t,a,r||null,!0):2===n?function(n,e,t){const i=Yd(n,e);i&&function(n,e,t,i){ut(n)?n.removeChild(e,t,i):e.removeChild(t)}(n,i,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function(n,e,t,i,r){const s=t[7];s!==_t(t)&&ca(e,n,i,s,r);for(let a=10;a<t.length;a++){const l=t[a];ac(l[1],l,n,e,i,s)}}(e,n,s,t,r)}}function Og(n,e,t){return ut(n)?n.createElement(e,t):null===t?n.createElement(e):n.createElementNS(t,e)}function aI(n,e){const t=n[9],i=t.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,Zm(r,-1)),t.splice(i,1)}function Pg(n,e){if(n.length<=10)return;const t=10+e,i=n[t];if(i){const r=i[17];null!==r&&r!==n&&aI(r,i),e>0&&(n[t-1][4]=i[4]);const s=Hd(n,10+e);!function(n,e){ac(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(i[1],i);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function lI(n,e){if(!(256&e[2])){const t=e[11];ut(t)&&t.destroyNode&&ac(n,e,t,3,null,null),function(n){let e=n[13];if(!e)return Ng(n[1],n);for(;e;){let t=null;if(Pi(e))t=e[13];else{const i=e[10];i&&(t=i)}if(!t){for(;e&&!e[4]&&e!==n;)Pi(e)&&Ng(e[1],e),e=e[3];null===e&&(e=n),Pi(e)&&Ng(e[1],e),t=e&&e[4]}e=t}}(e)}}function Ng(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof zl)){const s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(r)}finally{}}}}(n,e),function(n,e){const t=n.cleanup,i=e[7];let r=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):_t(e[o]),l=i[r=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),s+=2}else{const o=i[r=t[s+1]];t[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)i[s]();e[7]=null}}(n,e),1===e[1].type&&ut(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&gi(e[3])){t!==e[3]&&aI(t,e);const i=e[19];null!==i&&i.detachView(n)}}}function cI(n,e,t){return function(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===pi.None||r===pi.Emulated)return null}return Jn(i,t)}(n,e.parent,t)}function zs(n,e,t,i,r){ut(n)?n.insertBefore(e,t,i,r):e.insertBefore(t,i,r)}function dI(n,e,t){ut(n)?n.appendChild(e,t):e.appendChild(t)}function hI(n,e,t,i,r){null!==i?zs(n,e,t,i,r):dI(n,e,t)}function Yd(n,e){return ut(n)?n.parentNode(e):e.parentNode}function fI(n,e,t){return mI(n,e,t)}let mI=function(n,e,t){return 40&n.type?Jn(n,t):null};function Qd(n,e,t,i){const r=cI(n,i,e),s=e[11],a=fI(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)hI(s,r,t[l],a,!1);else hI(s,r,t,a,!1)}function Xd(n,e){if(null!==e){const t=e.type;if(3&t)return Jn(e,n);if(4&t)return Lg(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Xd(n,i);{const r=n[e.index];return gi(r)?Lg(-1,r):_t(r)}}if(32&t)return Ag(e,n)()||_t(n[e.index]);{const i=_I(n,e);return null!==i?Array.isArray(i)?i[0]:Xd(oc(n[16]),i):Xd(n,e.next)}}return null}function _I(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Lg(n,e){const t=10+n+1;if(t<e.length){const i=e[t],r=i[1].firstChild;if(null!==r)return Xd(i,r)}return e[7]}function Vg(n,e,t,i,r,s,o){for(;null!=t;){const a=i[t.index],l=t.type;if(o&&0===e&&(a&&Jt(_t(a),i),t.flags|=4),64!=(64&t.flags))if(8&l)Vg(n,e,t.child,i,r,s,!1),ca(e,n,r,a,s);else if(32&l){const c=Ag(t,i);let u;for(;u=c();)ca(e,n,r,u,s);ca(e,n,r,a,s)}else 16&l?vI(n,e,i,t,r,s):ca(e,n,r,a,s);t=o?t.projectionNext:t.next}}function ac(n,e,t,i,r,s){Vg(t,i,n.firstChild,e,r,s,!1)}function vI(n,e,t,i,r,s){const o=t[16],l=o[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)ca(e,n,r,l[c],s);else Vg(n,e,l,o[3],r,s,!0)}function bI(n,e,t){ut(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Bg(n,e,t){ut(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function CI(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}const wI="ng-template";function qj(n,e,t){let i=0;for(;i<n.length;){let r=n[i++];if(t&&"class"===r){if(r=n[i],-1!==CI(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function EI(n){return 4===n.type&&n.value!==wI}function Kj(n,e,t){return e===(4!==n.type||t?n.value:wI)}function Yj(n,e,t){let i=4;const r=n.attrs||[],s=function(n){for(let e=0;e<n.length;e++)if(dS(n[e]))return e;return n.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!Kj(n,l,t)||""===l&&1===e.length){if(yi(i))return!1;o=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!qj(n.attrs,c,t)){if(yi(i))return!1;o=!0}continue}const d=Qj(8&i?"class":l,r,EI(n),t);if(-1===d){if(yi(i))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==CI(f,c,0)||2&i&&c!==h){if(yi(i))return!1;o=!0}}}}else{if(!o&&!yi(i)&&!yi(l))return!1;if(o&&yi(l))continue;o=!1,i=l|1&i}}return yi(i)||o}function yi(n){return 0==(1&n)}function Qj(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){const o=e[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function DI(n,e,t=!1){for(let i=0;i<e.length;i++)if(Yj(n,e[i],t))return!0;return!1}function e$(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function TI(n,e){return n?":not("+e.trim()+")":e}function t$(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!yi(o)&&(e+=TI(s,r),r=""),i=o,s=s||!yi(i);t++}return""!==r&&(e+=TI(s,r)),e}const X={};function L(n){SI(we(),w(),cn()+n,Id())}function SI(n,e,t,i){if(!i)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&xd(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Od(e,s,0,t)}Jr(t)}function Zd(n,e){return n<<17|e<<2}function vi(n){return n>>17&32767}function Hg(n){return 2|n}function _r(n){return(131068&n)>>2}function Ug(n,e){return-131069&n|e<<2}function jg(n){return 1|n}function LI(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const r=t[i],s=t[i+1];if(-1!==s){const o=n.data[s];ig(r),o.contentQueries(2,e[s],s)}}}function lc(n,e,t,i,r,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=r,u[2]=140|i,ZT(u),u[3]=u[15]=n,u[8]=t,u[10]=o||n&&n[10],u[11]=a||n&&n[11],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=s,u[16]=2==e.type?n[16]:u,u}function ua(n,e,t,i,r){let s=n.data[e];if(null===s)s=function(n,e,t,i,r){const s=eS(),o=Jm(),l=n.data[e]=function(n,e,t,i,r,s){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,e,t,i,r),z.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const o=function(){const n=z.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Ni(s,!0),s}function da(n,e,t,i){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function cc(n,e,t){Ad(e);try{const i=n.viewQuery;null!==i&&o_(1,i,t);const r=n.template;null!==r&&VI(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&LI(n,e),n.staticViewQueries&&o_(2,n.viewQuery,t);const s=n.components;null!==s&&function(n,e){for(let t=0;t<e.length;t++)L$(n,e[t])}(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[2]&=-5,kd()}}function ha(n,e,t,i){const r=e[2];if(256==(256&r))return;Ad(e);const s=Id();try{ZT(e),function(n){z.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&VI(n,e,t,2,i);const o=3==(3&r);if(!s)if(o){const c=n.preOrderCheckHooks;null!==c&&xd(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Od(e,c,0,null),rg(e,0)}if(function(n){for(let e=kg(n);null!==e;e=Rg(e)){if(!e[2])continue;const t=e[9];for(let i=0;i<t.length;i++){const r=t[i],s=r[3];0==(1024&r[2])&&Zm(s,1),r[2]|=1024}}}(e),function(n){for(let e=kg(n);null!==e;e=Rg(e))for(let t=10;t<e.length;t++){const i=e[t],r=i[1];Xm(i)&&ha(r,i,r.template,i[8])}}(e),null!==n.contentQueries&&LI(n,e),!s)if(o){const c=n.contentCheckHooks;null!==c&&xd(e,c)}else{const c=n.contentHooks;null!==c&&Od(e,c,1),rg(e,1)}!function(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)Jr(~r);else{const s=r,o=t[++i],a=t[++i];UH(o,s),a(2,e[s])}}}finally{Jr(-1)}}(n,e);const a=n.components;null!==a&&function(n,e){for(let t=0;t<e.length;t++)F$(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&o_(2,l,i),!s)if(o){const c=n.viewCheckHooks;null!==c&&xd(e,c)}else{const c=n.viewHooks;null!==c&&Od(e,c,2),rg(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Zm(e[3],-1))}finally{kd()}}function _$(n,e,t,i){const r=e[10],s=!Id(),o=XT(e);try{s&&!o&&r.begin&&r.begin(),o&&cc(n,e,i),ha(n,e,t,i)}finally{s&&!o&&r.end&&r.end()}}function VI(n,e,t,i,r){const s=cn(),o=2&i;try{Jr(-1),o&&e.length>20&&SI(n,e,20,Id()),t(i,r)}finally{Jr(s)}}function BI(n,e,t){if(Wm(e)){const r=e.directiveEnd;for(let s=e.directiveStart;s<r;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function Zg(n,e,t){!JT()||(function(n,e,t,i){const r=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||Gl(t,e),Jt(i,e);const o=t.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=_i(l);c&&R$(e,t,l);const u=ql(e,n,a,t);Jt(u,e),null!==o&&x$(0,a-r,u,l,0,o),c&&(Ln(t.index,e)[8]=u)}}(n,e,t,Jn(t,e)),128==(128&t.flags)&&function(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,a=z.lFrame.currentDirectiveIndex;try{Jr(o);for(let l=i;l<r;l++){const c=n.data[l],u=e[l];tg(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&qI(c,u)}}finally{Jr(-1),tg(a)}}(n,e,t))}function Jg(n,e,t=Jn){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?t(e,n):n[o];n[r++]=a}}}function HI(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=th(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function th(n,e,t,i,r,s,o,a,l,c){const u=20+i,d=u+r,h=function(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:X);return t}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function $I(n,e,t,i){const r=JI(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&eM(n).push(i,r.length-1))}function zI(n,e,t){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(t=null===t?{}:t).hasOwnProperty(i)?t[i].push(e,r):t[i]=[e,r]}return t}function Un(n,e,t,i,r,s,o,a){const l=Jn(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[i])?(iM(n,t,u,i,r),Dd(e)&&function(n,e){const t=Ln(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(i=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,e.value||"",i):r,ut(s)?s.setProperty(l,i,r):og(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function e_(n,e,t,i){let r=!1;if(JT()){const s=function(n,e,t){const i=n.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];DI(t,o.selectors,!1)&&(r||(r=[]),Vd(Gl(t,e),n,o.type),_i(o)?(KI(n,t),r.unshift(o)):r.push(o))}return r}(n,e,t),o=null===i?null:{"":-1};if(null!==s){r=!0,YI(t,n.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=da(n,e,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];t.mergedAttrs=Nd(t.mergedAttrs,d.hostAttrs),QI(n,t,e,c,d),k$(c,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}!function(n,e){const i=e.directiveEnd,r=n.data,s=e.attrs,o=[];let a=null,l=null;for(let c=e.directiveStart;c<i;c++){const u=r[c],d=u.inputs,h=null===s||EI(e)?null:O$(d,s);o.push(h),a=zI(d,c,a),l=zI(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(n,t)}o&&function(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new On("301",`Export of name '${e[r+1]}' not found!`);i.push(e[r],s)}}}(t,i,o)}return t.mergedAttrs=Nd(t.mergedAttrs,t.attrs),r}function GI(n,e,t,i,r,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(i,r,o)}}function qI(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function KI(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function k$(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;_i(e)&&(t[""]=n)}}function YI(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function QI(n,e,t,i,r){n.data[i]=r;const s=r.factory||(r.factory=Us(r.type)),o=new zl(s,_i(r),null);n.blueprint[i]=o,t[i]=o,GI(n,e,0,i,da(n,t,r.hostVars,X),r)}function R$(n,e,t){const i=Jn(e,n),r=HI(t),s=n[10],o=nh(n,lc(n,r,null,t.onPush?64:16,i,e,s,s.createRenderer(i,t),null,null));n[e.index]=o}function Hi(n,e,t,i,r,s){const o=Jn(n,e);!function(n,e,t,i,r,s,o){if(null==s)ut(n)?n.removeAttribute(e,r,t):e.removeAttribute(r);else{const a=null==o?K(s):o(s,i||"",r);ut(n)?n.setAttribute(e,r,a,t):t?e.setAttributeNS(t,r,a):e.setAttribute(r,a)}}(e[11],o,s,n.value,t,i,r)}function x$(n,e,t,i,r,s){const o=s[e];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?i.setInput(t,d,c,u):t[u]=d}}}function O$(n,e){let t=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===t&&(t=[]),t.push(r,n[r],e[i+1])),i+=2}else i+=2;else i+=4}return t}function XI(n,e,t,i){return new Array(n,!0,!1,e,null,0,i,t,null,null)}function F$(n,e){const t=Ln(e,n);if(Xm(t)){const i=t[1];80&t[2]?ha(i,t,i.template,t[8]):t[5]>0&&n_(t)}}function n_(n){for(let i=kg(n);null!==i;i=Rg(i))for(let r=10;r<i.length;r++){const s=i[r];if(1024&s[2]){const o=s[1];ha(o,s,o.template,s[8])}else s[5]>0&&n_(s)}const t=n[1].components;if(null!==t)for(let i=0;i<t.length;i++){const r=Ln(t[i],n);Xm(r)&&r[5]>0&&n_(r)}}function L$(n,e){const t=Ln(e,n),i=t[1];(function(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),cc(i,t,t[8])}function nh(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function i_(n){for(;n;){n[2]|=64;const e=oc(n);if(CH(n)&&!e)return n;n=e}return null}function s_(n,e,t){const i=e[10];i.begin&&i.begin();try{ha(n,e,n.template,t)}catch(r){throw nM(e,r),r}finally{i.end&&i.end()}}function ZI(n){!function(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],i=Tg(t),r=i[1];_$(r,i,r.template,t)}}(n[8])}function o_(n,e,t){ig(0),e(n,t)}const j$=(()=>Promise.resolve(null))();function JI(n){return n[7]||(n[7]=[])}function eM(n){return n.cleanup||(n.cleanup=[])}function tM(n,e,t){return(null===n||_i(n))&&(t=function(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[11]}function nM(n,e){const t=n[9],i=t?t.get(gr,null):null;i&&i.handleError(e)}function iM(n,e,t,i,r){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function yr(n,e,t){const i=Sd(e,n);!function(n,e,t){ut(n)?n.setValue(e,t):e.textContent=t}(n[11],i,t)}function ih(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?r=Fm(r,a):2==s&&(i=Fm(i,a+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}const a_=new M("INJECTOR",-1);class rM{get(e,t=Xl){if(t===Xl){const i=new Error(`NullInjectorError: No provider for ${Ce(e)}!`);throw i.name="NullInjectorError",i}return t}}const l_=new M("Set Injector scope."),uc={},W$={};let c_;function sM(){return void 0===c_&&(c_=new rM),c_}function oM(n,e=null,t=null,i){const r=aM(n,e,t,i);return r._resolveInjectorDefTypes(),r}function aM(n,e=null,t=null,i){return new G$(n,t,e||sM(),i)}class G${constructor(e,t,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&Fi(t,a=>this.processProvider(a,e,t)),Fi([e],a=>this.processInjectorType(a,[],s)),this.records.set(a_,fa(void 0,this));const o=this.records.get(l_);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof e?null:Ce(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Xl,i=Y.Default){this.assertNotDestroyed();const r=AS(this),s=Yr(void 0);try{if(!(i&Y.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=("function"==typeof(n=e)||"object"==typeof n&&n instanceof M)&&Vm(e);a=l&&this.injectableDefInScope(l)?fa(u_(e),uc):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(i&Y.Self?sM():this.parent).get(e,t=i&Y.Optional&&t===Xl?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[jd]=o[jd]||[]).unshift(Ce(e)),r)throw o;return function(n,e,t,i){const r=n[jd];throw e[MS]&&r.unshift(e[MS]),n.message=function(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=Ce(e);if(Array.isArray(e))r=e.map(Ce).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ce(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(vU,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[jd]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Yr(s),AS(r)}var n}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((i,r)=>e.push(Ce(r))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,i){if(!(e=re(e)))return!1;let r=FT(e);const s=null==r&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==i.indexOf(o);if(void 0!==s&&(r=FT(s)),null==r)return!1;if(null!=r.imports&&!a){let u;i.push(o);try{Fi(r.imports,d=>{this.processInjectorType(d,t,i)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:h,providers:f}=u[d];Fi(f,p=>this.processProvider(p,h,f||Ue))}}this.injectorDefTypes.add(o);const l=Us(o)||(()=>new o);this.records.set(o,fa(l,uc));const c=r.providers;if(null!=c&&!a){const u=e;Fi(c,d=>this.processProvider(d,u,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,i){let r=pa(e=re(e))?e:re(e&&e.provide);const s=function(n,e,t){return cM(n)?fa(void 0,n.useValue):fa(lM(n),uc)}(e);if(pa(e)||!0!==e.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=fa(void 0,uc,!0),o.factory=()=>gg(o.multi),this.records.set(r,o)),r=e,o.multi.push(e)}this.records.set(r,s)}hydrate(e,t){return t.value===uc&&(t.value=W$,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value;var n}injectableDefInScope(e){if(!e.providedIn)return!1;const t=re(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function u_(n){const e=Vm(n),t=null!==e?e.factory:Us(n);if(null!==t)return t;if(n instanceof M)throw new Error(`Token ${Ce(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const e=n.length;if(e>0){const i=Ql(e,"?");throw new Error(`Can't resolve all parameters for ${Ce(n)}: (${i.join(", ")}).`)}const t=function(n){const e=n&&(n[vd]||n[LT]);if(e){const t=function(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Error("unreachable")}function lM(n,e,t){let i;if(pa(n)){const r=re(n);return Us(r)||u_(r)}if(cM(n))i=()=>re(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...gg(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))i=()=>C(re(n.useExisting));else{const r=re(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return Us(r)||u_(r);i=()=>new r(...gg(n.deps))}return i}function fa(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function cM(n){return null!==n&&"object"==typeof n&&CU in n}function pa(n){return"function"==typeof n}let Ze=(()=>{class n{static create(t,i){var r;if(Array.isArray(t))return oM({name:""},i,t,"");{const s=null!==(r=t.name)&&void 0!==r?r:"";return oM({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=Xl,n.NULL=new rM,n.\u0275prov=O({token:n,providedIn:"any",factory:()=>C(a_)}),n.__NG_ELEMENT_ID__=-1,n})();function lz(n,e){Rd(Tg(n)[1],Dt())}function N(n){let e=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(_i(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(t){i.push(r);const o=n;o.inputs=f_(n.inputs),o.declaredInputs=f_(n.declaredInputs),o.outputs=f_(n.outputs);const a=r.hostBindings;a&&hz(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&uz(n,l),c&&dz(n,c),Nm(n.inputs,r.inputs),Nm(n.declaredInputs,r.declaredInputs),Nm(n.outputs,r.outputs),_i(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===N&&(t=!1)}}e=Object.getPrototypeOf(e)}!function(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Nd(r.hostAttrs,t=Nd(t,r.hostAttrs))}}(i)}function f_(n){return n===zo?{}:n===Ue?[]:n}function uz(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function dz(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,s)=>{e(i,r,s),t(i,r,s)}:e}function hz(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}let rh=null;function ma(){if(!rh){const n=Le.Symbol;if(n&&n.iterator)rh=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(rh=i)}}}return rh}function dc(n){return!!p_(n)&&(Array.isArray(n)||!(n instanceof Map)&&ma()in n)}function p_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function en(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Ve(n,e,t,i){const r=w();return en(r,Qo(),e)&&(we(),Hi(dt(),r,n,e,t,i)),Ve}function _a(n,e,t,i){return en(n,Qo(),t)?e+K(t)+i:X}function ce(n,e,t,i,r,s,o,a){const l=w(),c=we(),u=n+20,d=c.firstCreatePass?function(n,e,t,i,r,s,o,a,l){const c=e.consts,u=ua(e,n,4,o||null,Zr(c,a));e_(e,t,u,Zr(c,l)),Rd(e,u);const d=u.tViews=th(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,i,r,s,o):c.data[u];Ni(d,!1);const h=l[11].createComment("");Qd(c,l,h,d),Jt(h,l),nh(l,l[u]=XI(h,l,h,d)),Td(d)&&Zg(c,l,d),null!=o&&Jg(l,d,a)}function m(n,e=Y.Default){const t=w();return null===t?C(n,e):yS(Dt(),t,re(n),e)}function ah(){throw new Error("invalid")}function H(n,e,t){const i=w();return en(i,Qo(),e)&&Un(we(),dt(),i,n,e,i[11],t,!1),H}function v_(n,e,t,i,r){const o=r?"class":"style";iM(n,t,e.inputs[o],o,i)}function E(n,e,t,i){const r=w(),s=we(),o=20+n,a=r[11],l=r[o]=Og(a,e,z.lFrame.currentNamespace),c=s.firstCreatePass?function(n,e,t,i,r,s,o){const a=e.consts,c=ua(e,n,2,r,Zr(a,s));return e_(e,t,c,Zr(a,o)),null!==c.attrs&&ih(c,c.attrs,!1),null!==c.mergedAttrs&&ih(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,r,0,e,t,i):s.data[o];Ni(c,!0);const u=c.mergedAttrs;null!==u&&Pd(a,l,u);const d=c.classes;null!==d&&Bg(a,l,d);const h=c.styles;null!==h&&bI(a,l,h),64!=(64&c.flags)&&Qd(s,r,l,c),0===z.lFrame.elementDepthCount&&Jt(l,r),z.lFrame.elementDepthCount++,Td(c)&&(Zg(s,r,c),BI(s,c,r)),null!==i&&Jg(r,c)}function D(){let n=Dt();Jm()?eg():(n=n.parent,Ni(n,!1));const e=n;z.lFrame.elementDepthCount--;const t=we();t.firstCreatePass&&(Rd(t,n),Wm(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(e)&&v_(t,e,w(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(e)&&v_(t,e,w(),e.stylesWithoutHost,!1)}function De(n,e,t,i){E(n,e,t,i),D()}function rs(n,e,t){const i=w(),r=we(),s=n+20,o=r.firstCreatePass?function(n,e,t,i,r){const s=e.consts,o=Zr(s,i),a=ua(e,n,8,"ng-container",o);return null!==o&&ih(a,o,!0),e_(e,t,a,Zr(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,r,i,e,t):r.data[s];Ni(o,!0);const a=i[s]=i[11].createComment("");Qd(r,i,a,o),Jt(a,i),Td(o)&&(Zg(r,i,o),BI(r,o,i)),null!=t&&Jg(i,o)}function ss(){let n=Dt();const e=we();Jm()?eg():(n=n.parent,Ni(n,!1)),e.firstCreatePass&&(Rd(e,n),Wm(n)&&e.queries.elementEnd(n))}function dn(n,e,t){rs(n,e,t),ss()}function Sa(){return w()}function fc(n){return!!n&&"function"==typeof n.then}const b_=function(n){return!!n&&"function"==typeof n.subscribe};function Pe(n,e,t,i){const r=w(),s=we(),o=Dt();return $M(s,r,r[11],o,n,e,!!t,i),Pe}function C_(n,e){const t=Dt(),i=w(),r=we();return $M(r,i,tM(ng(r.data),t,i),t,n,e,!1),C_}function $M(n,e,t,i,r,s,o,a){const l=Td(i),u=n.firstCreatePass&&eM(n),d=e[8],h=JI(e);let f=!0;if(3&i.type||a){const _=Jn(i,e),b=a?a(_):_,v=h.length,S=a?x=>a(_t(x[i.index])):i.index;if(ut(t)){let x=null;if(!a&&l&&(x=function(n,e,t,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===i){const a=e[7],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,r,i.index)),null!==x)(x.__ngLastListenerFn__||x).__ngNextListenerFn__=s,x.__ngLastListenerFn__=s,f=!1;else{s=w_(i,e,d,s,!1);const G=t.listen(b,r,s);h.push(s,G),u&&u.push(r,S,v,v+1)}}else s=w_(i,e,d,s,!0),b.addEventListener(r,s,o),h.push(s),u&&u.push(r,S,v,o)}else s=w_(i,e,d,s,!1);const p=i.outputs;let g;if(f&&null!==p&&(g=p[r])){const _=g.length;if(_)for(let b=0;b<_;b+=2){const Be=e[g[b]][g[b+1]].subscribe(s),Qe=h.length;h.push(s,Be),u&&u.push(r,i.index,Qe,-(Qe+1))}}}function zM(n,e,t,i){try{return!1!==t(i)}catch(r){return nM(n,r),!1}}function w_(n,e,t,i,r){return function s(o){if(o===Function)return i;const a=2&n.flags?Ln(n.index,e):e;0==(32&e[2])&&i_(a);let l=zM(e,0,i,o),c=s.__ngNextListenerFn__;for(;c;)l=zM(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function je(n=1){return function(n){return(z.lFrame.contextLView=function(n,e){for(;n>0;)e=e[15],n--;return e}(n,z.lFrame.contextLView))[8]}(n)}function $z(n,e){let t=null;const i=function(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?DI(n,s,!0):e$(i,s))return r}else t=r}return t}function ji(n){const e=w()[16][6];if(!e.projection){const i=e.projection=Ql(n?n.length:1,null),r=i.slice();let s=e.child;for(;null!==s;){const o=n?$z(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function yt(n,e=0,t){const i=w(),r=we(),s=ua(r,20+n,16,null,t||null);null===s.projection&&(s.projection=e),eg(),64!=(64&s.flags)&&function(n,e,t){vI(e[11],0,e,t,cI(n,t,e),fI(t.parent||e[6],t,e))}(r,i,s)}function E_(n,e,t){return D_(n,"",e,"",t),E_}function D_(n,e,t,i,r){const s=w(),o=_a(s,e,t,i);return o!==X&&Un(we(),dt(),s,n,o,s[11],r,!1),D_}function JM(n,e,t,i,r){const s=n[t+1],o=null===e;let a=i?vi(s):_r(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];Gz(n[a],e)&&(l=!0,n[a+1]=i?jg(u):Hg(u)),a=i?vi(u):_r(u)}l&&(n[t+1]=i?Hg(s):jg(s))}function Gz(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&sa(n,e)>=0}function $i(n,e,t){return Ci(n,e,t,!1),$i}function vt(n,e){return Ci(n,e,null,!0),vt}function Ci(n,e,t,i){const r=w(),s=we(),o=function(n){const e=z.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function(n,e,t,i){const r=n.data;if(null===r[t+1]){const s=r[cn()],o=function(n,e){return e>=n.expandoStartIndex}(n,t);(function(n,e){return 0!=(n.flags&(e?16:32))})(s,i)&&null===e&&!o&&(e=!1),e=function(n,e,t,i){const r=ng(n);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=pc(t=T_(null,n,e,t,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==r)if(t=T_(r,n,e,t,i),null===s){let l=function(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==_r(i))return n[vi(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=T_(null,n,e,l[1],i),l=pc(l,e.attrs,i),function(n,e,t,i){n[vi(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else s=function(n,e,t){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=pc(i,n[s].hostAttrs,t);return pc(i,e.attrs,t)}(n,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),t}(r,s,e,i),function(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=vi(o),l=_r(o);n[i]=t;let u,c=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||sa(d,u)>0)&&(c=!0)}else u=t;if(r)if(0!==l){const h=vi(n[a+1]);n[i+1]=Zd(h,a),0!==h&&(n[h+1]=Ug(n[h+1],i)),n[a+1]=function(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Zd(a,0),0!==a&&(n[a+1]=Ug(n[a+1],i)),a=i;else n[i+1]=Zd(l,0),0===a?a=i:n[l+1]=Ug(n[l+1],i),l=i;c&&(n[i+1]=Hg(n[i+1])),JM(n,u,i,!0),JM(n,u,i,!1),function(n,e,t,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&sa(s,e)>=0&&(t[i+1]=jg(t[i+1]))}(e,u,n,i,s),o=Zd(a,l),s?e.classBindings=o:e.styleBindings=o}(r,s,e,t,o,i)}}(s,n,o,i),e!==X&&en(r,o,e)&&function(n,e,t,i,r,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];lh(function(n){return 1==(1&n)}(c)?uA(l,e,t,r,_r(c),o):void 0)||(lh(s)||function(n){return 2==(2&n)}(c)&&(s=uA(l,null,t,r,a,o)),function(n,e,t,i,r){const s=ut(n);if(e)r?s?n.addClass(t,i):t.classList.add(i):s?n.removeClass(t,i):t.classList.remove(i);else{let o=-1===i.indexOf("-")?void 0:Hn.DashCase;if(null==r)s?n.removeStyle(t,i,o):t.style.removeProperty(i);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),o|=Hn.Important),s?n.setStyle(t,i,r,o):t.style.setProperty(i,r,a?"important":"")}}}(i,o,Sd(cn(),t),r,s))}(s,s.data[cn()],r,r[11],n,r[o+1]=function(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ce(Bn(n)))),n}(e,t),i,o)}function T_(n,e,t,i,r){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],i=pc(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function pc(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Vn(n,o,!!t||e[++s]))}return void 0===n?null:n}function uA(n,e,t,i,r,s){const o=null===e;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[r+1];h===X&&(h=d?Ue:void 0);let f=d?fg(h,i):u===i?h:void 0;if(c&&!lh(f)&&(f=fg(l,i)),lh(f)&&(a=f,o))return a;const p=n[r+1];r=o?vi(p):_r(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=fg(l,i))}return a}function lh(n){return void 0!==n}function U(n,e=""){const t=w(),i=we(),r=n+20,s=i.firstCreatePass?ua(i,r,1,e,null):i.data[r],o=t[r]=function(n,e){return ut(n)?n.createText(e):n.createTextNode(e)}(t[11],e);Qd(i,t,o,s),Ni(s,!1)}function Gs(n){return ni("",n,""),Gs}function ni(n,e,t){const i=w(),r=_a(i,n,e,t);return r!==X&&yr(i,cn(),r),ni}function mc(n,e,t){const i=w();return en(i,Qo(),e)&&Un(we(),dt(),i,n,e,i[11],t,!0),mc}function S_(n,e,t){const i=w();if(en(i,Qo(),e)){const s=we(),o=dt();Un(s,o,i,n,e,tM(ng(s.data),o,i),t,!0)}return S_}const qs=void 0;var IW=["en",[["a","p"],["AM","PM"],qs],[["AM","PM"],qs,qs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qs,"{1} 'at' {0}",qs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let Ma={};function kA(n){return n in Ma||(Ma[n]=Le.ng&&Le.ng.common&&Le.ng.common.locales&&Le.ng.common.locales[n]),Ma[n]}var R=(()=>((R=R||{})[R.LocaleId=0]="LocaleId",R[R.DayPeriodsFormat=1]="DayPeriodsFormat",R[R.DayPeriodsStandalone=2]="DayPeriodsStandalone",R[R.DaysFormat=3]="DaysFormat",R[R.DaysStandalone=4]="DaysStandalone",R[R.MonthsFormat=5]="MonthsFormat",R[R.MonthsStandalone=6]="MonthsStandalone",R[R.Eras=7]="Eras",R[R.FirstDayOfWeek=8]="FirstDayOfWeek",R[R.WeekendRange=9]="WeekendRange",R[R.DateFormat=10]="DateFormat",R[R.TimeFormat=11]="TimeFormat",R[R.DateTimeFormat=12]="DateTimeFormat",R[R.NumberSymbols=13]="NumberSymbols",R[R.NumberFormats=14]="NumberFormats",R[R.CurrencyCode=15]="CurrencyCode",R[R.CurrencySymbol=16]="CurrencySymbol",R[R.CurrencyName=17]="CurrencyName",R[R.Currencies=18]="Currencies",R[R.Directionality=19]="Directionality",R[R.PluralCase=20]="PluralCase",R[R.ExtraData=21]="ExtraData",R))();const ch="en-US";let RA=ch;function A_(n,e,t,i,r){if(n=re(n),Array.isArray(n))for(let s=0;s<n.length;s++)A_(n[s],e,t,i,r);else{const s=we(),o=w();let a=pa(n)?n:re(n.provide),l=lM(n);const c=Dt(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(pa(n)||!n.multi){const f=new zl(l,r,m),p=R_(a,e,r?u:u+h,d);-1===p?(Vd(Gl(c,o),s,a),k_(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=R_(a,e,u+h,d),p=R_(a,e,u,u+h),g=f>=0&&t[f],_=p>=0&&t[p];if(r&&!_||!r&&!g){Vd(Gl(c,o),s,a);const b=function(n,e,t,i,r){const s=new zl(n,t,m);return s.multi=[],s.index=e,s.componentProviders=0,tk(s,r,i&&!t),s}(r?TG:DG,t.length,r,i,l);!r&&_&&(t[p].providerFactory=b),k_(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),t.push(b),o.push(b)}else k_(s,n,f>-1?f:p,tk(t[r?p:f],l,!r&&i));!r&&i&&_&&t[p].componentProviders++}}}function k_(n,e,t,i){const r=pa(e),s=function(n){return!!n.useClass}(e);if(r||s){const l=(s?re(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function tk(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function R_(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function DG(n,e,t,i){return x_(this.multi,[])}function TG(n,e,t,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=ql(t,t[1],this.providerFactory.index,i);s=a.slice(0,o),x_(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],x_(r,s);return s}function x_(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Z(n,e=[]){return t=>{t.providersResolver=(i,r)=>function(n,e,t){const i=we();if(i.firstCreatePass){const r=_i(n);A_(t,i.data,i.blueprint,r,!0),A_(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class nk{}class AG{resolveComponentFactory(e){throw function(n){const e=Error(`No component factory found for ${Ce(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let os=(()=>{class n{}return n.NULL=new AG,n})();function kG(){return ka(Dt(),w())}function ka(n,e){return new J(Jn(n,e))}let J=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=kG,n})();function RG(n){return n instanceof J?n.nativeElement:n}class bc{}let vr=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function(){const n=w(),t=Ln(Dt().index,n);return function(n){return n[11]}(Pi(t)?t:n)}(),n})(),PG=(()=>{class n{}return n.\u0275prov=O({token:n,providedIn:"root",factory:()=>null}),n})();class br{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const rk=new br("13.1.1"),O_={};function ph(n,e,t,i,r=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&i.push(_t(s)),gi(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&ph(l[1],l,c,i)}const o=t.type;if(8&o)ph(n,e,t.child,i);else if(32&o){const a=Ag(t,e);let l;for(;l=a();)i.push(l)}else if(16&o){const a=_I(e,t);if(Array.isArray(a))i.push(...a);else{const l=oc(e[16]);ph(l[1],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}class Cc{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return ph(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(gi(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(Pg(e,i),Hd(t,i))}this._attachedToViewContainer=!1}lI(this._lView[1],this._lView)}onDestroy(e){$I(this._lView[1],this._lView,null,e)}markForCheck(){i_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){s_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,e,t){Md(!0);try{s_(n,e,t)}finally{Md(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,ac(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class NG extends Cc{constructor(e){super(e),this._view=e}detectChanges(){ZI(this._view)}checkNoChanges(){!function(n){Md(!0);try{ZI(n)}finally{Md(!1)}}(this._view)}get context(){return null}}class sk extends os{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Xt(e);return new P_(t,this.ngModule)}}function ok(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const LG=new M("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>eI});class P_ extends nk{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(t$).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return ok(this.componentDef.inputs)}get outputs(){return ok(this.componentDef.outputs)}create(e,t,i,r){const s=(r=r||this.ngModule)?function(n,e){return{get:(t,i,r)=>{const s=n.get(t,O_,r);return s!==O_||i===O_?s:e.get(t,i,r)}}}(e,r.injector):e,o=s.get(bc,QT),a=s.get(PG,null),l=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=i?function(n,e,t){if(ut(n))return n.selectRootElement(e,t===pi.ShadowDom);let i="string"==typeof e?n.querySelector(e):e;return i.textContent="",i}(l,i,this.componentDef.encapsulation):Og(o.createRenderer(null,this.componentDef),c,function(n){const e=n.toLowerCase();return"svg"===e?KT:"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,h=function(n,e){return{components:[],scheduler:n||eI,clean:j$,playerHandler:e||null,flags:0}}(),f=th(0,null,null,1,0,null,null,null,null,null),p=lc(null,f,h,d,null,null,o,l,a,s);let g,_;Ad(p);try{const b=function(n,e,t,i,r,s){const o=t[1];t[20]=n;const l=ua(o,20,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(ih(l,c,!0),null!==n&&(Pd(r,n,c),null!==l.classes&&Bg(r,n,l.classes),null!==l.styles&&bI(r,n,l.styles)));const u=i.createRenderer(n,e),d=lc(t,HI(e),null,e.onPush?64:16,t[20],l,i,u,s||null,null);return o.firstCreatePass&&(Vd(Gl(l,t),o,e.type),KI(o,l),YI(l,t.length,1)),nh(t,d),t[20]=d}(u,this.componentDef,p,o,l);if(u)if(i)Pd(l,u,["ng-version",rk.full]);else{const{attrs:v,classes:S}=function(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&e.push(s,n[++i]):8===r&&t.push(s);else{if(!yi(r))break;r=s}i++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);v&&Pd(l,u,v),S&&S.length>0&&Bg(l,u,S.join(" "))}if(_=Qm(f,20),void 0!==t){const v=_.projection=[];for(let S=0;S<this.ngContentSelectors.length;S++){const x=t[S];v.push(null!=x?Array.from(x):null)}}g=function(n,e,t,i,r){const s=t[1],o=function(n,e,t){const i=Dt();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),QI(n,i,e,da(n,e,1,null),t));const r=ql(e,n,i.directiveStart,i);Jt(r,e);const s=Jn(i,e);return s&&Jt(s,e),r}(s,t,e);if(i.components.push(o),n[8]=o,r&&r.forEach(l=>l(o,e)),e.contentQueries){const l=Dt();e.contentQueries(1,o,l.directiveStart)}const a=Dt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Jr(a.index),GI(t[1],a,0,a.directiveStart,a.directiveEnd,e),qI(e,o)),o}(b,this.componentDef,p,h,[lz]),cc(f,p,null)}finally{kd()}return new HG(this.componentType,g,ka(_,p),p,_)}}class HG extends class{}{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new NG(r),this.componentType=e}get injector(){return new ea(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Cr{}class ak{}const Ra=new Map;class uk extends Cr{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new sk(this);const i=Qn(e);this._bootstrapComponents=Bi(i.bootstrap),this._r3Injector=aM(e,t,[{provide:Cr,useValue:this},{provide:os,useValue:this.componentFactoryResolver}],Ce(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Ze.THROW_IF_NOT_FOUND,i=Y.Default){return e===Ze||e===Cr||e===a_?this:this._r3Injector.get(e,t,i)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class N_ extends ak{constructor(e){super(),this.moduleType=e,null!==Qn(e)&&function(n){const e=new Set;!function t(i){const r=Qn(i,!0),s=r.id;null!==s&&(function(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${Ce(e)} vs ${Ce(e.name)}`)}(s,Ra.get(s),i),Ra.set(s,i));const o=Bi(r.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new uk(this.moduleType,e)}}function F_(n){return e=>{setTimeout(n,void 0,e)}}const Ie=class extends _e{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){var r,s,o;let a=e,l=t||(()=>null),c=i;if(e&&"object"==typeof e){const d=e;a=null===(r=d.next)||void 0===r?void 0:r.bind(d),l=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(l=F_(l),a&&(a=F_(a)),c&&(c=F_(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof Ae&&e.add(u),u}};function l3(){return this._results[ma()]()}class xa{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=ma(),i=xa.prototype;i[t]||(i[t]=l3)}get changes(){return this._changes||(this._changes=new Ie)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=ei(e);(this._changesDetected=!function(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let It=(()=>{class n{}return n.__NG_ELEMENT_ID__=d3,n})();const c3=It,u3=class extends c3{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e){const t=this._declarationTContainer.tViews,i=lc(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(t)),cc(t,i,e),new Cc(i)}};function d3(){return mh(Dt(),w())}function mh(n,e){return 4&n.type?new u3(e,n,ka(n,e)):null}let Nt=(()=>{class n{}return n.__NG_ELEMENT_ID__=h3,n})();function h3(){return yk(Dt(),w())}const f3=Nt,gk=class extends f3{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return ka(this._hostTNode,this._hostLView)}get injector(){return new ea(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ld(this._hostTNode,this._hostLView);if(fS(e)){const t=Jo(e,this._hostLView),i=Zo(e);return new ea(t[1].data[i+8],t)}return new ea(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=_k(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){const r=e.createEmbeddedView(t||{});return this.insert(r,i),r}createComponent(e,t,i,r,s){const o=e&&!function(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,i=d.injector,r=d.projectableNodes,s=d.ngModuleRef}const l=o?e:new P_(Xt(e)),c=i||this.parentInjector;if(!s&&null==l.ngModule&&c){const d=c.get(Cr,null);d&&(s=d)}const u=l.create(c,r,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const i=e._lView,r=i[1];if(gi(i[3])){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=i[3],h=new gk(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function(n,e,t,i){const r=10+i,s=t.length;i>0&&(t[r-1][4]=e),i<s-10?(e[4]=t[r],ES(t,10+i,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(r,i,o,s);const a=Lg(s,o),l=i[11],c=Yd(l,o[7]);return null!==c&&function(n,e,t,i,r,s){i[0]=r,i[6]=e,ac(n,i,t,1,r,s)}(r,o[6],l,i,c,a),e.attachToViewContainerRef(),ES(L_(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=_k(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=Pg(this._lContainer,t);i&&(Hd(L_(this._lContainer),t),lI(i[1],i))}detach(e){const t=this._adjustIndex(e,-1),i=Pg(this._lContainer,t);return i&&null!=Hd(L_(this._lContainer),t)?new Cc(i):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function _k(n){return n[8]}function L_(n){return n[8]||(n[8]=[])}function yk(n,e){let t;const i=e[n.index];if(gi(i))t=i;else{let r;if(8&n.type)r=_t(i);else{const s=e[11];r=s.createComment("");const o=Jn(n,e);zs(s,Yd(s,o),r,function(n,e){return ut(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=XI(i,e,r,n),nh(e,t)}return new gk(t,n,e)}class V_{constructor(e){this.queryList=e,this.matches=null}clone(){return new V_(this.queryList)}setDirty(){this.queryList.setDirty()}}class B_{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new B_(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Ek(e,t).matches&&this.queries[t].setDirty()}}class vk{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class H_{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new H_(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class U_{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new U_(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(e,t,g3(t,s)),this.matchTNodeWithReadOption(e,t,Bd(t,e,s,!1,!1))}else i===It?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Bd(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===J||r===Nt||r===It&&4&t.type)this.addMatch(t.index,-2);else{const s=Bd(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function g3(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function y3(n,e,t,i){return-1===t?function(n,e){return 11&n.type?ka(n,e):4&n.type?mh(n,e):null}(e,n):-2===t?function(n,e,t){return t===J?ka(e,n):t===It?mh(e,n):t===Nt?yk(e,n):void 0}(n,e,i):ql(n,n[1],t,e)}function bk(n,e,t,i){const r=e[19].queries[i];if(null===r.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:y3(e,s[c],o[l+1],t.metadata.read))}r.matches=a}return r.matches}function j_(n,e,t,i){const r=n.queries.getByIndex(t),s=r.matches;if(null!==s){const o=bk(n,e,r,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&j_(h[1],h,c,i)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];j_(f[1],f,c,i)}}}}}return i}function ae(n){const e=w(),t=we(),i=iS();ig(i+1);const r=Ek(t,i);if(n.dirty&&XT(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?j_(t,e,i,[]):bk(t,e,r,i);n.reset(s,RG),n.notifyOnChanges()}return!0}return!1}function zt(n,e,t){const i=we();i.firstCreatePass&&(wk(i,new vk(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),Ck(i,w(),e)}function nt(n,e,t,i){const r=we();if(r.firstCreatePass){const s=Dt();wk(r,new vk(e,t,i),s.index),function(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}Ck(r,w(),t)}function le(){return n=w(),e=iS(),n[19].queries[e].queryList;var n,e}function Ck(n,e,t){const i=new xa(4==(4&t));$I(n,e,i,i.destroy),null===e[19]&&(e[19]=new B_),e[19].queries.push(new V_(i))}function wk(n,e,t){null===n.queries&&(n.queries=new H_),n.queries.track(new U_(e,t))}function Ek(n,e){return n.queries.getByIndex(e)}function yh(...n){}const vh=new M("Application Initializer");let Pa=(()=>{class n{constructor(t){this.appInits=t,this.resolve=yh,this.reject=yh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(fc(s))t.push(s);else if(b_(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(C(vh,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();const Tc=new M("AppId"),H3={provide:Tc,useFactory:function(){return`${K_()}${K_()}${K_()}`},deps:[]};function K_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Hk=new M("Platform Initializer"),Ks=new M("Platform ID"),Uk=new M("appBootstrapListener");let jk=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();const wr=new M("LocaleId"),$k=new M("DefaultCurrencyCode");class U3{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let bh=(()=>{class n{compileModuleSync(t){return new N_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),s=Bi(Qn(t).declarations).reduce((o,a)=>{const l=Xt(a);return l&&o.push(new P_(l)),o},[]);return new U3(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();const $3=(()=>Promise.resolve(0))();function Y_(n){"undefined"==typeof Zone?$3.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ee{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ie(!1),this.onMicrotaskEmpty=new Ie(!1),this.onStable=new Ie(!1),this.onError=new Ie(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let n=Le.requestAnimationFrame,e=Le.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(n){const e=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Le,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,X_(n),n.isCheckStableRunning=!0,Q_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),X_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,o,a)=>{try{return zk(n),t.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),Wk(n)}},onInvoke:(t,i,r,s,o,a,l)=>{try{return zk(n),t.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),Wk(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,X_(n),Q_(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ee.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ee.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,W3,yh,yh);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const W3={};function Q_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function X_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function zk(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Wk(n){n._nesting--,Q_(n)}class K3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ie,this.onMicrotaskEmpty=new Ie,this.onStable=new Ie,this.onError=new Ie}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}let Z_=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ee.assertNotInAngularZone(),Y_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Y_(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(C(ee))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})(),Gk=(()=>{class n{constructor(){this._applications=new Map,J_.addToWindow(this)}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return J_.findTestabilityInTree(this,t,i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();class Y3{addToWindow(e){}findTestabilityInTree(e,t,i){return null}}let Ei,J_=new Y3;const qk=new M("AllowMultipleToken");class Kk{constructor(e,t){this.name=e,this.token=t}}function Yk(n,e,t=[]){const i=`Platform: ${e}`,r=new M(i);return(s=[])=>{let o=Qk();if(!o||o.injector.get(qk,!1))if(n)n(t.concat(s).concat({provide:r,useValue:!0}));else{const a=t.concat(s).concat({provide:r,useValue:!0},{provide:l_,useValue:"platform"});!function(n){if(Ei&&!Ei.destroyed&&!Ei.injector.get(qk,!1))throw new On("400","");Ei=n.get(Xk);const e=n.get(Hk,null);e&&e.forEach(t=>t())}(Ze.create({providers:a,name:i}))}return function(n){const e=Qk();if(!e)throw new On("401","");return e}()}}function Qk(){return Ei&&!Ei.destroyed?Ei:null}let Xk=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const a=function(n,e){let t;return t="noop"===n?new K3:("zone.js"===n?void 0:n)||new ee({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:ee,useValue:a}];return a.run(()=>{const c=Ze.create({providers:l,parent:this.injector,name:t.moduleType.name}),u=t.create(c),d=u.injector.get(gr,null);if(!d)throw new On("402","");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});u.onDestroy(()=>{ey(this._modules,u),h.unsubscribe()})}),function(n,e,t){try{const i=t();return fc(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(d,a,()=>{const h=u.injector.get(Pa);return h.runInitializers(),h.donePromise.then(()=>(function(n){Nn(n,"Expected localeId to be defined"),"string"==typeof n&&(RA=n.toLowerCase().replace(/_/g,"-"))}(u.injector.get(wr,ch)||ch),this._moduleDoBootstrap(u),u))})})}bootstrapModule(t,i=[]){const r=Zk({},i);return function(n,e,t){const i=new N_(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(Na);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new On("403","");t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new On("404","");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(C(Ze))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();function Zk(n,e){return Array.isArray(e)?e.reduce(Zk,n):Object.assign(Object.assign({},n),e)}let Na=(()=>{class n{constructor(t,i,r,s,o){this._zone=t,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Ee(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new Ee(c=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{ee.assertNotInAngularZone(),Y_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{ee.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{u.unsubscribe(),d.unsubscribe()}});this.isStable=Fs(a,l.pipe(OT()))}bootstrap(t,i){if(!this._initStatus.done)throw new On("405","");let r;r=t instanceof nk?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(r.componentType);const s=function(n){return n.isBoundToModule}(r)?void 0:this._injector.get(Cr),a=r.create(Ze.NULL,[],i||r.selector,s),l=a.location.nativeElement,c=a.injector.get(Z_,null),u=c&&a.injector.get(Gk);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),ey(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new On("101","");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;ey(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Uk,[]).concat(this._bootstrapListeners).forEach(r=>r(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(C(ee),C(Ze),C(gr),C(os),C(Pa))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();function ey(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let eR=!0,tR=!1,Ys=(()=>{class n{}return n.__NG_ELEMENT_ID__=l5,n})();function l5(n){return function(n,e,t){if(Dd(n)&&!t){const i=Ln(n.index,e);return new Cc(i,i)}return 47&n.type?new Cc(e[16],e):null}(Dt(),w(),16==(16&n))}class aR{constructor(){}supports(e){return dc(e)}create(e){return new m5(e)}}const p5=(n,e)=>e;class m5{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||p5}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){const o=!i||t&&t.currentIndex<cR(i,r,s)?t:i,a=cR(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!dc(e))throw new Error(`Error trying to diff '${Ce(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,o,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),i=!0),t=t._next}else r=0,function(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[ma()]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{o=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new g5(t,i),s,r),e}_verifyReinsertion(e,t,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new lR),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lR),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class g5{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _5{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class lR{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new _5,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cR(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class uR{constructor(){}supports(e){return e instanceof Map||p_(e)}create(){return new y5}}class y5{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||p_(e)))throw new Error(`Error trying to diff '${Ce(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new v5(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class v5{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function dR(){return new Gi([new aR])}let Gi=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||dR()),deps:[[n,new js,new tt]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'`)}}return n.\u0275prov=O({token:n,providedIn:"root",factory:dR}),n})();function hR(){return new Fa([new uR])}let Fa=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||hR()),deps:[[n,new js,new tt]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return n.\u0275prov=O({token:n,providedIn:"root",factory:hR}),n})();const C5=[new uR],E5=new Gi([new aR]),D5=new Fa(C5),T5=Yk(null,"core",[{provide:Ks,useValue:"unknown"},{provide:Xk,deps:[Ze]},{provide:Gk,deps:[]},{provide:jk,deps:[]}]),k5=[{provide:Na,useClass:Na,deps:[ee,Ze,gr,os,Pa]},{provide:LG,deps:[ee],useFactory:function(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Pa,useClass:Pa,deps:[[new tt,vh]]},{provide:bh,useClass:bh,deps:[]},H3,{provide:Gi,useFactory:function(){return E5},deps:[]},{provide:Fa,useFactory:function(){return D5},deps:[]},{provide:wr,useFactory:function(n){return n||"undefined"!=typeof $localize&&$localize.locale||ch},deps:[[new ec(wr),new tt,new js]]},{provide:$k,useValue:"USD"}];let x5=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(C(Na))},n.\u0275mod=Q({type:n}),n.\u0275inj=W({providers:k5}),n})(),wh=null;function qi(){return wh}const te=new M("DocumentToken");let Xs=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=O({token:n,factory:function(){return C(fR)},providedIn:"platform"}),n})();const L5=new M("Location Initialized");let fR=(()=>{class n extends Xs{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qi().getBaseHref(this._doc)}onPopState(t){const i=qi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=qi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){pR()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){pR()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(C(te))},n.\u0275prov=O({token:n,factory:function(){return new fR(C(te))},providedIn:"platform"}),n})();function pR(){return!!window.history.pushState}function sy(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function mR(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Er(n){return n&&"?"!==n[0]?"?"+n:n}let La=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=O({token:n,factory:function(){return function(n){const e=C(te).location;return new gR(C(Xs),e&&e.origin||"")}()},providedIn:"root"}),n})();const oy=new M("appBaseHref");let gR=(()=>{class n extends La{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return sy(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Er(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const o=this.prepareExternalUrl(r+Er(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){const o=this.prepareExternalUrl(r+Er(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(C(Xs),C(oy,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})(),H5=(()=>{class n extends La{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=sy(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+Er(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+Er(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(C(Xs),C(oy,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})(),Sc=(()=>{class n{constructor(t,i){this._subject=new Ie,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=mR(_R(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Er(i))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,_R(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Er(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Er(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Er,n.joinWithSlash=sy,n.stripTrailingSlash=mR,n.\u0275fac=function(t){return new(t||n)(C(La),C(Xs))},n.\u0275prov=O({token:n,factory:function(){return new Sc(C(La),C(Xs))},providedIn:"root"}),n})();function _R(n){return n.replace(/\/index.html$/,"")}var bt=(()=>((bt=bt||{})[bt.Zero=0]="Zero",bt[bt.One=1]="One",bt[bt.Two=2]="Two",bt[bt.Few=3]="Few",bt[bt.Many=4]="Many",bt[bt.Other=5]="Other",bt))();const Y5=function(n){return function(n){const e=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=kA(e);if(t)return t;const i=e.split("-")[0];if(t=kA(i),t)return t;if("en"===i)return IW;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[R.PluralCase]};class xh{}let D8=(()=>{class n extends xh{constructor(t){super(),this.locale=t}getPluralCategory(t,i){switch(Y5(i||this.locale)(t)){case bt.Zero:return"zero";case bt.One:return"one";case bt.Two:return"two";case bt.Few:return"few";case bt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(C(wr))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})(),my=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(dc(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ce(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(m(Gi),m(Fa),m(J),m(vr))},n.\u0275dir=T({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class I8{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let SR=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new I8(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),IR(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{IR(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(m(Nt),m(It),m(Gi))},n.\u0275dir=T({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function IR(n,e){n.context.$implicit=e.item}let Zs=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new M8,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){MR("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){MR("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(m(Nt),m(It))},n.\u0275dir=T({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class M8{constructor(){this.$implicit=null,this.ngIf=null}}function MR(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ce(e)}'.`)}class gy{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ac=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=T({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),_y=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new gy(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(m(Nt),m(It),m(Ac,9))},n.\u0275dir=T({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),kR=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,s]=t.split(".");null!=(i=null!=i&&s?`${i}${s}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(m(J),m(Fa),m(vr))},n.\u0275dir=T({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),kc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({providers:[{provide:xh,useClass:D8}]}),n})();const xR="browser";let rq=(()=>{class n{}return n.\u0275prov=O({token:n,providedIn:"root",factory:()=>new sq(C(te),window)}),n})();class sq{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=OR(this.window.history)||OR(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function OR(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class by extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new by,wh||(wh=n)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Rc=Rc||document.querySelector("base"),Rc?Rc.getAttribute("href"):null);return null==t?null:function(n){Oh=Oh||document.createElement("a"),Oh.setAttribute("href",n);const e=Oh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Rc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Oh,Rc=null;const PR=new M("TRANSITION_ID"),hq=[{provide:vh,useFactory:function(n,e,t){return()=>{t.get(Pa).donePromise.then(()=>{const i=qi(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[PR,te,Ze],multi:!0}];class Cy{static init(){var n;n=new Cy,J_=n}addToWindow(e){Le.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},Le.getAllAngularTestabilities=()=>e.getAllTestabilities(),Le.getAllAngularRootElements=()=>e.getAllRootElements(),Le.frameworkStabilizers||(Le.frameworkStabilizers=[]),Le.frameworkStabilizers.push(i=>{const r=Le.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?qi().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let fq=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();const Ph=new M("EventManagerPlugins");let Nh=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(C(Ph),C(ee))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();class NR{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=qi().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let FR=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})(),xc=(()=>{class n extends FR{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,r.push(i.appendChild(o))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(LR),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(LR))}}return n.\u0275fac=function(t){return new(t||n)(C(te))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();function LR(n){qi().remove(n)}const wy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ey=/%COMP%/g;function Fh(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Fh(n,r,t):(r=r.replace(Ey,n),t.push(r))}return t}function HR(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Lh=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Dy(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case pi.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new vq(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case pi.ShadowDom:return new bq(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Fh(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(C(Nh),C(xc),C(Tc))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();class Dy{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(wy[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=wy[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=wy[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Hn.DashCase|Hn.Important)?e.style.setProperty(t,i,r&Hn.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Hn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,HR(i)):this.eventManager.addEventListener(e,t,HR(i))}}class vq extends Dy{constructor(e,t,i,r){super(e),this.component=i;const s=Fh(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(Ey,r+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Ey,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class bq extends Dy{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Fh(r.id,r.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Cq=(()=>{class n extends NR{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(C(te))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();const jR=["alt","control","meta","shift"],Eq={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$R={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Dq={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Tq=(()=>{class n extends NR{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qi().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="";if(jR.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),o+=l+".")}),o+=s,0!=i.length||0===s.length)return null;const a={};return a.domEventName=r,a.fullKey=o,a}static getEventFullKey(t){let i="",r=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&$R.hasOwnProperty(e)&&(e=$R[e]))}return Eq[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),jR.forEach(s=>{s!=r&&Dq[s](t)&&(i+=s+".")}),i+=r,i}static eventCallback(t,i,r){return s=>{n.getEventFullKey(s)===t&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(C(te))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();const kq=Yk(T5,"browser",[{provide:Ks,useValue:xR},{provide:Hk,useValue:function(){by.makeCurrent(),Cy.init()},multi:!0},{provide:te,useFactory:function(){return n=document,Km=n,document;var n},deps:[]}]),Rq=[{provide:l_,useValue:"root"},{provide:gr,useFactory:function(){return new gr},deps:[]},{provide:Ph,useClass:Cq,multi:!0,deps:[te,ee,Ks]},{provide:Ph,useClass:Tq,multi:!0,deps:[te]},{provide:Lh,useClass:Lh,deps:[Nh,xc,Tc]},{provide:bc,useExisting:Lh},{provide:FR,useExisting:xc},{provide:xc,useClass:xc,deps:[te]},{provide:Z_,useClass:Z_,deps:[ee]},{provide:Nh,useClass:Nh,deps:[Ph,ee]},{provide:class{},useClass:fq,deps:[]}];let zR=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:Tc,useValue:t.appId},{provide:PR,useExisting:Tc},hq]}}}return n.\u0275fac=function(t){return new(t||n)(C(n,12))},n.\u0275mod=Q({type:n}),n.\u0275inj=W({providers:Rq,imports:[kc,x5]}),n})(),WR=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(C(te))},n.\u0275prov=O({token:n,factory:function(t){let i=null;return i=t?new t:new WR(C(te)),i},providedIn:"root"}),n})();"undefined"!=typeof window&&window;let Sy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=O({token:n,factory:function(t){let i=null;return i=t?new(t||n):C(KR),i},providedIn:"root"}),n})(),KR=(()=>{class n extends Sy{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case xe.NONE:return i;case xe.HTML:return Li(i,"HTML")?Bn(i):GS(this._doc,String(i)).toString();case xe.STYLE:return Li(i,"Style")?Bn(i):i;case xe.SCRIPT:if(Li(i,"Script"))return Bn(i);throw new Error("unsafe value used in a script context");case xe.URL:return VS(i),Li(i,"URL")?Bn(i):nc(String(i));case xe.RESOURCE_URL:if(Li(i,"ResourceURL"))return Bn(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function(n){return new FU(n)}(t)}bypassSecurityTrustStyle(t){return function(n){return new LU(n)}(t)}bypassSecurityTrustScript(t){return function(n){return new VU(n)}(t)}bypassSecurityTrustUrl(t){return function(n){return new BU(n)}(t)}bypassSecurityTrustResourceUrl(t){return function(n){return new HU(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(C(te))},n.\u0275prov=O({token:n,factory:function(t){let i=null;return i=t?new t:function(n){return new KR(n.get(te))}(C(Ze)),i},providedIn:"root"}),n})();function V(...n){return ct(n,Vl(n))}class jn extends _e{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const{isArray:jq}=Array,{getPrototypeOf:$q,prototype:zq,keys:Wq}=Object;function YR(n){if(1===n.length){const e=n[0];if(jq(e))return{args:e,keys:null};if(function(n){return n&&"object"==typeof n&&$q(n)===zq}(e)){const t=Wq(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:qq}=Array;function Iy(n){return ne(e=>function(n,e){return qq(e)?n(...e):n(e)}(n,e))}function QR(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function XR(n,e,t){n?ur(t,n,e):e()}const Vh=Bo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Bh(...n){return Ll(1)(ct(n,Vl(n)))}function My(n){return new Ee(e=>{xn(n()).subscribe(e)})}function ZR(){return lt((n,e)=>{let t=null;n._refCount++;const i=new Je(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Zq extends Ee{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,_T(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ae;const t=this.getSubject();e.add(this.source.subscribe(new Je(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ae.EMPTY)}return e}refCount(){return ZR()(this)}}function Ki(n,e){return lt((t,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();t.subscribe(new Je(i,l=>{null==r||r.unsubscribe();let c=0;const u=s++;xn(n(l,u)).subscribe(r=new Je(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function ls(...n){const e=Vl(n);return lt((t,i)=>{(e?Bh(n,t,e):Bh(n,t)).subscribe(i)})}function Jq(n,e,t,i,r){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(new Je(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function Ay(n,e){return lt(Jq(n,e,arguments.length>=2,!0))}function At(n,e){return lt((t,i)=>{let r=0;t.subscribe(new Je(i,s=>n.call(e,s,r++)&&i.next(s)))})}function Tr(n){return lt((e,t)=>{let s,i=null,r=!1;i=e.subscribe(new Je(t,void 0,void 0,o=>{s=xn(n(o,Tr(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function Va(n,e){return he(e)?gt(n,e,1):gt(n,1)}function ky(n){return n<=0?()=>Oi:lt((e,t)=>{let i=[];e.subscribe(new Je(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function JR(n=e6){return lt((e,t)=>{let i=!1;e.subscribe(new Je(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function e6(){return new Vh}function ex(n){return lt((e,t)=>{let i=!1;e.subscribe(new Je(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Ba(n,e){const t=arguments.length>=2;return i=>i.pipe(n?At((r,s)=>n(r,s,i)):Kr,Et(1),t?ex(e):JR(()=>new Vh))}function Ft(n,e,t){const i=he(n)||e||t?{next:n,error:e,complete:t}:n;return i?lt((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(new Je(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Kr}function Ry(n){return lt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class Sr{constructor(e,t){this.id=e,this.url=t}}class xy extends Sr{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Oc extends Sr{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class tx extends Sr{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class n6 extends Sr{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class i6 extends Sr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r6 extends Sr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class s6 extends Sr{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class o6 extends Sr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a6 extends Sr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nx{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ix{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class l6{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class c6{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class u6{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d6{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rx{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const me="primary";class h6{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ha(n){return new h6(n)}const sx="ngNavigationCancelingError";function Oy(n){const e=Error("NavigationCancelingError: "+n);return e[sx]=!0,e}function p6(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Yi(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!ox(n[r],e[r]))return!1;return!0}function ox(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function ax(n){return Array.prototype.concat.apply([],n)}function lx(n){return n.length>0?n[n.length-1]:null}function Wt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Qi(n){return b_(n)?n:fc(n)?ct(Promise.resolve(n)):V(n)}const _6={exact:function dx(n,e,t){if(!eo(n.segments,e.segments)||!Hh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!dx(n.children[i],e.children[i],t))return!1;return!0},subset:hx},cx={exact:function(n,e){return Yi(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ox(n[t],e[t]))},ignored:()=>!0};function ux(n,e,t){return _6[t.paths](n.root,e.root,t.matrixParams)&&cx[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function hx(n,e,t){return fx(n,e,e.segments,t)}function fx(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!eo(r,t)||e.hasChildren()||!Hh(r,t,i))}if(n.segments.length===t.length){if(!eo(n.segments,t)||!Hh(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!hx(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(eo(n.segments,r)&&Hh(n.segments,r,i)&&n.children[me])&&fx(n.children[me],e,s,i)}}function Hh(n,e,t){return e.every((i,r)=>cx[t](n[r].parameters,i.parameters))}class Js{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ha(this.queryParams)),this._queryParamMap}toString(){return w6.serialize(this)}}class be{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Wt(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Uh(this)}}class Pc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ha(this.parameters)),this._parameterMap}toString(){return yx(this)}}function eo(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class px{}class mx{parse(e){const t=new R6(e);return new Js(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Nc(e.root,!0)}`,i=function(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${jh(t)}=${jh(r)}`).join("&"):`${jh(t)}=${jh(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);var n;return`${t}${i}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const w6=new mx;function Uh(n){return n.segments.map(e=>yx(e)).join("/")}function Nc(n,e){if(!n.hasChildren())return Uh(n);if(e){const t=n.children[me]?Nc(n.children[me],!1):"",i=[];return Wt(n.children,(r,s)=>{s!==me&&i.push(`${s}:${Nc(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function(n,e){let t=[];return Wt(n.children,(i,r)=>{r===me&&(t=t.concat(e(i,r)))}),Wt(n.children,(i,r)=>{r!==me&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===me?[Nc(n.children[me],!1)]:[`${r}:${Nc(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[me]?`${Uh(n)}/${t[0]}`:`${Uh(n)}/(${t.join("//")})`}}function gx(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jh(n){return gx(n).replace(/%3B/gi,";")}function Py(n){return gx(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $h(n){return decodeURIComponent(n)}function _x(n){return $h(n.replace(/\+/g,"%20"))}function yx(n){return`${Py(n.path)}${function(n){return Object.keys(n).map(e=>`;${Py(e)}=${Py(n[e])}`).join("")}(n.parameters)}`}const S6=/^[^\/()?;=#]+/;function zh(n){const e=n.match(S6);return e?e[0]:""}const I6=/^[^=?&#]+/,A6=/^[^&#]+/;class R6{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[me]=new be(e,t)),i}parseSegment(){const e=zh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Pc($h(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=zh(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=zh(this.remaining);r&&(i=r,this.capture(i))}e[$h(t)]=$h(i)}parseQueryParam(e){const t=function(n){const e=n.match(I6);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function(n){const e=n.match(A6);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=_x(t),s=_x(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=zh(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=me);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[me]:new be([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class vx{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ny(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Ny(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Fy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Fy(e,this._root).map(t=>t.value)}}function Ny(n,e){if(n===e.value)return e;for(const t of e.children){const i=Ny(n,t);if(i)return i}return null}function Fy(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Fy(n,t);if(i.length)return i.unshift(e),i}return[]}class Ir{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ua(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class bx extends vx{constructor(e,t){super(e),this.snapshot=t,Ly(this,e)}toString(){return this.snapshot.toString()}}function Cx(n,e){const t=function(n,e){const o=new Wh([],{},{},"",{},me,e,null,n.root,-1,{});return new Ex("",new Ir(o,[]))}(n,e),i=new jn([new Pc("",{})]),r=new jn({}),s=new jn({}),o=new jn({}),a=new jn(""),l=new ja(i,r,o,a,s,me,e,t.root);return l.snapshot=t.root,new bx(new Ir(l,[]),t)}class ja{constructor(e,t,i,r,s,o,a,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ne(e=>Ha(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ne(e=>Ha(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wx(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Wh{constructor(e,t,i,r,s,o,a,l,c,u,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ha(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ha(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ex extends vx{constructor(e,t){super(t),this.url=e,Ly(this,t)}toString(){return Dx(this._root)}}function Ly(n,e){e.value._routerState=n,e.children.forEach(t=>Ly(n,t))}function Dx(n){const e=n.children.length>0?` { ${n.children.map(Dx).join(", ")} } `:"";return`${n.value}${e}`}function Vy(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Yi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Yi(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Yi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Yi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function By(n,e){const t=Yi(n.params,e.params)&&function(n,e){return eo(n,e)&&n.every((t,i)=>Yi(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||By(n.parent,e.parent))}function Fc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Fc(n,i,r);return Fc(n,i)})}(n,e,t);return new Ir(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Fc(n,a)),o}}const i=function(n){return new ja(new jn(n.url),new jn(n.params),new jn(n.queryParams),new jn(n.fragment),new jn(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>Fc(n,s));return new Ir(i,r)}}function Gh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Lc(n){return"object"==typeof n&&null!=n&&n.outlets}function Hy(n,e,t,i,r){let s={};return i&&Wt(i,(o,a)=>{s[a]=Array.isArray(o)?o.map(l=>`${l}`):`${o}`}),new Js(t.root===n?e:Tx(t.root,n,e),s,r)}function Tx(n,e,t){const i={};return Wt(n.children,(r,s)=>{i[s]=r===e?t:Tx(r,e,t)}),new be(n.segments,i)}class Sx{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Gh(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Lc);if(r&&r!==lx(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Uy{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Ix(n,e,t){if(n||(n=new be([],{})),0===n.segments.length&&n.hasChildren())return qh(n,e,t);const i=function(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const o=n.segments[r],a=t[i];if(Lc(a))break;const l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!Ax(l,c,o))return s;i+=2}else{if(!Ax(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new be(n.segments.slice(0,i.pathIndex),{});return s.children[me]=new be(n.segments.slice(i.pathIndex),n.children),qh(s,0,r)}return i.match&&0===r.length?new be(n.segments,{}):i.match&&!n.hasChildren()?jy(n,e,t):i.match?qh(n,0,r):jy(n,e,t)}function qh(n,e,t){if(0===t.length)return new be(n.segments,{});{const i=function(n){return Lc(n[0])?n[0].outlets:{[me]:n}}(t),r={};return Wt(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=Ix(n.children[o],e,s))}),Wt(n.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new be(n.segments,r)}}function jy(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Lc(s)){const l=$6(s.outlets);return new be(i,l)}if(0===r&&Gh(t[0])){i.push(new Pc(n.segments[e].path,Mx(t[0]))),r++;continue}const o=Lc(s)?s.outlets[me]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&Gh(a)?(i.push(new Pc(o,Mx(a))),r+=2):(i.push(new Pc(o,{})),r++)}return new be(i,{})}function $6(n){const e={};return Wt(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=jy(new be([],{}),0,t))}),e}function Mx(n){const e={};return Wt(n,(t,i)=>e[i]=`${t}`),e}function Ax(n,e,t){return n==t.path&&Yi(e,t.parameters)}class W6{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Vy(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Ua(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Wt(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Ua(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Ua(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Ua(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new d6(s.value.snapshot))}),e.children.length&&this.forwardEvent(new c6(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(Vy(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Vy(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=l,o.outlet&&o.outlet.activateWith(r,l),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}class $y{constructor(e,t){this.routes=e,this.module=t}}function cs(n){return"function"==typeof n}function to(n){return n instanceof Js}const Vc=Symbol("INITIAL_VALUE");function Bc(){return Ki(n=>function(...n){const e=Vl(n),t=RT(n),{args:i,keys:r}=YR(n);if(0===i.length)return ct([],e);const s=new Ee(function(n,e,t=Kr){return i=>{XR(e,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)XR(e,()=>{const c=ct(n[l],e);let u=!1;c.subscribe(new Je(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,r?o=>QR(r,o):Kr));return t?s.pipe(Iy(t)):s}(n.map(e=>e.pipe(Et(1),ls(Vc)))).pipe(Ay((e,t)=>{let i=!1;return t.reduce((r,s,o)=>r!==Vc?r:(s===Vc&&(i=!0),i||!1!==s&&o!==t.length-1&&!to(s)?r:s),e)},Vc),At(e=>e!==Vc),ne(e=>to(e)?e:!0===e),Et(1)))}class Z6{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Hc,this.attachRef=null}}class Hc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Z6,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let zy=(()=>{class n{constructor(t,i,r,s,o){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ie,this.deactivateEvents=new Ie,this.attachEvents=new Ie,this.detachEvents=new Ie,this.name=s||me,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new J6(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(m(Hc),m(Nt),m(os),ts("name"),m(Ys))},n.\u0275dir=T({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class J6{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===ja?this.route:e===Hc?this.childContexts:this.parent.get(e,t)}}let kx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ke({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&De(0,"router-outlet")},directives:[zy],encapsulation:2}),n})();function Rx(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];e4(i,t4(e,i))}}function e4(n,e){n.children&&Rx(n.children,e)}function t4(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Wy(n){const e=n.children&&n.children.map(Wy),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==me&&(t.component=kx),t}function si(n){return n.outlet||me}function xx(n,e){const t=n.filter(i=>si(i)===e);return t.push(...n.filter(i=>si(i)!==e)),t}const Ox={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Kh(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Ox):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||p6)(t,n,e);if(!s)return Object.assign({},Ox);const o={};Wt(s.posParams,(l,c)=>{o[c]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function Yh(n,e,t,i,r="corrected"){if(t.length>0&&function(n,e,t){return t.some(i=>Qh(n,e,i)&&si(i)!==me)}(n,t,i)){const o=new be(e,function(n,e,t,i){const r={};r[me]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&si(s)!==me){const o=new be([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,r[si(s)]=o}return r}(n,e,i,new be(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(i=>Qh(n,e,i))}(n,t,i)){const o=new be(n.segments,function(n,e,t,i,r,s){const o={};for(const a of i)if(Qh(n,t,a)&&!r[si(a)]){const l=new be([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[si(a)]=l}return Object.assign(Object.assign({},r),o)}(n,e,t,i,n.children,r));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new be(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Qh(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Px(n,e,t,i){return!!(si(n)===i||i!==me&&Qh(e,t,n))&&("**"===n.path||Kh(e,n,t).matched)}function Nx(n,e,t){return 0===e.length&&!n.children[t]}class Uc{constructor(e){this.segmentGroup=e||null}}class Fx{constructor(e){this.urlTree=e}}function Xh(n){return new Ee(e=>e.error(new Uc(n)))}function Lx(n){return new Ee(e=>e.error(new Fx(n)))}function o4(n){return new Ee(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class c4{constructor(e,t,i,r,s){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Cr)}apply(){const e=Yh(this.urlTree.root,[],[],this.config).segmentGroup,t=new be(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,me).pipe(ne(s=>this.createUrlTree(Gy(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Tr(s=>{if(s instanceof Fx)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Uc?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,me).pipe(ne(r=>this.createUrlTree(Gy(r),e.queryParams,e.fragment))).pipe(Tr(r=>{throw r instanceof Uc?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new be([],{[me]:e}):e;return new Js(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(ne(s=>new be([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return ct(r).pipe(Va(s=>{const o=i.children[s],a=xx(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(ne(l=>({segment:l,outlet:s})))}),Ay((s,o)=>(s[o.outlet]=o.segment,s),{}),function(n,e){const t=arguments.length>=2;return i=>i.pipe(n?At((r,s)=>n(r,s,i)):Kr,ky(1),t?ex(e):JR(()=>new Vh))}())}expandSegment(e,t,i,r,s,o){return ct(i).pipe(Va(a=>this.expandSegmentAgainstRoute(e,t,i,a,r,s,o).pipe(Tr(c=>{if(c instanceof Uc)return V(null);throw c}))),Ba(a=>!!a),Tr((a,l)=>{if(a instanceof Vh||"EmptyError"===a.name){if(Nx(t,r,s))return V(new be([],{}));throw new Uc(t)}throw a}))}expandSegmentAgainstRoute(e,t,i,r,s,o,a){return Px(r,t,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o):Xh(t):Xh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Lx(s):this.lineralizeSegments(i,s).pipe(gt(o=>{const a=new be(o,{});return this.expandSegment(e,a,t,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){const{matched:a,consumedSegments:l,lastChild:c,positionalParamSegments:u}=Kh(t,r,s);if(!a)return Xh(t);const d=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?Lx(d):this.lineralizeSegments(r,d).pipe(gt(h=>this.expandSegment(e,t,i,h.concat(s.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?V(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe(ne(h=>(i._loadedConfig=h,new be(r,{})))):V(new be(r,{}));const{matched:o,consumedSegments:a,lastChild:l}=Kh(t,i,r);if(!o)return Xh(t);const c=r.slice(l);return this.getChildConfig(e,i,r).pipe(gt(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:g}=Yh(t,a,c,f),_=new be(p.segments,p.children);if(0===g.length&&_.hasChildren())return this.expandChildren(h,f,_).pipe(ne(x=>new be(a,x)));if(0===f.length&&0===g.length)return V(new be(a,{}));const b=si(i)===s;return this.expandSegment(h,_,f,g,b?me:s,!0).pipe(ne(S=>new be(a.concat(S.segments),S.children)))}))}getChildConfig(e,t,i){return t.children?V(new $y(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?V(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe(gt(r=>{return r?this.configLoader.load(e.injector,t).pipe(ne(s=>(t._loadedConfig=s,s))):(n=t,new Ee(e=>e.error(Oy(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):V(new $y([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;return r&&0!==r.length?V(r.map(o=>{const a=e.get(o);let l;if((n=a)&&cs(n.canLoad))l=a.canLoad(t,i);else{if(!cs(a))throw new Error("Invalid CanLoad guard");l=a(t,i)}var n;return Qi(l)})).pipe(Bc(),Ft(o=>{if(!to(o))return;const a=Oy(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),ne(o=>!0===o)):V(!0)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return V(i);if(r.numberOfChildren>1||!r.children[me])return o4(e.redirectTo);r=r.children[me]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new Js(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Wt(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[s]=t[a]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let o={};return Wt(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,i,r)}),new be(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function Gy(n){const e={};for(const i of Object.keys(n.children)){const s=Gy(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function(n){if(1===n.numberOfChildren&&n.children[me]){const e=n.children[me];return new be(n.segments.concat(e.segments),e.children)}return n}(new be(n.segments,e))}class Vx{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Zh{constructor(e,t){this.component=e,this.route=t}}function h4(n,e,t){const i=n._root;return jc(i,e?e._root:null,t,[i.value])}function Jh(n,e,t){const i=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function jc(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ua(e);return n.children.forEach(o=>{(function(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!eo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!eo(n.url,e.url)||!Yi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!By(n,e)||!Yi(n.queryParams,e.queryParams);default:return!By(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Vx(i)):(s.data=o.data,s._resolvedData=o._resolvedData),jc(n,e,s.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Zh(a.outlet.component,o))}else o&&$c(e,a,r),r.canActivateChecks.push(new Vx(i)),jc(n,null,s.component?a?a.children:null:t,i,r)})(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Wt(s,(o,a)=>$c(o,t.getContext(a),r)),r}function $c(n,e,t){const i=Ua(n),r=n.value;Wt(i,(s,o)=>{$c(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Zh(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class T4{}function Bx(n){return new Ee(e=>e.error(n))}class I4{constructor(e,t,i,r,s,o){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Yh(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,me);if(null===t)return null;const i=new Wh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},me,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ir(i,t),s=new Ex(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,i=wx(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=xx(e,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;i.push(...l)}const r=Hx(i);return r.sort((e,t)=>e.value.outlet===me?-1:t.value.outlet===me?1:e.value.outlet.localeCompare(t.value.outlet)),r}processSegment(e,t,i,r){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,i,r);if(null!==o)return o}return Nx(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!Px(e,t,i,r))return null;let s,o=[],a=[];if("**"===e.path){const f=i.length>0?lx(i).parameters:{};s=new Wh(i,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$x(e),si(e),e.component,e,Ux(t),jx(t)+i.length,zx(e))}else{const f=Kh(t,e,i);if(!f.matched)return null;o=f.consumedSegments,a=i.slice(f.lastChild),s=new Wh(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$x(e),si(e),e.component,e,Ux(t),jx(t)+o.length,zx(e))}const l=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:c,slicedSegments:u}=Yh(t,o,a,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);var n;if(0===u.length&&c.hasChildren()){const f=this.processChildren(l,c);return null===f?null:[new Ir(s,f)]}if(0===l.length&&0===u.length)return[new Ir(s,[])];const d=si(e)===r,h=this.processSegment(l,c,u,d?me:r);return null===h?null:[new Ir(s,h)]}}function k4(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Hx(n){const e=[],t=new Set;for(const i of n){if(!k4(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=Hx(i.children);e.push(new Ir(i.value,r))}return e.filter(i=>!t.has(i))}function Ux(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function jx(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function $x(n){return n.data||{}}function zx(n){return n.resolve||{}}function qy(n){return Ki(e=>{const t=n(e);return t?ct(t).pipe(ne(()=>e)):V(e)})}class V4 extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Ky=new M("ROUTES");class Wx{constructor(e,t,i,r){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe(ne(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new $y(ax(o.injector.get(Ky,void 0,Y.Self|Y.Optional)).map(Wy),o)}),Tr(s=>{throw t._loader$=void 0,s}));return t._loader$=new Zq(r,()=>new _e).pipe(ZR()),t._loader$}loadModuleFactory(e){return Qi(e()).pipe(gt(t=>t instanceof ak?V(t):ct(this.compiler.compileModuleAsync(t))))}}class H4{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function U4(n){throw n}function j4(n,e,t){return e.parse("/")}function Gx(n,e){return V(null)}const $4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},z4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let tn=(()=>{class n{constructor(t,i,r,s,o,a,l){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new _e,this.errorHandler=U4,this.malformedUriErrorHandler=j4,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Gx,afterPreactivation:Gx},this.urlHandlingStrategy=new H4,this.routeReuseStrategy=new V4,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Cr),this.console=o.get(jk);const d=o.get(ee);this.isNgZoneEnabled=d instanceof ee&&ee.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new Js(new be([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Wx(o,a,h=>this.triggerEvent(new nx(h)),h=>this.triggerEvent(new ix(h))),this.routerState=Cx(this.currentUrlTree,this.rootComponentType),this.transitions=new jn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(At(r=>0!==r.id),ne(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Ki(r=>{let s=!1,o=!1;return V(r).pipe(Ft(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ki(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return ef(a.source)&&(this.browserUrlTree=a.extractedUrl),V(a).pipe(Ki(d=>{const h=this.transitions.getValue();return i.next(new xy(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Oi:Promise.resolve(d)}),function(n,e,t,i){return Ki(r=>function(n,e,t,i,r){return new c4(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe(ne(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Ft(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(n,e,t,i,r){return gt(s=>function(n,e,t,i,r="emptyOnly",s="legacy"){try{const o=new I4(n,e,t,i,r,s).recognize();return null===o?Bx(new T4):V(o)}catch(o){return Bx(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),i,r).pipe(ne(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),Ft(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new i6(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);i.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:_}=a,b=new xy(h,this.serializeUrl(f),p,g);i.next(b);const v=Cx(f,this.rootComponentType).snapshot;return V(Object.assign(Object.assign({},a),{targetSnapshot:v,urlAfterRedirects:f,extras:Object.assign(Object.assign({},_),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Oi}),qy(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Ft(a=>{const l=new r6(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),ne(a=>Object.assign(Object.assign({},a),{guards:h4(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(n,e){return gt(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?V(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,i){return ct(n).pipe(gt(r=>function(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?V(s.map(a=>{const l=Jh(a,e,r);let c;if(function(n){return n&&cs(n.canDeactivate)}(l))c=Qi(l.canDeactivate(n,e,t,i));else{if(!cs(l))throw new Error("Invalid CanDeactivate guard");c=Qi(l(n,e,t,i))}return c.pipe(Ba())})).pipe(Bc()):V(!0)}(r.component,r.route,t,e,i)),Ba(r=>!0!==r,!0))}(o,i,r,n).pipe(gt(a=>a&&function(n){return"boolean"==typeof n}(a)?function(n,e,t,i){return ct(e).pipe(Va(r=>Bh(function(n,e){return null!==n&&e&&e(new l6(n)),V(!0)}(r.route.parent,i),function(n,e){return null!==n&&e&&e(new u6(n)),V(!0)}(r.route,i),function(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>My(()=>V(o.guards.map(l=>{const c=Jh(l,o.node,t);let u;if(function(n){return n&&cs(n.canActivateChild)}(c))u=Qi(c.canActivateChild(i,n));else{if(!cs(c))throw new Error("Invalid CanActivateChild guard");u=Qi(c(i,n))}return u.pipe(Ba())})).pipe(Bc())));return V(s).pipe(Bc())}(n,r.path,t),function(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return V(!0);const r=i.map(s=>My(()=>{const o=Jh(s,e,t);let a;if(function(n){return n&&cs(n.canActivate)}(o))a=Qi(o.canActivate(e,n));else{if(!cs(o))throw new Error("Invalid CanActivate guard");a=Qi(o(e,n))}return a.pipe(Ba())}));return V(r).pipe(Bc())}(n,r.route,t))),Ba(r=>!0!==r,!0))}(i,s,n,e):V(a)),ne(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Ft(a=>{if(to(a.guardsResult)){const c=Oy(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new s6(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),At(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),qy(a=>{if(a.guards.canActivateChecks.length)return V(a).pipe(Ft(l=>{const c=new o6(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),Ki(l=>{let c=!1;return V(l).pipe(function(n,e){return gt(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return V(t);let s=0;return ct(r).pipe(Va(o=>function(n,e,t,i){return function(n,e,t,i){const r=Object.keys(n);if(0===r.length)return V({});const s={};return ct(r).pipe(gt(o=>function(n,e,t,i){const r=Jh(n,e,i);return Qi(r.resolve?r.resolve(e,t):r(e,t))}(n[o],e,t,i).pipe(Ft(a=>{s[o]=a}))),ky(1),gt(()=>Object.keys(s).length===r.length?V(s):Oi))}(n._resolve,n,e,i).pipe(ne(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),wx(n,t).resolve),null)))}(o.route,i,n,e)),Ft(()=>s++),ky(1),gt(o=>s===r.length?V(t):Oi))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Ft({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),Ft(l=>{const c=new a6(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),qy(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),ne(a=>{const l=function(n,e,t){const i=Fc(n,e._root,t?t._root:void 0);return new bx(i,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),Ft(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>ne(i=>(new W6(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Ft({next(){s=!0},complete(){s=!0}}),Ry(()=>{var a;s||o||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===r.id&&(this.currentNavigation=null)}),Tr(a=>{if(o=!0,function(n){return n&&n[sx]}(a)){const l=to(a.url);l||(this.navigated=!0,this.restoreHistory(r,!0));const c=new tx(r.id,this.serializeUrl(r.extractedUrl),a.message);i.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ef(r.source)};this.scheduleNavigation(u,"imperative",null,d,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new n6(r.id,this.serializeUrl(r.extractedUrl),a);i.next(l);try{r.resolve(this.errorHandler(a))}catch(c){r.reject(c)}}return Oi}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},o=(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null;if(o){const l=Object.assign({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,i,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Rx(t),this.config=t.map(Wy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=r||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function(n,e,t,i,r){if(0===t.length)return Hy(e.root,e.root,e,i,r);const s=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Sx(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Wt(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new Sx(t,e,i)}(t);if(s.toRoot())return Hy(e.root,new be([],{}),e,i,r);const o=function(n,e,t){if(n.isAbsolute)return new Uy(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new Uy(s,s===e.root,0)}const i=Gh(n.commands[0])?0:1;return function(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Uy(i,!1,r-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?qh(o.segmentGroup,o.index,s.commands):Ix(o.segmentGroup,o.index,s.commands);return Hy(o.segmentGroup,a,e,i,r)}(c,this.currentUrlTree,t,d,null!=u?u:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=to(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},$4):!1===i?Object.assign({},z4):i,to(t))return ux(this.currentUrlTree,t,r);const s=this.parseUrl(t);return ux(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Oc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,o){var a,l,c;if(this.disposed)return Promise.resolve(!1);const u=this.transitions.value,d=ef(i)&&u&&!ef(u.source),h=u.rawUrl.toString()===t.toString(),f=u.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(d&&h&&f)return Promise.resolve(!0);let g,_,b;o?(g=o.resolve,_=o.reject,b=o.promise):b=new Promise((x,G)=>{g=x,_=G});const v=++this.navigationId;let S;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),S=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(l=this.browserPageId)&&void 0!==l?l:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):S=0,this.setTransition({id:v,targetPageId:S,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:g,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(x=>Promise.reject(x))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new tx(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){ah()},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();function ef(n){return"imperative"!==n}let tf=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new _e,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:$a(this.skipLocationChange),replaceUrl:$a(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:$a(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(m(tn),m(ja),ts("tabindex"),m(vr),m(J))},n.\u0275dir=T({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&Pe("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Pt]}),n})(),nf=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new _e,this.subscription=t.events.subscribe(s=>{s instanceof Oc&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,s,o){if(0!==t||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:$a(this.skipLocationChange),replaceUrl:$a(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:$a(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(m(tn),m(ja),m(La))},n.\u0275dir=T({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&Pe("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&Ve("target",i.target)("href",i.href,Kd)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Pt]}),n})();function $a(n){return""===n||!!n}class qx{}class Kx{preload(e,t){return V(null)}}let Yx=(()=>{class n{constructor(t,i,r,s){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=new Wx(r,i,l=>t.triggerEvent(new nx(l)),l=>t.triggerEvent(new ix(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(At(t=>t instanceof Oc),Va(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Cr);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;r.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(t,s)):s.children&&r.push(this.processRoutes(t,s.children));return ct(r).pipe(Ll(),ne(s=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?V(i._loadedConfig):this.loader.load(t.injector,i)).pipe(gt(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(C(tn),C(bh),C(Ze),C(qx))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})(),Yy=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof xy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Oc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof rx&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new rx(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){ah()},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();const no=new M("ROUTER_CONFIGURATION"),Qx=new M("ROUTER_FORROOT_GUARD"),Y4=[Sc,{provide:px,useClass:mx},{provide:tn,useFactory:function(n,e,t,i,r,s,o={},a,l){const c=new tn(null,n,e,t,i,r,ax(s));return a&&(c.urlHandlingStrategy=a),l&&(c.routeReuseStrategy=l),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(u=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${u.constructor.name}`),console.log(u.toString()),console.log(u),null===(h=console.groupEnd)||void 0===h||h.call(console)}),c},deps:[px,Hc,Sc,Ze,bh,Ky,no,[class{},new tt],[class{},new tt]]},Hc,{provide:ja,useFactory:function(n){return n.routerState.root},deps:[tn]},Yx,Kx,class{preload(e,t){return t().pipe(Tr(()=>V(null)))}},{provide:no,useValue:{enableTracing:!1}}];function Q4(){return new Kk("Router",tn)}let Xx=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[Y4,Zx(t),{provide:Qx,useFactory:J4,deps:[[tn,new tt,new js]]},{provide:no,useValue:i||{}},{provide:La,useFactory:Z4,deps:[Xs,[new ec(oy),new tt],no]},{provide:Yy,useFactory:X4,deps:[tn,rq,no]},{provide:qx,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Kx},{provide:Kk,multi:!0,useFactory:Q4},[Qy,{provide:vh,multi:!0,useFactory:iK,deps:[Qy]},{provide:Jx,useFactory:rK,deps:[Qy]},{provide:Uk,multi:!0,useExisting:Jx}]]}}static forChild(t){return{ngModule:n,providers:[Zx(t)]}}}return n.\u0275fac=function(t){return new(t||n)(C(Qx,8),C(tn,8))},n.\u0275mod=Q({type:n}),n.\u0275inj=W({}),n})();function X4(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Yy(n,e,t)}function Z4(n,e,t={}){return t.useHash?new H5(n,e):new gR(n,e)}function J4(n){return"guarded"}function Zx(n){return[{provide:cU,multi:!0,useValue:n},{provide:Ky,multi:!0,useValue:n}]}let Qy=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new _e}appInitializer(){return this.injector.get(L5,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(a=>i=a),s=this.injector.get(tn),o=this.injector.get(no);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?V(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(no),r=this.injector.get(Yx),s=this.injector.get(Yy),o=this.injector.get(tn),a=this.injector.get(Na);t===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&o.initialNavigation(),r.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(C(Ze))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();function iK(n){return n.appInitializer.bind(n)}function rK(n){return n.bootstrapListener.bind(n)}const Jx=new M("Router Initializer");function eO(n,e,t,i,r,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(i,r)}function y(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function o(l){eO(s,i,r,o,a,"next",l)}function a(l){eO(s,i,r,o,a,"throw",l)}o(void 0)})}}const I=function(n,e){if(!n)throw za(e)},za=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},tO=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e},rf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),i.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(tO(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const l=((7&r)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;const c=r<n.length?t[n.charAt(r)]:64;++r;const d=r<n.length?t[n.charAt(r)]:64;if(++r,null==s||null==a||null==c||null==d)throw Error();i.push(s<<2|a>>4),64!==c&&(i.push(a<<4&240|c>>2),64!==d&&i.push(c<<6&192|d))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},nO=function(n){const e=tO(n);return rf.encodeByteArray(e,!0)},Zy=function(n){try{return rf.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function aK(n){return rO(void 0,n)}function rO(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!lK(t)||(n[t]=rO(n[t],e[t]));return n}function lK(n){return"__proto__"!==n}class us{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,i))}}}function Lt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Jy(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function ev(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function sO(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function io(){return"object"==typeof indexedDB}function sf(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e((null===(s=r.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function tv(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Xi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zi.prototype.create)}}class Zi{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?function(n,e){return n.replace(mK,(t,i)=>{const r=e[i];return null!=r?String(r):`<${i}?>`})}(s,i):"Error";return new Xi(r,`${this.serviceName}: ${o} (${r}).`,i)}}const mK=/\{\$([^}]+)}/g;function zc(n){return JSON.parse(n)}function kt(n){return JSON.stringify(n)}const af=function(n){let e={},t={},i={},r="";try{const s=n.split(".");e=zc(Zy(s[0])||""),t=zc(Zy(s[1])||""),r=s[2],i=t.d||{},delete t.d}catch(s){}return{header:e,claims:t,data:i,signature:r}};function Ar(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Wa(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function nv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function lf(n,e,t){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=e.call(t,n[r],r,n));return i}function cf(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const s=n[r],o=e[r];if(oO(s)&&oO(o)){if(!cf(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function oO(n){return null!==n&&"object"==typeof n}function Wc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Gc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function qc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class yK{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)i[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)i[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const h=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=4294967295&(h<<1|h>>>31)}let c,u,r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(r<<5|r>>>27)+c+l+u+i[d]&4294967295;l=a,a=o,o=4294967295&(s<<30|s>>>2),s=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const i=t-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(s[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<t;)if(s[o]=e[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}class bK{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(void 0===e&&void 0===t&&void 0===i)throw new Error("Missing Observer.");r=function(n,e){if("object"!=typeof n||null===n)return!1;for(const t of["next","error","complete"])if(t in n&&"function"==typeof n[t])return!0;return!1}(e)?e:{next:e,error:t,complete:i},void 0===r.next&&(r.next=iv),void 0===r.error&&(r.error=iv),void 0===r.complete&&(r.complete=iv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(o){}}),this.observers.push(r),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(i){"undefined"!=typeof console&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iv(){}function Ga(n,e){return`${n} failed: ${e} argument `}const uf=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};function df(n,e=1e3,t=2){const i=e*Math.pow(t,n),r=Math.round(.5*i*(Math.random()-.5)*2);return Math.min(144e5,i+r)}function Vt(n){return n&&n._delegate?n._delegate:n}class pn{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ro="[DEFAULT]";class MK{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new us;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch(r){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ro})}catch(t){}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch(s){}}}}clearInstance(e=ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ro){return this.instances.has(e)}getOptions(e=ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,o]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(s)&&o.resolve(r);return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),s=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===ro?void 0:n),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(r){}var n;return i||null}normalizeInstanceIdentifier(e=ro){return this.component?this.component.multipleInstances?e:ro:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class RK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new MK(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const rv=[];var Ne=(()=>{return(n=Ne||(Ne={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Ne;var n})();const aO={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},xK=Ne.INFO,OK={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},PK=(n,e,...t)=>{if(e<n.logLevel)return;const i=(new Date).toISOString(),r=OK[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${n.name}:`,...t)};class qa{constructor(e){this.name=e,this._logLevel=xK,this._logHandler=PK,this._userLogHandler=null,rv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?aO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}class NK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}return null}).filter(t=>t).join(" ")}}const sv="@firebase/app",ov=new qa("@firebase/app"),av="[DEFAULT]",l7={[sv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},so=new Map,hf=new Map;function c7(n,e){try{n.container.addComponent(e)}catch(t){ov.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Dn(n){const e=n.name;if(hf.has(e))return ov.debug(`There were multiple attempts to register component ${e}.`),!1;hf.set(e,n);for(const t of so.values())c7(t,n);return!0}function ds(n,e){return n.container.getProvider(e)}const Kc=new Zi("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class d7{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new pn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kc.create("app-deleted",{appName:this._name})}}const Ka="9.6.1";function h7(n,e={}){"object"!=typeof e&&(e={name:e});const t=Object.assign({name:av,automaticDataCollectionEnabled:!1},e),i=t.name;if("string"!=typeof i||!i)throw Kc.create("bad-app-name",{appName:String(i)});const r=so.get(i);if(r){if(cf(n,r.options)&&cf(t,r.config))return r;throw Kc.create("duplicate-app",{appName:i})}const s=new RK(i);for(const a of hf.values())s.addComponent(a);const o=new d7(n,t,s);return so.set(i,o),o}function Yc(n=av){const e=so.get(n);if(!e)throw Kc.create("no-app",{appName:n});return e}function cO(){return Array.from(so.values())}function st(n,e,t){var i;let r=null!==(i=l7[n])&&void 0!==i?i:n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];return s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ov.warn(a.join(" "))}Dn(new pn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}Dn(new pn("platform-logger",e=>new NK(e),"PRIVATE")),st(sv,"0.7.11",""),st(sv,"0.7.11","esm2017"),st("fire-js",""),st("firebase","9.6.1","app");var Ya=Os(940);const uO="@firebase/installations",hO="w:0.5.4",fO="FIS_v2",kr=new Zi("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function pO(n){return n instanceof Xi&&n.code.includes("request-failed")}function uv({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function mO(n){return{token:n.token,requestStatus:2,expiresIn:C7(n.expiresIn),creationTime:Date.now()}}function dv(n,e){return hv.apply(this,arguments)}function hv(){return hv=y(function*(n,e){const i=(yield e.json()).error;return kr.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}),hv.apply(this,arguments)}function gO({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function _O(n,{refreshToken:e}){const t=gO(n);return t.append("Authorization",function(n){return`${fO} ${n}`}(e)),t}function fv(n){return pv.apply(this,arguments)}function pv(){return pv=y(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e}),pv.apply(this,arguments)}function C7(n){return Number(n.replace("s","000"))}function E7(n,e){return mv.apply(this,arguments)}function mv(){return mv=y(function*(n,{fid:e}){const t=uv(n),s={method:"POST",headers:gO(n),body:JSON.stringify({fid:e,authVersion:fO,appId:n.appId,sdkVersion:hO})},o=yield fv(()=>fetch(t,s));if(o.ok){const a=yield o.json();return{fid:a.fid||e,registrationStatus:2,refreshToken:a.refreshToken,authToken:mO(a.authToken)}}throw yield dv("Create Installation",o)}),mv.apply(this,arguments)}function yO(n){return new Promise(e=>{setTimeout(e,n)})}const T7=/^[cdef][\w-]{21}$/;function S7(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function(n){return function(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return T7.test(t)?t:""}catch(n){return""}}function Qa(n){return`${n.appName}!${n.appId}`}const Xa=new Map;function vO(n,e){const t=Qa(n);bO(t,e),function(n,e){const t=(!oo&&"BroadcastChannel"in self&&(oo=new BroadcastChannel("[Firebase] FID Change"),oo.onmessage=n=>{bO(n.data.key,n.data.fid)}),oo);t&&t.postMessage({key:n,fid:e}),0===Xa.size&&oo&&(oo.close(),oo=null)}(t,e)}function bO(n,e){const t=Xa.get(n);if(t)for(const i of t)i(e)}let oo=null;const ao="firebase-installations-store";let _v=null;function yv(){return _v||(_v=(0,Ya.openDb)("firebase-installations-database",1,n=>{0===n.oldVersion&&n.createObjectStore(ao)})),_v}function ff(n,e){return vv.apply(this,arguments)}function vv(){return vv=y(function*(n,e){const t=Qa(n),r=(yield yv()).transaction(ao,"readwrite"),s=r.objectStore(ao),o=yield s.get(t);return yield s.put(e,t),yield r.complete,(!o||o.fid!==e.fid)&&vO(n,e.fid),e}),vv.apply(this,arguments)}function bv(n){return Cv.apply(this,arguments)}function Cv(){return Cv=y(function*(n){const e=Qa(n),i=(yield yv()).transaction(ao,"readwrite");yield i.objectStore(ao).delete(e),yield i.complete}),Cv.apply(this,arguments)}function Qc(n,e){return wv.apply(this,arguments)}function wv(){return wv=y(function*(n,e){const t=Qa(n),r=(yield yv()).transaction(ao,"readwrite"),s=r.objectStore(ao),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield r.complete,a&&(!o||o.fid!==a.fid)&&vO(n,a.fid),a}),wv.apply(this,arguments)}function Ev(n){return Dv.apply(this,arguments)}function Dv(){return Dv=y(function*(n){let e;const t=yield Qc(n,i=>{const r=O7(i),s=P7(n,r);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),Dv.apply(this,arguments)}function O7(n){return DO(n||{fid:S7(),registrationStatus:0})}function P7(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(kr.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function(n,e){return Tv.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:F7(n)}:{installationEntry:e}}function Tv(){return Tv=y(function*(n,e){try{return ff(n,yield E7(n,e))}catch(t){throw pO(t)&&409===t.customData.serverCode?yield bv(n):yield ff(n,{fid:e.fid,registrationStatus:0}),t}}),Tv.apply(this,arguments)}function F7(n){return Sv.apply(this,arguments)}function Sv(){return Sv=y(function*(n){let e=yield EO(n);for(;1===e.registrationStatus;)yield yO(100),e=yield EO(n);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:i}=yield Ev(n);return i||t}return e}),Sv.apply(this,arguments)}function EO(n){return Qc(n,e=>{if(!e)throw kr.create("installation-not-found");return DO(e)})}function DO(n){return function(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function V7(n,e){return Iv.apply(this,arguments)}function Iv(){return Iv=y(function*({appConfig:n,platformLoggerProvider:e},t){const i=B7(n,t),r=_O(n,t),s=e.getImmediate({optional:!0});s&&r.append("x-firebase-client",s.getPlatformInfoString());const a={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:hO}})},l=yield fv(()=>fetch(i,a));if(l.ok)return mO(yield l.json());throw yield dv("Generate Auth Token",l)}),Iv.apply(this,arguments)}function B7(n,{fid:e}){return`${uv(n)}/${e}/authTokens:generate`}function Mv(n){return Av.apply(this,arguments)}function Av(){return Av=y(function*(n,e=!1){let t;const i=yield Qc(n.appConfig,s=>{if(!SO(s))throw kr.create("not-registered");const o=s.authToken;if(!e&&j7(o))return s;if(1===o.requestStatus)return t=H7(n,e),s;{if(!navigator.onLine)throw kr.create("app-offline");const a=z7(s);return t=U7(n,a),a}});return t?yield t:i.authToken}),Av.apply(this,arguments)}function H7(n,e){return kv.apply(this,arguments)}function kv(){return kv=y(function*(n,e){let t=yield TO(n.appConfig);for(;1===t.authToken.requestStatus;)yield yO(100),t=yield TO(n.appConfig);const i=t.authToken;return 0===i.requestStatus?Mv(n,e):i}),kv.apply(this,arguments)}function TO(n){return Qc(n,e=>{if(!SO(e))throw kr.create("not-registered");return function(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function U7(n,e){return Rv.apply(this,arguments)}function Rv(){return Rv=y(function*(n,e){try{const t=yield V7(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return yield ff(n.appConfig,i),t}catch(t){if(!pO(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield ff(n.appConfig,i)}else yield bv(n.appConfig);throw t}}),Rv.apply(this,arguments)}function SO(n){return void 0!==n&&2===n.registrationStatus}function j7(n){return 2===n.requestStatus&&!function(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function z7(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function xv(){return xv=y(function*(n){const e=n,{installationEntry:t,registrationPromise:i}=yield Ev(e.appConfig);return i?i.catch(console.error):Mv(e).catch(console.error),t.fid}),xv.apply(this,arguments)}function Ov(){return Ov=y(function*(n,e=!1){const t=n;return yield K7(t.appConfig),(yield Mv(t,e)).token}),Ov.apply(this,arguments)}function K7(n){return Pv.apply(this,arguments)}function Pv(){return Pv=y(function*(n){const{registrationPromise:e}=yield Ev(n);e&&(yield e)}),Pv.apply(this,arguments)}function Lv(n){return kr.create("missing-app-config-values",{valueName:n})}const IO="installations";Dn(new pn(IO,n=>{const e=n.getProvider("app").getImmediate(),t=function(n){if(!n||!n.options)throw Lv("App Configuration");if(!n.name)throw Lv("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Lv(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,platformLoggerProvider:ds(e,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),Dn(new pn("installations-internal",n=>{const t=ds(n.getProvider("app").getImmediate(),IO).getImmediate();return{getId:()=>function(n){return xv.apply(this,arguments)}(t),getToken:r=>function(n){return Ov.apply(this,arguments)}(t,r)}},"PRIVATE")),st(uO,"0.5.4"),st(uO,"0.5.4","esm2017");const Vv="@firebase/remote-config",Tn=new Zi("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class hY{constructor(e,t,i,r){this.client=e,this.storage=t,this.storageCache=i,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-t,r=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return y(function*(){const[i,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,i))return r;e.eTag=r&&r.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function fY(n=navigator){return n.languages&&n.languages[0]||n.language}class pY{constructor(e,t,i,r,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=i,this.projectId=r,this.apiKey=s,this.appId=o}fetch(e){var t=this;return y(function*(){const[i,r]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:t.sdkVersion,app_instance_id:i,app_instance_id_token:r,app_id:t.appId,language_code:fY()},c={method:"POST",headers:a,body:JSON.stringify(l)},u=fetch(o,c),d=new Promise((b,v)=>{e.signal.addEventListener(()=>{const S=new Error("The operation was aborted.");S.name="AbortError",v(S)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(b){let v="fetch-client-network";throw"AbortError"===b.name&&(v="fetch-timeout"),Tn.create(v,{originalErrorMessage:b.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,_;if(200===h.status){let b;try{b=yield h.json()}catch(v){throw Tn.create("fetch-client-parse",{originalErrorMessage:v.message})}g=b.entries,_=b.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(g={}),304!==f&&200!==f)throw Tn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class _Y{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return y(function*(){const i=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,i)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:i}){var r=this;return y(function*(){yield function(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(s),i(Tn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),s}catch(s){if(!function(n){if(!(n instanceof Xi&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+df(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(o),r.attemptFetch(e,o)}})()}}class bY{constructor(e,t,i,r,s){this.app=e,this._client=t,this._storageCache=i,this._storage=r,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function mf(n,e){const t=n.target.error||void 0;return Tn.create(e,{originalErrorMessage:t&&t.message})}const lo="app_namespace_store";class DY{constructor(e,t,i,r=function(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=i=>{e(mf(i,"storage-open"))},t.onsuccess=i=>{n(i.target.result)},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(lo,{keyPath:"compositeKey"})}}catch(t){e(Tn.create("storage-open",{originalErrorMessage:t}))}})}()){this.appId=e,this.appName=t,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return y(function*(){const i=yield t.openDbPromise;return new Promise((r,s)=>{const a=i.transaction([lo],"readonly").objectStore(lo),l=t.createCompositeKey(e);try{const c=a.get(l);c.onerror=u=>{s(mf(u,"storage-get"))},c.onsuccess=u=>{const d=u.target.result;r(d?d.value:void 0)}}catch(c){s(Tn.create("storage-get",{originalErrorMessage:c&&c.message}))}})})()}set(e,t){var i=this;return y(function*(){const r=yield i.openDbPromise;return new Promise((s,o)=>{const l=r.transaction([lo],"readwrite").objectStore(lo),c=i.createCompositeKey(e);try{const u=l.put({compositeKey:c,value:t});u.onerror=d=>{o(mf(d,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){o(Tn.create("storage-set",{originalErrorMessage:u&&u.message}))}})})()}delete(e){var t=this;return y(function*(){const i=yield t.openDbPromise;return new Promise((r,s)=>{const a=i.transaction([lo],"readwrite").objectStore(lo),l=t.createCompositeKey(e);try{const c=a.delete(l);c.onerror=u=>{s(mf(u,"storage-delete"))},c.onsuccess=()=>{r()}}catch(c){s(Tn.create("storage-delete",{originalErrorMessage:c&&c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class TY{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const t=e.storage.getLastFetchStatus(),i=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield i;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield r;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function IY(){return $v.apply(this,arguments)}function $v(){return($v=y(function*(){if(!io())return!1;try{return yield sf()}catch(n){return!1}})).apply(this,arguments)}Dn(new pn("remote-config",function(e,{instanceIdentifier:t}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Tn.create("registration-window");if(!io())throw Tn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=i.options;if(!s)throw Tn.create("registration-project-id");if(!o)throw Tn.create("registration-api-key");if(!a)throw Tn.create("registration-app-id");const l=new DY(a,i.name,t=t||"firebase"),c=new TY(l),u=new qa(Vv);u.logLevel=Ne.ERROR;const d=new pY(r,Ka,t,s,o,a),h=new _Y(d,l),f=new hY(h,l,c,u),p=new bY(i,f,c,l,u);return function(n){const e=Vt(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),st(Vv,"0.3.3"),st(Vv,"0.3.3","esm2017");const MY="/firebase-messaging-sw.js",AY="/firebase-cloud-messaging-push-scope",RO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xO="google.c.a.c_id",RY="google.c.a.c_l",xY="google.c.a.ts",OY="google.c.a.e";var Za=(()=>(function(n){n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked"}(Za||(Za={})),Za))();function Rr(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function PY(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(t),r=new Uint8Array(i.length);for(let s=0;s<i.length;++s)r[s]=i.charCodeAt(s);return r}const zv="fcm_token_details_db",OO="fcm_token_object_Store";function FY(n){return Wv.apply(this,arguments)}function Wv(){return Wv=y(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(zv))return null;let e=null;return(yield(0,Ya.openDb)(zv,5,function(){var i=y(function*(r){var s;if(r.oldVersion<2||!r.objectStoreNames.contains(OO))return;const o=r.transaction.objectStore(OO),a=yield o.index("fcmSenderId").get(n);if(yield o.clear(),a)if(2===r.oldVersion){const l=a;if(!l.auth||!l.p256dh||!l.endpoint)return;e={token:l.fcmToken,createTime:null!==(s=l.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:l.auth,p256dh:l.p256dh,endpoint:l.endpoint,swScope:l.swScope,vapidKey:"string"==typeof l.vapidKey?l.vapidKey:Rr(l.vapidKey)}}}else if(3===r.oldVersion){const l=a;e={token:l.fcmToken,createTime:l.createTime,subscriptionOptions:{auth:Rr(l.auth),p256dh:Rr(l.p256dh),endpoint:l.endpoint,swScope:l.swScope,vapidKey:Rr(l.vapidKey)}}}else if(4===r.oldVersion){const l=a;e={token:l.fcmToken,createTime:l.createTime,subscriptionOptions:{auth:Rr(l.auth),p256dh:Rr(l.p256dh),endpoint:l.endpoint,swScope:l.swScope,vapidKey:Rr(l.vapidKey)}}}});return function(r){return i.apply(this,arguments)}}())).close(),yield(0,Ya.deleteDb)(zv),yield(0,Ya.deleteDb)("fcm_vapid_details_db"),yield(0,Ya.deleteDb)("undefined"),LY(e)?e:null}),Wv.apply(this,arguments)}function LY(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const co="firebase-messaging-store";let Gv=null;function qv(){return Gv||(Gv=(0,Ya.openDb)("firebase-messaging-database",1,n=>{0===n.oldVersion&&n.createObjectStore(co)})),Gv}function PO(n){return Kv.apply(this,arguments)}function Kv(){return Kv=y(function*(n){const e=Zv(n),i=yield(yield qv()).transaction(co).objectStore(co).get(e);if(i)return i;{const r=yield FY(n.appConfig.senderId);if(r)return yield Yv(n,r),r}}),Kv.apply(this,arguments)}function Yv(n,e){return Qv.apply(this,arguments)}function Qv(){return Qv=y(function*(n,e){const t=Zv(n),r=(yield qv()).transaction(co,"readwrite");return yield r.objectStore(co).put(e,t),yield r.complete,e}),Qv.apply(this,arguments)}function HY(n){return Xv.apply(this,arguments)}function Xv(){return Xv=y(function*(n){const e=Zv(n),i=(yield qv()).transaction(co,"readwrite");yield i.objectStore(co).delete(e),yield i.complete}),Xv.apply(this,arguments)}function Zv({appConfig:n}){return n.appId}const Gt=new Zi("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function jY(n,e){return Jv.apply(this,arguments)}function Jv(){return Jv=y(function*(n,e){const t=yield ib(n),i=FO(e),r={method:"POST",headers:t,body:JSON.stringify(i)};let s;try{s=yield(yield fetch(nb(n.appConfig),r)).json()}catch(o){throw Gt.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw Gt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Gt.create("token-subscribe-no-token");return s.token}),Jv.apply(this,arguments)}function $Y(n,e){return eb.apply(this,arguments)}function eb(){return eb=y(function*(n,e){const t=yield ib(n),i=FO(e.subscriptionOptions),r={method:"PATCH",headers:t,body:JSON.stringify(i)};let s;try{s=yield(yield fetch(`${nb(n.appConfig)}/${e.token}`,r)).json()}catch(o){throw Gt.create("token-update-failed",{errorInfo:o})}if(s.error)throw Gt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Gt.create("token-update-no-token");return s.token}),eb.apply(this,arguments)}function NO(n,e){return tb.apply(this,arguments)}function tb(){return tb=y(function*(n,e){const i={method:"DELETE",headers:yield ib(n)};try{const s=yield(yield fetch(`${nb(n.appConfig)}/${e}`,i)).json();if(s.error)throw Gt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(r){throw Gt.create("token-unsubscribe-failed",{errorInfo:r})}}),tb.apply(this,arguments)}function nb({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function ib(n){return rb.apply(this,arguments)}function rb(){return rb=y(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})}),rb.apply(this,arguments)}function FO({p256dh:n,auth:e,endpoint:t,vapidKey:i}){const r={web:{endpoint:t,auth:e,p256dh:n}};return i!==RO&&(r.web.applicationPubKey=i),r}const zY=6048e5;function WY(n){return sb.apply(this,arguments)}function sb(){return sb=y(function*(n){const e=yield qY(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Rr(e.getKey("auth")),p256dh:Rr(e.getKey("p256dh"))},i=yield PO(n.firebaseDependencies);if(i){if(KY(i.subscriptionOptions,t))return Date.now()>=i.createTime+zY?GY(n,{token:i.token,createTime:Date.now(),subscriptionOptions:t}):i.token;try{yield NO(n.firebaseDependencies,i.token)}catch(r){console.warn(r)}return VO(n.firebaseDependencies,t)}return VO(n.firebaseDependencies,t)}),sb.apply(this,arguments)}function LO(n){return ob.apply(this,arguments)}function ob(){return ob=y(function*(n){const e=yield PO(n.firebaseDependencies);e&&(yield NO(n.firebaseDependencies,e.token),yield HY(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),ob.apply(this,arguments)}function GY(n,e){return ab.apply(this,arguments)}function ab(){return ab=y(function*(n,e){try{const t=yield $Y(n.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Yv(n.firebaseDependencies,i),t}catch(t){throw yield LO(n),t}}),ab.apply(this,arguments)}function VO(n,e){return lb.apply(this,arguments)}function lb(){return lb=y(function*(n,e){const i={token:yield jY(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Yv(n,i),i.token}),lb.apply(this,arguments)}function qY(n,e){return cb.apply(this,arguments)}function cb(){return cb=y(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:PY(e)})}),cb.apply(this,arguments)}function KY(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function BO(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcm_message_id};return function(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const i=e.notification.body;i&&(n.notification.body=i);const r=e.notification.image;r&&(n.notification.image=r)}(e,n),function(n,e){!e.data||(n.data=e.data)}(e,n),function(n,e){if(!e.fcmOptions)return;n.fcmOptions={};const t=e.fcmOptions.link;t&&(n.fcmOptions.link=t);const i=e.fcmOptions.analytics_label;i&&(n.fcmOptions.analyticsLabel=i)}(e,n),e}function ZY(n){return"object"==typeof n&&!!n&&xO in n}function HO(n,e){const t=[];for(let i=0;i<n.length;i++)t.push(n.charAt(i)),i<e.length&&t.push(e.charAt(i));return t.join("")}function ub(n){return Gt.create("missing-app-config-values",{valueName:n})}HO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),HO("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class e9{constructor(e,t,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(n){if(!n||!n.options)throw ub("App Configuration Object");if(!n.name)throw ub("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const i of e)if(!t[i])throw ub(i);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:i}}_delete(){return Promise.resolve()}}function UO(n){return db.apply(this,arguments)}function db(){return db=y(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(MY,{scope:AY}),n.swRegistration.update().catch(()=>{})}catch(e){throw Gt.create("failed-service-worker-registration",{browserErrorMessage:e.message})}}),db.apply(this,arguments)}function t9(n,e){return hb.apply(this,arguments)}function hb(){return hb=y(function*(n,e){if(!e&&!n.swRegistration&&(yield UO(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Gt.create("invalid-sw-registration");n.swRegistration=e}}),hb.apply(this,arguments)}function n9(n,e){return fb.apply(this,arguments)}function fb(){return fb=y(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=RO)}),fb.apply(this,arguments)}function pb(){return pb=y(function*(n,e){if(!navigator)throw Gt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Gt.create("permission-blocked");return yield n9(n,null==e?void 0:e.vapidKey),yield t9(n,null==e?void 0:e.serviceWorkerRegistration),WY(n)}),pb.apply(this,arguments)}function i9(n,e,t){return mb.apply(this,arguments)}function mb(){return mb=y(function*(n,e,t){const i=r9(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:t[xO],message_name:t[RY],message_time:t[xY],message_device_time:Math.floor(Date.now()/1e3)})}),mb.apply(this,arguments)}function r9(n){switch(n){case Za.NOTIFICATION_CLICKED:return"notification_open";case Za.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function gb(){return gb=y(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Za.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(BO(t)):n.onMessageHandler.next(BO(t)));const i=t.data;ZY(i)&&"1"===i[OY]&&(yield i9(n,t.messageType,i))}),gb.apply(this,arguments)}const $O="@firebase/messaging";function WO(){return _b.apply(this,arguments)}function _b(){return(_b=y(function*(){return"undefined"!=typeof window&&io()&&(yield sf())&&tv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}Dn(new pn("messaging",n=>{const e=new e9(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function(n,e){return gb.apply(this,arguments)}(e,t)),e},"PUBLIC")),Dn(new pn("messaging-internal",n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:i=>function(n,e){return pb.apply(this,arguments)}(e,i)}},"PRIVATE")),st($O,"0.9.4"),st($O,"0.9.4","esm2017");const gf="analytics",d9="firebase_id",p9="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",GO="https://www.googletagmanager.com/gtag/js",qt=new qa("@firebase/analytics");function qO(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function m9(n,e){const t=document.createElement("script");t.src=`${GO}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function _9(n,e,t,i,r,s){return bb.apply(this,arguments)}function bb(){return bb=y(function*(n,e,t,i,r,s){const o=i[r];try{if(o)yield e[o];else{const l=(yield qO(t)).find(c=>c.measurementId===r);l&&(yield e[l.appId])}}catch(a){qt.error(a)}n("config",r,s)}),bb.apply(this,arguments)}function y9(n,e,t,i,r){return Cb.apply(this,arguments)}function Cb(){return Cb=y(function*(n,e,t,i,r){try{let s=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const a=yield qO(t);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",i,r||{})}catch(s){qt.error(s)}}),Cb.apply(this,arguments)}function C9(){const n=window.document.getElementsByTagName("script");for(const e of Object.values(n))if(e.src&&e.src.includes(GO))return e;return null}const $n=new Zi("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),KO=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function S9(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function I9(n){return wb.apply(this,arguments)}function wb(){return wb=y(function*(n){var e;const{appId:t,apiKey:i}=n,r={method:"GET",headers:S9(i)},s=p9.replace("{app-id}",t),o=yield fetch(s,r);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();(null===(e=l.error)||void 0===e?void 0:e.message)&&(a=l.error.message)}catch(l){}throw $n.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}),wb.apply(this,arguments)}function M9(n){return Eb.apply(this,arguments)}function Eb(){return Eb=y(function*(n,e=KO,t){const{appId:i,apiKey:r,measurementId:s}=n.options;if(!i)throw $n.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw $n.create("no-api-key")}const o=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new R9;return setTimeout(y(function*(){a.abort()}),void 0!==t?t:6e4),YO({appId:i,apiKey:r,measurementId:s},o,a,e)}),Eb.apply(this,arguments)}function YO(n,e,t){return Db.apply(this,arguments)}function Db(){return Db=y(function*(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=KO){const{appId:s,measurementId:o}=n;try{yield A9(i,e)}catch(a){if(o)return qt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield I9(n);return r.deleteThrottleMetadata(s),a}catch(a){if(!k9(a)){if(r.deleteThrottleMetadata(s),o)return qt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const l=503===Number(a.customData.httpStatus)?df(t,r.intervalMillis,30):df(t,r.intervalMillis),c={throttleEndTimeMillis:Date.now()+l,backoffCount:t+1};return r.setThrottleMetadata(s,c),qt.debug(`Calling attemptFetch again in ${l} millis`),YO(n,c,i,r)}}),Db.apply(this,arguments)}function A9(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(s),i($n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function k9(n){if(!(n instanceof Xi&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class R9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function x9(){return Tb.apply(this,arguments)}function Tb(){return Tb=y(function*(){if(!io())return qt.warn($n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield sf()}catch(n){return qt.warn($n.create("indexeddb-unavailable",{errorInfo:n}).message),!1}return!0}),Tb.apply(this,arguments)}function Sb(){return Sb=y(function*(n,e,t,i,r,s,o){var a;const l=M9(n);l.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&qt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>qt.error(f)),e.push(l);const c=x9().then(f=>{if(f)return i.getId()}),[u,d]=yield Promise.all([l,c]);C9()||m9(s,u.measurementId),r("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[d9]=d),r("config",u.measurementId,h),u.measurementId}),Sb.apply(this,arguments)}class P9{constructor(e){this.app=e}_delete(){return delete xr[this.app.options.appId],Promise.resolve()}}let xr={},QO=[];const XO={};let JO,Xc,_f="dataLayer",Ib=!1;function F9(n,e,t){!function(){const n=[];if(ev()&&n.push("This is a browser extension environment."),tv()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=$n.create("invalid-analytics-context",{errorInfo:e});qt.warn(t.message)}}();const i=n.options.appId;if(!i)throw $n.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw $n.create("no-api-key");qt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=xr[i])throw $n.create("already-exists",{id:i});if(!Ib){!function(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(_f);const{wrappedGtag:s,gtagCore:o}=function(n,e,t,i,r){let s=function(...o){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(s=window[r]),window[r]=function(n,e,t,i){function s(){return(s=y(function*(o,a,l){try{"event"===o?yield y9(n,e,t,a,l):"config"===o?yield _9(n,e,t,i,a,l):n("set",a)}catch(c){qt.error(c)}})).apply(this,arguments)}return function(o,a,l){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[r]}}(xr,QO,XO,_f,"gtag");Xc=s,JO=o,Ib=!0}return xr[i]=function(n,e,t,i,r,s,o){return Sb.apply(this,arguments)}(n,QO,XO,e,JO,_f,t),new P9(n)}function Mb(){return Mb=y(function*(n,e,t,i,r){if(r&&r.global)n("event",t,i);else{const s=yield e;n("event",t,Object.assign(Object.assign({},i),{send_to:s}))}}),Mb.apply(this,arguments)}function $9(){return Ob.apply(this,arguments)}function Ob(){return(Ob=y(function*(){if(ev()||!tv()||!io())return!1;try{return yield sf()}catch(n){return!1}})).apply(this,arguments)}const eP="@firebase/analytics";Dn(new pn(gf,(e,{options:t})=>F9(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Dn(new pn("analytics-internal",function(e){try{const t=e.getProvider(gf).getImmediate();return{logEvent:(i,r,s)=>function(n,e,t,i){n=Vt(n),function(n,e,t,i,r){return Mb.apply(this,arguments)}(Xc,xr[n.app.options.appId],e,t,i).catch(r=>qt.error(r))}(t,i,r,s)}}catch(t){throw $n.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),st(eP,"0.7.4"),st(eP,"0.7.4","esm2017");class G9 extends Ae{constructor(e,t){super()}schedule(e,t=0){return this}}const yf={setInterval(...n){const{delegate:e}=yf;return((null==e?void 0:e.setInterval)||setInterval)(...n)},clearInterval(n){const{delegate:e}=yf;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class vf extends G9{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,i=0){return yf.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;yf.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ho(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const nP={now:()=>(nP.delegate||Date).now(),delegate:void 0};class Zc{constructor(e,t=Zc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Zc.now=nP.now;class bf extends Zc{constructor(e,t=Zc.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const Y9=new class extends bf{}(class extends vf{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):e.flush(this)}}),Cf=new bf(vf),iP=Cf,Jc=new br("7.2.0"),Pb="__angularfire_symbol__analyticsIsSupported",Nb="__angularfire_symbol__remoteConfigIsSupported",Fb="__angularfire_symbol__messagingIsSupported";function Vb(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[Pb]||(globalThis[Pb]=$9().then(n=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=n)),globalThis[Fb]||(globalThis[Fb]=WO().then(n=>globalThis.__angularfire_symbol__messagingIsSupportedValue=n)),globalThis[Nb]||(globalThis[Nb]=IY().then(n=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=n));const Bb=(n,e)=>{const t=e?[e]:cO(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i};function Ja(){}class aP{constructor(e,t=Y9){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(o){r.runGuarded(()=>{e.apply(this,[o])})},t,i)}}class Q9{constructor(e){this.zone=e,this.task=null}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ja,{},Ja,Ja)),t.pipe(Ft({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let wf=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new aP(Zone.current)),this.insideAngular=t.run(()=>new aP(Zone.current,Cf)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(C(ee))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uo(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function X9(n){return uo().ngZone.runOutsideAngular(()=>n())}function ho(n){return uo().ngZone.run(()=>n())}function Z9(n){return uo(),function(n){return function(t){return(t=t.lift(new Q9(n.ngZone))).pipe(_d(n.outsideAngular),gd(n.insideAngular))}}(uo())(n)}const eQ=(n,e)=>{const t=void 0;return function(){return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ho(()=>n.apply(t,arguments))}},Sn=(n,e)=>function(){let t;for(let r=0;r<arguments.length;r++)"function"==typeof arguments[r]&&(e&&(t||(t=ho(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ja,{},Ja,Ja)))),arguments[r]=eQ(arguments[r],t));const i=X9(()=>n.apply(this,arguments));if(!e){if(i instanceof Ee){const r=uo();return i.pipe(_d(r.outsideAngular),gd(r.insideAngular))}return ho(()=>i)}return i instanceof Ee?i.pipe(Z9):i instanceof Promise?ho(()=>new Promise((r,s)=>i.then(o=>ho(()=>r(o)),o=>ho(()=>s(o))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:ho(()=>i)};class el{constructor(e){return e}}class Ef{constructor(){return cO()}}const Hb=new M("angularfire2._apps"),nQ={provide:el,useFactory:function(n){return n&&1===n.length?n[0]:new el(Yc())},deps:[[new tt,Hb]]},iQ={provide:Ef,deps:[[new tt,Hb]]};function rQ(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new el(i)}}let lP=(()=>{class n{constructor(t){st("angularfire",Jc.full,"core"),st("angularfire",Jc.full,"app"),st("angular",rk.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(C(Ks))},n.\u0275mod=Q({type:n}),n.\u0275inj=W({providers:[nQ,iQ]}),n})();function sQ(n,...e){return{ngModule:lP,providers:[{provide:Hb,useFactory:rQ(n),multi:!0,deps:[ee,Ze,wf,...e]}]}}const oQ=Sn(Yc,!0),aQ=Sn(h7,!0),cP=new Map,lQ={activated:!1,tokenObservers:[]},cQ={initialized:!1,enabled:!1};function Bt(n){return cP.get(n)||lQ}function Si(n,e){cP.set(n,e)}function Df(){return cQ}const Ub="https://content-firebaseappcheck.googleapis.com/v1beta";class pQ{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return y(function*(){t.stop();try{t.pending=new us,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new us,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const mn=new Zi("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Tf(n=!1){var e;return n?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function dP(n){if(!Bt(n).activated)throw mn.create("use-before-activation",{appName:n.name})}function _Q(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const e=16*Math.random()|0;return("x"===n?e:3&e|8).toString(16)})}function jb(n){const e=Math.round(n/1e3),t=Math.floor(e/86400),i=Math.floor((e-3600*t*24)/3600),r=Math.floor((e-3600*t*24-3600*i)/60),s=e-3600*t*24-3600*i-60*r;let o="";return t&&(o+=Sf(t)+"d:"),i&&(o+=Sf(i)+"h:"),o+=Sf(r)+"m:"+Sf(s)+"s",o}function Sf(n){return 0===n?"00":n>=10?n.toString():"0"+n}function $b(n,e){return zb.apply(this,arguments)}function zb(){return zb=y(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});r&&(i["X-Firebase-Client"]=r.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(e),headers:i};let o,a;try{o=yield fetch(n,s)}catch(d){throw mn.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw mn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw mn.create("fetch-parse-error",{originalErrorMessage:d.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw mn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.attestationToken,expireTimeMillis:u+c,issuedAtTimeMillis:u}}),zb.apply(this,arguments)}function bQ(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${Ub}/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const eu="firebase-app-check-store",hP="debug-token";let If=null;function fP(){return If||(If=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(mn.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(eu,{keyPath:"compositeKey"})}}catch(t){e(mn.create("storage-open",{originalErrorMessage:t.message}))}}),If)}function EQ(n){return mP(gP(n))}function TQ(n){return pP(hP,n)}function SQ(){return mP(hP)}function pP(n,e){return Wb.apply(this,arguments)}function Wb(){return Wb=y(function*(n,e){const i=(yield fP()).transaction(eu,"readwrite"),s=i.objectStore(eu).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},i.onerror=l=>{var c;a(mn.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})}),Wb.apply(this,arguments)}function mP(n){return Gb.apply(this,arguments)}function Gb(){return Gb=y(function*(n){const t=(yield fP()).transaction(eu,"readonly"),r=t.objectStore(eu).get(n);return new Promise((s,o)=>{r.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},t.onerror=a=>{var l;o(mn.create("storage-get",{originalErrorMessage:null===(l=a.target.error)||void 0===l?void 0:l.message}))}})}),Gb.apply(this,arguments)}function gP(n){return`${n.options.appId}-${n.name}`}const tu=new qa("@firebase/app-check");function qb(){return qb=y(function*(n){if(io()){let e;try{e=yield EQ(n)}catch(t){tu.warn(`Failed to read token from IndexedDB. Error: ${t}`)}return e}}),qb.apply(this,arguments)}function _P(n,e){return io()?function(n,e){return pP(gP(n),e)}(n,e).catch(t=>{tu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Kb(){return Kb=y(function*(){let n;try{n=yield SQ()}catch(e){}if(n)return n;{const e=_Q();return TQ(e).catch(t=>tu.warn(`Failed to persist debug token to IndexedDB. Error: ${t}`)),e}}),Kb.apply(this,arguments)}function yP(){return Df().enabled}function vP(){return Yb.apply(this,arguments)}function Yb(){return Yb=y(function*(){const n=Df();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Yb.apply(this,arguments)}const kQ={error:"UNKNOWN_ERROR"};function RQ(n){return rf.encodeString(JSON.stringify(n),!1)}function Mf(n){return Qb.apply(this,arguments)}function Qb(){return Qb=y(function*(n,e=!1){const t=n.app;dP(t);const i=Bt(t);let s,r=i.token;if(!r){const l=yield i.cachedTokenPromise;l&&Af(l)&&(r=l)}if(!e&&r&&Af(r))return{token:r.token};let a,o=!1;if(yP()){i.exchangeTokenPromise||(i.exchangeTokenPromise=$b(bQ(t,yield vP()),n.platformLoggerProvider).then(c=>(i.exchangeTokenPromise=void 0,c)),o=!0);const l=yield i.exchangeTokenPromise;return yield _P(t,l),Si(t,Object.assign(Object.assign({},i),{token:l})),{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(l=>(i.exchangeTokenPromise=void 0,l)),o=!0),r=yield i.exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?tu.warn(l.message):tu.error(l),s=l}return r?(a={token:r.token},Si(t,Object.assign(Object.assign({},i),{token:r})),yield _P(t,r)):a=OQ(s),o&&CP(t,a),a}),Qb.apply(this,arguments)}function Xb(n,e,t,i){const{app:r}=n,s=Bt(r),o={next:t,error:i,type:e};if(Si(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&Af(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),bP(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>bP(n))}function Zb(n,e){const t=Bt(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Si(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function bP(n){const{app:e}=n,t=Bt(e);let i=t.tokenRefresher;i||(i=function(n){const{app:e}=n;return new pQ(y(function*(){let i;if(i=Bt(e).token?yield Mf(n,!0):yield Mf(n),i.error)throw i.error}),()=>!0,()=>{const t=Bt(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Si(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function CP(n,e){const t=Bt(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function Af(n){return n.expireTimeMillis-Date.now()>0}function OQ(n){return{token:RQ(kQ),error:n}}class PQ{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Bt(this.app);for(const t of e)Zb(this.app,t.next);return Promise.resolve()}}function UQ(n,e){const t=Bt(n),i=new us;Si(n,Object.assign(Object.assign({},t),{reCAPTCHAState:{initialized:i}}));const r=function(n){const e=`fire_app_check_${n.name}`,t=document.createElement("div");return t.id=e,t.style.display="none",document.body.appendChild(t),e}(n),s=Tf(!1);return s?kf(n,e,s,r,i):function(n){const e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.onload=n,document.head.appendChild(e)}(()=>{const o=Tf(!1);if(!o)throw new Error("no recaptcha");kf(n,e,o,r,i)}),i.promise}function kf(n,e,t,i,r){t.ready(()=>{(function(n,e,t,i){const r=t.render(i,{sitekey:e,size:"invisible"}),s=Bt(n);Si(n,Object.assign(Object.assign({},s),{reCAPTCHAState:Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:r})}))})(n,e,t,i),r.resolve(t)})}function Jb(){return Jb=y(function*(n){dP(n);const t=yield Bt(n).reCAPTCHAState.initialized.promise;return new Promise((i,r)=>{const s=Bt(n).reCAPTCHAState;t.ready(()=>{i(t.execute(s.widgetId,{action:"fire_app_check"}))})})}),Jb.apply(this,arguments)}class eC{constructor(e){this._siteKey=e,this._throttleData=null}getToken(){var e=this;return y(function*(){var t;!function(n){if(n&&Date.now()-n.allowRequestsAfter<=0)throw mn.create("throttled",{time:jb(n.allowRequestsAfter-Date.now()),httpStatus:n.httpStatus})}(e._throttleData);const i=yield function(n){return Jb.apply(this,arguments)}(e._app).catch(s=>{throw mn.create("recaptcha-error")});let r;try{r=yield $b(function(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${Ub}/projects/${t}/apps/${i}:exchangeRecaptchaToken?key=${r}`,body:{recaptcha_token:e}}}(e._app,i),e._platformLoggerProvider)}catch(s){throw"fetch-status-error"===s.code?(e._throttleData=function(n,e){if(404===n||403===n)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:n};{const t=e?e.backoffCount:0,i=df(t,1e3,2);return{backoffCount:t+1,allowRequestsAfter:Date.now()+i,httpStatus:n}}}(Number(null===(t=s.customData)||void 0===t?void 0:t.httpStatus),e._throttleData),mn.create("throttled",{time:jb(e._throttleData.allowRequestsAfter-Date.now()),httpStatus:e._throttleData.httpStatus})):s}return e._throttleData=null,r})()}initialize(e){this._app=e,this._platformLoggerProvider=ds(e,"platform-logger"),UQ(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof eC&&this._siteKey===e._siteKey}}function GQ(n=Yc(),e){const t=ds(n=Vt(n),"app-check");if(Df().initialized||function(){const n=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}(),e=Df();if(e.initialized=!0,"string"!=typeof n.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==n.FIREBASE_APPCHECK_DEBUG_TOKEN)return;e.enabled=!0;const t=new us;e.token=t,t.resolve("string"==typeof n.FIREBASE_APPCHECK_DEBUG_TOKEN?n.FIREBASE_APPCHECK_DEBUG_TOKEN:function(){return Kb.apply(this,arguments)}())}(),yP()&&vP().then(r=>console.log(`App Check debug token: ${r}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),t.isInitialized()){const r=t.getImmediate(),s=t.getOptions();if(s.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&s.provider.isEqual(e.provider))return r;throw mn.create("already-initialized",{appName:n.name})}const i=t.initialize({options:e});return function(n,e,t){const i=Bt(n),r=Object.assign(Object.assign({},i),{activated:!0});r.provider=e,r.cachedTokenPromise=function(n){return qb.apply(this,arguments)}(n).then(s=>(s&&Af(s)&&(Si(n,Object.assign(Object.assign({},Bt(n)),{token:s})),CP(n,{token:s.token})),s)),r.isTokenAutoRefreshEnabled=void 0===t?n.automaticDataCollectionEnabled:t,Si(n,r),r.provider.initialize(n)}(n,e.provider,e.isTokenAutoRefreshEnabled),Bt(n).isTokenAutoRefreshEnabled&&Xb(i,"INTERNAL",()=>{}),i}const MP="app-check-internal";Dn(new pn("app-check",n=>function(n,e){return new PQ(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(MP).initialize()})),Dn(new pn(MP,n=>function(n){return{getToken:e=>Mf(n,e),addTokenListener:e=>Xb(n,"INTERNAL",e),removeTokenListener:e=>Zb(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),st("@firebase/app-check","0.5.2");const AP="app-check";class nC{constructor(e){return e}}class iC{constructor(){return Bb(AP)}}const rC=new M("angularfire2.app-check-instances"),XQ="undefined"!=typeof window&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname);function ZQ(n){return(e,t,i)=>{var r;!function(n){return"server"===n}(i)&&(tR=!0,eR||XQ)&&(null!==(r=globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN)&&void 0!==r||(globalThis.FIREBASE_APPCHECK_DEBUG_TOKEN=!0));const s=e.runOutsideAngular(()=>n(t));return new nC(s)}}const JQ={provide:iC,deps:[[new tt,rC]]},eX={provide:nC,useFactory:function(n,e){const t=Vb(AP,n,e);return t&&new nC(t)},deps:[[new tt,rC],el,Ks]};let kP=(()=>{class n{constructor(){st("angularfire",Jc.full,"app-check")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({providers:[eX,JQ]}),n})();function tX(n,...e){return{ngModule:kP,providers:[{provide:rC,useFactory:ZQ(n),multi:!0,deps:[ee,Ze,Ks,wf,Ef,...e]}]}}const nX=Sn(GQ,!0);function xP(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}const sX=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},FP=new Zi("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),LP=new qa("@firebase/auth");function xf(n,...e){LP.logLevel<=Ne.ERROR&&LP.error(`Auth (9.6.1): ${n}`,...e)}function In(n,...e){throw oC(n,...e)}function Ji(n,...e){return oC(n,...e)}function VP(n,e,t){const i=Object.assign(Object.assign({},sX()),{[e]:t});return new Zi("auth","Firebase",i).create(e,{appName:n.name})}function oC(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return FP.create(n,...e)}function A(n,e,...t){if(!n)throw oC(e,...t)}function er(n){const e="INTERNAL ASSERTION FAILED: "+n;throw xf(e),new Error(e)}function hs(n,e){n||er(e)}const BP=new Map;function Or(n){hs(n instanceof Function,"Expected a class definition");let e=BP.get(n);return e?(hs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,BP.set(n,e),e)}function nu(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function HP(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class iu{constructor(e,t){this.shortDelay=e,this.longDelay=t,hs(t>e,"Short delay should be less than long delay!"),this.isMobile=Jy()||sO()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===HP()||"https:"===HP()||ev()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function lC(n,e){hs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class UP{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const uX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},dX=new iu(3e4,6e4);function Rt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ht(n,e,t,i){return cC.apply(this,arguments)}function cC(){return cC=y(function*(n,e,t,i,r={}){return jP(n,r,y(function*(){let s={},o={};i&&("GET"===e?o=i:s={body:JSON.stringify(i)});const a=Wc(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),UP.fetch()($P(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))}),cC.apply(this,arguments)}function jP(n,e,t){return uC.apply(this,arguments)}function uC(){return uC=y(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},uX),e);try{const r=new hX(n),s=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Of(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Of(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw Of(n,"email-already-in-use",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw VP(n,u,c);In(n,u)}}catch(r){if(r instanceof Xi)throw r;In(n,"network-request-failed")}}),uC.apply(this,arguments)}function Pr(n,e,t,i){return dC.apply(this,arguments)}function dC(){return dC=y(function*(n,e,t,i,r={}){const s=yield Ht(n,e,t,i,r);return"mfaPendingCredential"in s&&In(n,"multi-factor-auth-required",{_serverResponse:s}),s}),dC.apply(this,arguments)}function $P(n,e,t,i){const r=`${e}${t}?${i}`;return n.config.emulator?lC(n.config,r):`${n.config.apiScheme}://${r}`}class hX{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ji(this.auth,"timeout")),dX.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Of(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Ji(n,e,i);return r.customData._tokenResponse=t,r}function hC(){return hC=y(function*(n,e){return Ht(n,"POST","/v1/accounts:delete",e)}),hC.apply(this,arguments)}function mX(n,e){return pC.apply(this,arguments)}function pC(){return pC=y(function*(n,e){return Ht(n,"POST","/v1/accounts:lookup",e)}),pC.apply(this,arguments)}function ru(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function gX(n,e=!1){return Vt(n).getIdToken(e)}function mC(){return mC=y(function*(n,e=!1){const t=Vt(n),i=yield t.getIdToken(e),r=Pf(i);A(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:ru(gC(r.auth_time)),issuedAtTime:ru(gC(r.iat)),expirationTime:ru(gC(r.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}),mC.apply(this,arguments)}function gC(n){return 1e3*Number(n)}function Pf(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return xf("JWT malformed, contained fewer than 3 sections"),null;try{const r=Zy(t);return r?JSON.parse(r):(xf("Failed to decode base64 JWT payload"),null)}catch(r){return xf("Caught error parsing JWT payload as JSON",r),null}}function Nr(n,e){return _C.apply(this,arguments)}function _C(){return _C=y(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof Xi&&vX(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}}),_C.apply(this,arguments)}function vX({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class bX{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield t.iteration()}),i)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class zP{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function su(n){return yC.apply(this,arguments)}function yC(){return yC=y(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),r=yield Nr(n,mX(t,{idToken:i}));A(null==r?void 0:r.users.length,t,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?EX(s.providerUserInfo):[],a=wX(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new zP(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),yC.apply(this,arguments)}function vC(){return vC=y(function*(n){const e=Vt(n);yield su(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),vC.apply(this,arguments)}function wX(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function EX(n){return n.map(e=>{var{providerId:t}=e,i=xP(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function bC(){return bC=y(function*(n,e){const t=yield jP(n,{},y(function*(){const i=Wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=$P(n,r,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",UP.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}),bC.apply(this,arguments)}class ou{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(void 0!==e.idToken,"internal-error"),A(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(n){const e=Pf(n);return A(e,"internal-error"),A(void 0!==e.exp,"internal-error"),A(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return y(function*(){return A(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return y(function*(){const{accessToken:r,refreshToken:s,expiresIn:o}=yield function(n,e){return bC.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(r,s,Number(o))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:s}=t,o=new ou;return i&&(A("string"==typeof i,"internal-error",{appName:e}),o.refreshToken=i),r&&(A("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ou,this.toJSON())}_performRefresh(){return er("not implemented")}}function fs(n,e){A("string"==typeof n||void 0===n,"internal-error",{appName:e})}class fo{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=xP(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new bX(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.metadata=new zP(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return y(function*(){const i=yield Nr(t,t.stsTokenManager.getToken(t.auth,e));return A(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function(n){return mC.apply(this,arguments)}(this,e)}reload(){return function(n){return vC.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new fo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return y(function*(){let r=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield su(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return y(function*(){const t=yield e.getIdToken();return yield Nr(e,function(n,e){return hC.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,o,a,l,c,u;const d=null!==(i=t.displayName)&&void 0!==i?i:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,_=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,b=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:S,emailVerified:x,isAnonymous:G,providerData:Be,stsTokenManager:Qe}=t;A(S&&Qe,e,"internal-error");const vn=ou.fromJSON(this.name,Qe);A("string"==typeof S,e,"internal-error"),fs(d,e.name),fs(h,e.name),A("boolean"==typeof x,e,"internal-error"),A("boolean"==typeof G,e,"internal-error"),fs(f,e.name),fs(p,e.name),fs(g,e.name),fs(_,e.name),fs(b,e.name),fs(v,e.name);const Qt=new fo({uid:S,auth:e,email:h,emailVerified:x,displayName:d,isAnonymous:G,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:vn,createdAt:b,lastLoginAt:v});return Be&&Array.isArray(Be)&&(Qt.providerData=Be.map(bn=>Object.assign({},bn))),_&&(Qt._redirectEventId=_),Qt}static _fromIdTokenResponse(e,t,i=!1){return y(function*(){const r=new ou;r.updateFromServerResponse(t);const s=new fo({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield su(s),s})()}}const WP=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(t,i){var r=this;return y(function*(){r.storage[t]=i})()}_get(t){var i=this;return y(function*(){const r=i.storage[t];return void 0===r?null:r})()}_remove(t){var i=this;return y(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function Nf(n,e,t){return`firebase:${n}:${e}:${t}`}class nl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Nf(this.userKey,r.apiKey,s),this.fullPersistenceKey=Nf("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?fo._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return y(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return y(function*(){if(!t.length)return new nl(Or(WP),e,i);const r=(yield Promise.all(t.map(function(){var c=y(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=r[0]||Or(WP);const o=Nf(i,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(o);if(u){const d=fo._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch(u){}const l=r.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=y(function*(u){if(u!==s)try{yield u._remove(o)}catch(d){}});return function(u){return c.apply(this,arguments)}}())),new nl(s,e,i)):new nl(s,e,i)})()}}function GP(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XP(e))return"Blackberry";if(ZP(e))return"Webos";if(CC(e))return"Safari";if((e.includes("chrome/")||KP(e))&&!e.includes("edge/"))return"Chrome";if(QP(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==i?void 0:i.length))return i[1]}return"Other"}function qP(n=Lt()){return/firefox\//i.test(n)}function CC(n=Lt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KP(n=Lt()){return/crios\//i.test(n)}function YP(n=Lt()){return/iemobile/i.test(n)}function QP(n=Lt()){return/android/i.test(n)}function XP(n=Lt()){return/blackberry/i.test(n)}function ZP(n=Lt()){return/webos/i.test(n)}function Ff(n=Lt()){return/iphone|ipad|ipod/i.test(n)}function JP(n=Lt()){return Ff(n)||QP(n)||ZP(n)||XP(n)||/windows phone/i.test(n)||YP(n)}function eN(n,e=[]){let t;switch(n){case"Browser":t=GP(Lt());break;case"Worker":t=`${GP(Lt())}-${n}`;break;default:t=n}return`${t}/JsCore/9.6.1/${e.length?e.join(","):"FirebaseCore-web"}`}class MX{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tN(this),this.idTokenSubscription=new tN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FP,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=Or(t)),this._initializationPromise=this.queue(y(function*(){var r,s;if(!i._deleted&&(i.persistenceManager=yield nl.create(i,e),!i._deleted)){if(null===(r=i._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch(o){}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(s=i.currentUser)||void 0===s?void 0:s.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t)}})()}initializeCurrentUser(e){var t=this;return y(function*(){var i;let r=yield t.assertedPersistence.getCurrentUser();if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const s=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,o=null==r?void 0:r._redirectEventId,a=yield t.tryRedirectSignIn(e);(!s||s===o)&&(null==a?void 0:a.user)&&(r=a.user)}return r?r._redirectEventId?(A(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===r._redirectEventId?t.directlySetCurrentUser(r):t.reloadAndSetCurrentUserOrClear(r)):t.reloadAndSetCurrentUserOrClear(r):t.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var t=this;return y(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(r){yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return y(function*(){try{yield su(e)}catch(i){if("auth/network-request-failed"!==i.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return y(function*(){const i=e?Vt(e):null;return i&&A(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e){var t=this;return y(function*(){if(!t._deleted)return e&&A(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue(y(function*(){yield t.directlySetCurrentUser(e),t.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var t=this;return this.queue(y(function*(){yield t.assertedPersistence.setPersistence(Or(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zi("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return y(function*(){const r=yield i.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return y(function*(){if(!t.redirectPersistenceManager){const i=e&&Or(e)||t._popupRedirectResolver;A(i,t,"argument-error"),t.redirectPersistenceManager=yield nl.create(t,[Or(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return y(function*(){var i,r;return t._isInitialized&&(yield t.queue(y(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return y(function*(){if(e===t.currentUser)return t.queue(y(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,i,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return y(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){const t={"X-Client-Version":e.clientVersion};return e.app.options.appId&&(t["X-Firebase-gmpid"]=e.app.options.appId),t})()}}function Mn(n){return Vt(n)}class tN{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(n,e){const t=new bK(n,void 0);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class rN{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,t){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}}function EC(){return EC=y(function*(n,e){return Ht(n,"POST","/v1/accounts:update",e)}),EC.apply(this,arguments)}function TC(){return TC=y(function*(n,e){return Pr(n,"POST","/v1/accounts:signInWithPassword",Rt(n,e))}),TC.apply(this,arguments)}function RC(){return RC=y(function*(n,e){return Pr(n,"POST","/v1/accounts:signInWithEmailLink",Rt(n,e))}),RC.apply(this,arguments)}function xC(){return xC=y(function*(n,e){return Pr(n,"POST","/v1/accounts:signInWithEmailLink",Rt(n,e))}),xC.apply(this,arguments)}class au extends rN{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new au(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new au(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return y(function*(){switch(t.signInMethod){case"password":return function(n,e){return TC.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function(n,e){return RC.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:In(e,"internal-error")}})()}_linkToIdToken(e,t){var i=this;return y(function*(){switch(i.signInMethod){case"password":return function(n,e){return EC.apply(this,arguments)}(e,{idToken:t,returnSecureToken:!0,email:i._email,password:i._password});case"emailLink":return function(n,e){return xC.apply(this,arguments)}(e,{idToken:t,email:i._email,oobCode:i._password});default:In(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Fr(n,e){return OC.apply(this,arguments)}function OC(){return OC=y(function*(n,e){return Pr(n,"POST","/v1/accounts:signInWithIdp",Rt(n,e))}),OC.apply(this,arguments)}class uu{constructor(e){var t,i,r,s,o,a;const l=Gc(qc(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(i=l.oobCode)&&void 0!==i?i:null,d=function(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);A(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(n){const e=Gc(qc(n)).link,t=e?Gc(qc(e)).deep_link_id:null,i=Gc(qc(n)).deep_link_id;return(i?Gc(qc(i)).link:null)||i||t||e||n}(e);try{return new uu(t)}catch(i){return null}}}let aN=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return au._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=uu.parseLink(i);return A(r,"argument-error"),au._fromEmailAndCode(t,r.code,r.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class ps{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class KX extends ps{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class oi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return y(function*(){const s=yield fo._fromIdTokenResponse(e,i,r),o=cN(i);return new oi({user:s,providerId:o,_tokenResponse:i,operationType:t})})()}static _forOperation(e,t,i){return y(function*(){yield e._updateTokensIfNecessary(i,!0);const r=cN(i);return new oi({user:e,providerId:r,_tokenResponse:i,operationType:t})})()}}function cN(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Bf extends Xi{constructor(e,t,i,r){var s;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Bf.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new Bf(e,t,i,r)}}function uN(n,e,t,i){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Bf._fromErrorAndOperation(n,s,e,i):s})}function jC(n,e){return $C.apply(this,arguments)}function $C(){return $C=y(function*(n,e,t=!1){const i=yield Nr(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return oi._forOperation(n,"link",i)}),$C.apply(this,arguments)}function WC(){return WC=y(function*(n,e,t=!1){const{auth:i}=n,r="reauthenticate";try{const s=yield Nr(n,uN(i,r,e,n),t);A(s.idToken,i,"internal-error");const o=Pf(s.idToken);A(o,i,"internal-error");const{sub:a}=o;return A(n.uid===a,i,"user-mismatch"),oi._forOperation(n,r,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&In(i,"user-mismatch"),s}}),WC.apply(this,arguments)}function fN(n,e){return GC.apply(this,arguments)}function GC(){return GC=y(function*(n,e,t=!1){const i="signIn",r=yield uN(n,i,e),s=yield oi._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(s.user)),s}),GC.apply(this,arguments)}function KC(){return KC=y(function*(n,e){return fN(Mn(n),e)}),KC.apply(this,arguments)}function tZ(n,e,t){return function(n,e){return KC.apply(this,arguments)}(Vt(n),aN.credential(e,t))}function uZ(n,e,t,i){return Vt(n).onAuthStateChanged(e,t,i)}function dZ(n){return Vt(n).signOut()}new WeakMap;const jf="__sak";class mN{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(jf,"1"),this.storage.removeItem(jf),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const yZ=(()=>{class n extends mN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const n=Lt();return CC(n)||Ff(n)}()&&function(){try{return!(!window||window===window.top)}catch(n){return!1}}(),this.fallbackToPolling=JP(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),s=this.localCache[i];r!==s&&t(i,s,r)}}onStorageEvent(t,i=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const r=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!i)return}const s=()=>{const a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);!function(){const n=Lt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()||10!==document.documentMode||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,i){var r=()=>super._set,s=this;return y(function*(){yield r().call(s,t,i),s.localCache[t]=JSON.stringify(i)})()}_get(t){var i=()=>super._get,r=this;return y(function*(){const s=yield i().call(r,t);return r.localCache[t]=JSON.stringify(s),s})()}_remove(t){var i=()=>super._remove,r=this;return y(function*(){yield i().call(r,t),delete r.localCache[t]})()}}return n.type="LOCAL",n})(),gN=(()=>{class n extends mN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})();let bZ=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(s=>s.isListeningto(t));if(i)return i;const r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){var i=this;return y(function*(){const r=t,{eventId:s,eventType:o,data:a}=r.data,l=i.handlersMap[o];if(!(null==l?void 0:l.size))return;r.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(l).map(function(){var d=y(function*(h){return h(r.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function(n){return Promise.all(n.map(function(){var e=y(function*(t){try{return{fulfilled:!0,value:yield t}}catch(i){return{fulfilled:!1,reason:i}}});return function(t){return e.apply(this,arguments)}}()))}(c);r.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(t,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Cw(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(10*Math.random());return n+t}class CZ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){var r=this;return y(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=Cw("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},r.handlers.add(a),s.port1.addEventListener("message",a.onMessage),r.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{a&&r.removeMessageHandler(a)})})()}}function xt(){return window}function ww(){return void 0!==xt().WorkerGlobalScope&&"function"==typeof xt().importScripts}function Ew(){return(Ew=y(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(n){return null}})).apply(this,arguments)}const _N="firebaseLocalStorageDb",$f="firebaseLocalStorage",yN="fbase_key";class hu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function zf(n,e){return n.transaction([$f],e?"readwrite":"readonly").objectStore($f)}function Dw(){const n=indexedDB.open(_N,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore($f,{keyPath:yN})}catch(r){t(r)}}),n.addEventListener("success",y(function*(){const i=n.result;i.objectStoreNames.contains($f)?e(i):(i.close(),yield function(){const n=indexedDB.deleteDatabase(_N);return new hu(n).toPromise()}(),e(yield Dw()))}))})}function vN(n,e,t){return Tw.apply(this,arguments)}function Tw(){return Tw=y(function*(n,e,t){const i=zf(n,!0).put({[yN]:e,value:t});return new hu(i).toPromise()}),Tw.apply(this,arguments)}function Sw(){return Sw=y(function*(n,e){const t=zf(n,!1).get(e),i=yield new hu(t).toPromise();return void 0===i?null:i.value}),Sw.apply(this,arguments)}function bN(n,e){const t=zf(n,!0).delete(e);return new hu(t).toPromise()}const RZ=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return y(function*(){return t.db||(t.db=yield Dw()),t.db})()}_withRetries(t){var i=this;return y(function*(){let r=0;for(;;)try{const s=yield i._openDb();return yield t(s)}catch(s){if(r++>3)throw s;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return y(function*(){return ww()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return y(function*(){t.receiver=bZ._getInstance(ww()?self:null),t.receiver._subscribe("keyChanged",function(){var i=y(function*(r,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(r,s){return i.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var i=y(function*(r,s){return["keyChanged"]});return function(r,s){return i.apply(this,arguments)}}())})()}initializeSender(){var t=this;return y(function*(){var i,r;if(t.activeServiceWorker=yield function(){return Ew.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new CZ(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(i=s[0])||void 0===i?void 0:i.fulfilled)&&(null===(r=s[0])||void 0===r?void 0:r.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var i=this;return y(function*(){if(i.sender&&i.activeServiceWorker&&function(){var n;return(null===(n=null==navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:t},i.serviceWorkerReceiverAvailable?800:50)}catch(r){}})()}_isAvailable(){return y(function*(){try{if(!indexedDB)return!1;const t=yield Dw();return yield vN(t,jf,"1"),yield bN(t,jf),!0}catch(t){}return!1})()}_withPendingWrite(t){var i=this;return y(function*(){i.pendingWrites++;try{yield t()}finally{i.pendingWrites--}})()}_set(t,i){var r=this;return y(function*(){return r._withPendingWrite(y(function*(){return yield r._withRetries(s=>vN(s,t,i)),r.localCache[t]=i,r.notifyServiceWorker(t)}))})()}_get(t){var i=this;return y(function*(){const r=yield i._withRetries(s=>function(n,e){return Sw.apply(this,arguments)}(s,t));return i.localCache[t]=r,r})()}_remove(t){var i=this;return y(function*(){return i._withPendingWrite(y(function*(){return yield i._withRetries(r=>bN(r,t)),delete i.localCache[t],i.notifyServiceWorker(t)}))})()}_poll(){var t=this;return y(function*(){const i=yield t._withRetries(o=>{const a=zf(o,!1).getAll();return new hu(a).toPromise()});if(!i)return[];if(0!==t.pendingWrites)return[];const r=[],s=new Set;for(const{fbase_key:o,value:a}of i)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),r.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),r.push(o));return r})()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const s of Array.from(r))s(i)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(y(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function wN(n){return`__${n}${Math.floor(1e6*Math.random())}`}function mo(n,e){return e?Or(e):(A(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}wN("rcb"),new iu(3e4,6e4);class Fw extends rN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function KZ(n){return fN(n.auth,new Fw(n),n.bypassAuthState)}function YZ(n){const{auth:e,user:t}=n;return A(t,e,"internal-error"),function(n,e){return WC.apply(this,arguments)}(t,new Fw(n),n.bypassAuthState)}function QZ(n){return Lw.apply(this,arguments)}function Lw(){return Lw=y(function*(n){const{auth:e,user:t}=n;return A(t,e,"internal-error"),jC(t,new Fw(n),n.bypassAuthState)}),Lw.apply(this,arguments)}new iu(2e3,1e4);const Gf=new Map;class JZ extends class{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=y(function*(i,r){e.pendingPromise={resolve:i,reject:r};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(i,r){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return y(function*(){const{urlResponse:i,sessionId:r,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:i,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KZ;case"linkViaPopup":case"linkViaRedirect":return QZ;case"reauthViaPopup":case"reauthViaRedirect":return YZ;default:In(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){var e=()=>super.execute,t=this;return y(function*(){let i=Gf.get(t.auth._key());if(!i){try{const s=(yield function(n,e){return jw.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;i=()=>Promise.resolve(s)}catch(r){i=()=>Promise.reject(r)}Gf.set(t.auth._key(),i)}return t.bypassAuthState||Gf.set(t.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,i=this;return y(function*(){if("signInViaRedirect"===e.type)return t().call(i,e);if("unknown"!==e.type){if(e.eventId){const r=yield i.auth._redirectUserForId(e.eventId);if(r)return i.user=r,t().call(i,e);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return y(function*(){})()}cleanUp(){}}function jw(){return jw=y(function*(n,e){const t=TN(e),i=DN(n);if(!(yield i._isAvailable()))return!1;const r="true"===(yield i._get(t));return yield i._remove(t),r}),jw.apply(this,arguments)}function DN(n){return Or(n._redirectPersistence)}function TN(n){return Nf("pendingRedirect",n.config.apiKey,n.name)}function SN(n,e){return Yw.apply(this,arguments)}function Yw(){return Yw=y(function*(n,e,t=!1){const i=Mn(n),r=mo(i,e),o=yield new JZ(i,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o}),Yw.apply(this,arguments)}class sJ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AN(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!AN(e)){const r=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";t.onError(Ji(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(MN(e))}saveEventToCache(e){this.cachedEventUids.add(MN(e)),this.lastProcessedEventTime=Date.now()}}function MN(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function AN({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===(null==e?void 0:e.code)}function aJ(n){return Xw.apply(this,arguments)}function Xw(){return Xw=y(function*(n,e={}){return Ht(n,"GET","/v1/projects",e)}),Xw.apply(this,arguments)}const lJ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cJ=/^https?/;function Zw(){return Zw=y(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield aJ(n);for(const t of e)try{if(dJ(t))return}catch(i){}In(n,"unauthorized-domain")}),Zw.apply(this,arguments)}function dJ(n){const e=nu(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===i?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===i}if(!cJ.test(t))return!1;if(lJ.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const hJ=new iu(3e4,6e4);function kN(){const n=xt().___jsl;if(null==n?void 0:n.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let qf=null;function pJ(n){return qf=qf||function(n){return new Promise((e,t)=>{var i,r,s;function o(){kN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kN(),t(Ji(n,"network-request-failed"))},timeout:hJ.get()})}if(null===(r=null===(i=xt().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=xt().gapi)||void 0===s?void 0:s.load)){const a=wN("iframefcb");return xt()[a]=()=>{gapi.load?o():t(Ji(n,"network-request-failed"))},function(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const s=Ji("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",function(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}o()}}).catch(e=>{throw qf=null,e})}(n),qf}const mJ=new iu(5e3,15e3),yJ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vJ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bJ(n){const e=n.config;A(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?lC(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,i={apiKey:e.apiKey,appName:n.name,v:Ka},r=vJ.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${Wc(i).slice(1)}`}function Jw(){return Jw=y(function*(n){const e=yield pJ(n),t=xt().gapi;return A(t,n,"internal-error"),e.open({where:document.body,url:bJ(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yJ,dontclear:!0},i=>new Promise(function(){var r=y(function*(s,o){yield i.restyle({setHideOnLeave:!1});const a=Ji(n,"network-request-failed"),l=xt().setTimeout(()=>{o(a)},mJ.get());function c(){xt().clearTimeout(l),s(i)}i.ping(c).then(c,()=>{o(a)})});return function(s,o){return r.apply(this,arguments)}}()))}),Jw.apply(this,arguments)}const wJ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class RN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function xN(n,e,t,i,r,s){A(n.config.authDomain,n,"auth-domain-config-required"),A(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ka,eventId:r};if(e instanceof ps){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",nv(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(s||{}))o[l]=c}if(e instanceof KX){const l=e.getScopes().filter(c=>""!==c);l.length>0&&(o.scopes=l.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];return`${function({config:n}){return n.emulator?lC(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${Wc(a).slice(1)}`}const eE="webStorageSupport",OJ=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gN,this._completeRedirectFn=SN}_openPopup(e,t,i,r){var s=this;return y(function*(){var o;hs(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=xN(e,t,i,nu(),r);return function(n,e,t,i=500,r=600){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},wJ),{width:i.toString(),height:r.toString(),top:s,left:o}),c=Lt().toLowerCase();t&&(a=KP(c)?"_blank":t),qP(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function(n=Lt()){var e;return Ff(n)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}(e||"",a),new RN(null);const d=window.open(e||"",a,u);A(d,n,"popup-blocked");try{d.focus()}catch(h){}return new RN(d)}(e,a,Cw())})()}_openRedirect(e,t,i,r){var s=this;return y(function*(){return yield s._originValidation(e),function(n){xt().location.href=n}(xN(e,t,i,nu(),r)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(hs(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){var t=this;return y(function*(){const i=yield function(n){return Jw.apply(this,arguments)}(e),r=new sJ(e);return i.register("authEvent",s=>(A(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=i,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(eE,{type:eE},r=>{var s;const o=null===(s=null==r?void 0:r[0])||void 0===s?void 0:s[eE];void 0!==o&&t(!!o),In(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(n){return Zw.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return JP()||CC()||Ff()}};var PN="@firebase/auth";class PJ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return y(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{var r;e((null===(r=i)||void 0===r?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function LJ(n=Yc()){const e=ds(n,"auth");return e.isInitialized()?e.getImmediate():function(n,e){const t=ds(n,"auth");if(t.isInitialized()){const r=t.getImmediate();if(cf(t.getOptions(),null!=e?e:{}))return r;In(r,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:OJ,persistence:[RZ,yZ,gN]})}function FN(n){return new Ee(function(e){var t=function(n,e,t,i){return Vt(n).onIdTokenChanged(e,t,i)}(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}!function(n){Dn(new pn("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:s}=i.options;return(o=>{A(r&&!r.includes(":"),"invalid-api-key",{appName:o.name}),A(!(null==s?void 0:s.includes(":")),"argument-error",{appName:o.name});const a={apiKey:r,authDomain:s,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eN(n)},l=new MX(o,a);return function(n,e){const t=(null==e?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Or);(null==e?void 0:e.errorMap)&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,null==e?void 0:e.popupRedirectResolver)}(l,t),l})(i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Dn(new pn("auth-internal",e=>{const t=Mn(e.getProvider("auth").getImmediate());return new PJ(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),st(PN,"0.19.4",void 0),st(PN,"0.19.4","esm2017")}("Browser");class ms{constructor(e){return e}}class VN{constructor(){return Bb("auth")}}const tE=new M("angularfire2.auth-instances");function BJ(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new ms(i)}}const HJ={provide:VN,deps:[[new tt,tE]]},UJ={provide:ms,useFactory:function(n,e){const t=Vb("auth",n,e);return t&&new ms(t)},deps:[[new tt,tE],el]};let BN=(()=>{class n{constructor(){st("angularfire",Jc.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({providers:[UJ,HJ]}),n})();function jJ(n,...e){return{ngModule:BN,providers:[{provide:tE,useFactory:BJ(n),multi:!0,deps:[ee,Ze,wf,Ef,[new tt,iC],...e]}]}}const $J=Sn(FN,!0),HN=Sn(LJ,!0),WJ=Sn(gX,!0),GJ=Sn(uZ,!0),qJ=Sn(tZ,!0),KJ=Sn(dZ,!0),UN="@firebase/database";let nE="";class QJ{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),kt(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:zc(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class XJ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ar(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const $N=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new QJ(e)}}catch(e){}return new XJ},go=$N("localStorage"),iE=$N("sessionStorage"),il=new qa("@firebase/database"),zN=function(){let n=1;return function(){return n++}}(),WN=function(n){const e=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,I(i<n.length,"Surrogate pair missing trail surrogate."),r=65536+(s<<10)+(n.charCodeAt(i)-56320)}r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):r<65536?(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e}(n),t=new yK;t.update(e);const i=t.digest();return rf.encodeByteArray(i)},fu=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=fu.apply(null,i):e+="object"==typeof i?kt(i):i,e+=" "}return e};let _o=null,GN=!0;const Ut=function(...n){if(!0===GN&&(GN=!1,null===_o&&!0===iE.get("logging_enabled")&&function(n,e){I(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(il.logLevel=Ne.VERBOSE,_o=il.log.bind(il),e&&iE.set("logging_enabled",!0)):"function"==typeof n?_o=n:(_o=null,iE.remove("logging_enabled"))}(!0)),_o){const e=fu.apply(null,n);_o(e)}},pu=function(n){return function(...e){Ut(n,...e)}},rE=function(...n){const e="FIREBASE INTERNAL ERROR: "+fu(...n);il.error(e)},tr=function(...n){const e=`FIREBASE FATAL ERROR: ${fu(...n)}`;throw il.error(e),new Error(e)},gn=function(...n){const e="FIREBASE WARNING: "+fu(...n);il.warn(e)},Kf=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Lr="[MIN_NAME]",nr="[MAX_NAME]",yo=function(n,e){if(n===e)return 0;if(n===Lr||e===nr)return-1;if(e===Lr||n===nr)return 1;{const t=Yf(n),i=Yf(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},eee=function(n,e){return n===e?0:n<e?-1:1},mu=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+kt(e))},sE=function(n){if("object"!=typeof n||null===n)return kt(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=kt(e[i]),t+=":",t+=sE(n[e[i]]);return t+="}",t},KN=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function jt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const YN=function(n){I(!Kf(n),"Invalid JSON number");const i=1023;let r,s,o,a,l;0===n?(s=0,o=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=a+i,o=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(r?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},ree=new RegExp("^-?(0*)\\d{1,10}$"),Yf=function(n){if(ree.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},rl=function(n){try{n()}catch(e){setTimeout(()=>{throw gn("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},gu=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class oee{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){gn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class aee{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Ut("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gn(e)}}let _u=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const t1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,r1="websocket",s1="long_polling";class lE{constructor(e,t,i,r,s=!1,o="",a=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=go.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&go.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function o1(n,e,t){let i;if(I("string"==typeof e,"typeof type must == string"),I("object"==typeof t,"typeof params must == object"),e===r1)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==s1)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return jt(t,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}class uee{constructor(){this.counters_={}}incrementCounter(e,t=1){Ar(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return aK(this.counters_)}}const cE={},uE={};function dE(n){const e=n.toString();return cE[e]||(cE[e]=new uee),cE[e]}class hee{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&rl(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class sl{constructor(e,t,i,r,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=pu(e),this.stats_=dE(t),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),o1(t,s1,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new hee(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new hE((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&t1.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){sl.forceAllow_=!0}static forceDisallow(){sl.forceDisallow_=!0}static isAvailable(){return!(!sl.forceAllow_&&(sl.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=kt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=nO(t),r=KN(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=kt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class hE{constructor(e,t,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=zN(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=hE.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Ut("frame writing exception"),a.stack&&Ut(a.stack),Ut(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ut("No IE domain setting required")}catch(t){const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const o=this.pendingSegs.shift();i=i+"&seg"+r+"="+o.seg+"&ts"+r+"="+o.ts+"&d"+r+"="+o.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Ut("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let yu=null;"undefined"!=typeof MozWebSocket?yu=MozWebSocket:"undefined"!=typeof WebSocket&&(yu=WebSocket);let vu=(()=>{class n{constructor(t,i,r,s,o,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=pu(this.connId),this.stats_=dE(i),this.connURL=n.connectionURL_(i,a,l,s),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s){const o={v:"5"};return"undefined"!=typeof location&&location.hostname&&t1.test(location.hostname)&&(o.r="f"),i&&(o.s=i),r&&(o.ls=r),s&&(o.ac=s),o1(t,r1,o)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,go.set("previous_websocket_failure",!0);try{this.mySock=new yu(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==yu&&!n.forceDisallow_}static previouslyFailed(){return go.isInMemoryStorage||!0===go.get("previous_websocket_failure")}markConnectionHealthy(){go.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=zc(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(I(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=kt(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=KN(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class fE{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[sl,vu]}initTransports_(e){const t=vu&&vu.isAvailable();let i=t&&!vu.previouslyFailed();if(e.webSocketOnly&&(t||gn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[vu];else{const r=this.transports_=[];for(const s of fE.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class v1{constructor(e,t,i,r,s,o,a,l,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=pu("c:"+this.id+":"),this.transportManager_=new fE(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=gu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=mu("t",e),i=mu("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=mu("t",e),i=mu("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=mu("t",e);if("d"in e){const i=e.d;if("h"===t)this.onHandshake_(i);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?rE("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rE("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&gn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),gu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(go.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class b1{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class C1{constructor(e){this.allowedEvents_=e,this.listeners_={},I(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){I(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Xf extends C1{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!Jy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Xf}getInitialEvent(e){return I("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Fe{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Me(){return new Fe("")}function ue(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function gs(n){return n.pieces_.length-n.pieceNum_}function $e(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Fe(n.pieces_,e)}function mE(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function bu(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function D1(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Fe(e,0)}function it(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Fe)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Fe(t,0)}function de(n){return n.pieceNum_>=n.pieces_.length}function _n(n,e){const t=ue(n),i=ue(e);if(null===t)return e;if(t===i)return _n($e(n),$e(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function gE(n,e){if(gs(n)!==gs(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function ai(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(gs(n)>gs(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class Nee{constructor(e,t){this.errorPrefix_=t,this.parts_=bu(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=uf(this.parts_[i]);T1(this)}}function T1(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+vo(n))}function vo(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class _E extends C1{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new _E}getInitialEvent(e){return I("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Cu=1e3;let Jf,bo=(()=>{class n extends b1{constructor(t,i,r,s,o,a,l,c){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=n.nextPersistentConnectionId_++,this.log_=pu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Cu,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");_E.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Xf.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,o={r:s,a:t,b:i};this.log_(kt(o)),I(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new us,r={p:t._path.toString(),q:t._queryObject},s={action:"g",request:r,onComplete:a=>{const l=a.d;"ok"===a.s?(this.onDataUpdate_(r.p,l,!1,null),i.resolve(l)):i.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const a=this.outstandingGets_[o];void 0===a||s!==a||(delete this.outstandingGets_[o],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+o+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(o),i.promise}listen(t,i,r,s){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),I(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),I(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const o={p:r};t.tag&&(o.q=i._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,l=>{const c=l.d,u=l.s;n.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(r,s),t.onComplete&&t.onComplete(u,c))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&Ar(t,"w")){const r=Wa(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',o=i._path.toString();gn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=af(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=function(n){const t=af(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const o=s.s,a=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),I(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const o={p:t};s&&(o.q=r,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const o={p:i,d:r};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,o){this.initConnection_();const a={p:i,d:r};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,o=>{this.log_(i+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+kt(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):rE("Unrecognized action received from server: "+kt(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){I(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Cu,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Cu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Cu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return y(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,s())};t.realtime_={close:u,sendRequest:function(f){I(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([t.authTokenProvider_.getToken(h),t.appCheckTokenProvider_.getToken(h)]);l?Ut("getToken() completed but was canceled"):(Ut("getToken() completed. Creating connection."),t.authToken_=f&&f.accessToken,t.appCheckToken_=p&&p.token,c=new v1(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,g=>{gn(g+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(f){t.log_("Failed to get token: "+f),l||(t.repoInfo_.nodeAdmin&&gn(f),u())}}})()}interrupt(t){Ut("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ut("Resuming connection for reason: "+t),delete this.interruptReasons_[t],nv(this.interruptReasons_)&&(this.reconnectDelay_=Cu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(o=>sE(o)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new Fe(t).toString();let s;if(this.listens.has(r)){const o=this.listens.get(r);s=o.get(i),o.delete(i),0===o.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){Ut("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Ut("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+nE.replace(/\./g,"-")]=1,Jy()?t["framework.cordova"]=1:sO()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Xf.getInstance().currentlyOnline();return nv(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class ge{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new ge(e,t)}}class Zf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new ge(Lr,e),r=new ge(Lr,t);return 0!==this.compare(i,r)}minPost(){return ge.MIN}}class M1 extends Zf{static get __EMPTY_NODE(){return Jf}static set __EMPTY_NODE(e){Jf=e}compare(e,t){return yo(e.name,t.name)}isDefinedOn(e){throw za("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ge.MIN}maxPost(){return new ge(nr,Jf)}makePost(e,t){return I("string"==typeof e,"KeyIndex indexValue must always be a string."),new ge(e,Jf)}toString(){return".key"}}const ir=new M1;class ep{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?i(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let vE,Ii=(()=>{class n{constructor(t,i,r,s,o){this.key=t,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=s?s:An.EMPTY_NODE,this.right=null!=o?o:An.EMPTY_NODE}copy(t,i,r,s,o){return new n(null!=t?t:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=o?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const o=r(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===o?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return An.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return An.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class An{constructor(e,t=An.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new An(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ii.BLACK,null,null))}remove(e){return new An(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ii.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ep(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new ep(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new ep(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new ep(this.root_,null,this.comparator_,!0,e)}}function zee(n,e){return yo(n.name,e.name)}function yE(n,e){return yo(n,e)}An.EMPTY_NODE=new class{copy(e,t,i,r,s){return this}insert(e,t,i){return new Ii(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const A1=function(n){return"number"==typeof n?"number:"+YN(n):"string:"+n},k1=function(n){if(n.isLeafNode()){const e=n.val();I("string"==typeof e||"number"==typeof e||"object"==typeof e&&Ar(e,".sv"),"Priority must be a string or number.")}else I(n===vE||n.isEmpty(),"priority of unexpected type.");I(n===vE||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let R1,x1,O1,ol=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,I(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),k1(this.priorityNode_)}static set __childrenNodeConstructor(t){R1=t}static get __childrenNodeConstructor(){return R1}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return de(t)?this:".priority"===ue(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=ue(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:(I(".priority"!==r||1===gs(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild($e(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+A1(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?YN(this.value_):this.value_,this.lazyHash_=WN(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(I(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),o=n.VALUE_TYPE_ORDER.indexOf(r);return I(s>=0,"Unknown leaf type: "+i),I(o>=0,"Unknown leaf type: "+r),s===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Ke=new class extends Zf{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?yo(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ge.MIN}maxPost(){return new ge(nr,new ol("[PRIORITY-POST]",O1))}makePost(e,t){const i=x1(e);return new ge(t,new ol("[PRIORITY-POST]",i))}toString(){return".priority"}},Yee=Math.log(2);class Qee{constructor(e){this.count=parseInt(Math.log(e+1)/Yee,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const tp=function(n,e,t,i){n.sort(e);const r=function(l,c){const u=c-l;let d,h;if(0===u)return null;if(1===u)return d=n[l],h=t?t(d):d,new Ii(h,d.node,Ii.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=r(l,f),g=r(f+1,c);return d=n[f],h=t?t(d):d,new Ii(h,d.node,Ii.BLACK,p,g)}},a=function(l){let c=null,u=null,d=n.length;const h=function(p,g){const _=d-p,b=d;d-=p;const v=r(_+1,b),S=n[_],x=t?t(S):S;f(new Ii(x,S.node,g,null,v))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),_=Math.pow(2,l.count-(p+1));g?h(_,Ii.BLACK):(h(_,Ii.BLACK),h(_,Ii.RED))}return u}(new Qee(n.length));return new An(i||e,a)};let bE;const al={};class Vr{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return I(al&&Ke,"ChildrenNode.ts has not been loaded"),bE=bE||new Vr({".priority":al},{".priority":Ke}),bE}get(e){const t=Wa(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof An?t:null}hasIndex(e){return Ar(this.indexSet_,e.toString())}addIndex(e,t){I(e!==ir,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(ge.Wrap);let a,o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();a=r?tp(i,e.getCompare()):al;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Vr(u,c)}addToIndexes(e,t){const i=lf(this.indexes_,(r,s)=>{const o=Wa(this.indexSet_,s);if(I(o,"Missing index implementation for "+s),r===al){if(o.isDefinedOn(e.node)){const a=[],l=t.getIterator(ge.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),tp(a,o.getCompare())}return al}{const a=t.get(e.name);let l=r;return a&&(l=l.remove(new ge(e.name,a))),l.insert(e,e.node)}});return new Vr(i,this.indexSet_)}removeFromIndexes(e,t){const i=lf(this.indexes_,r=>{if(r===al)return r;{const s=t.get(e.name);return s?r.remove(new ge(e.name,s)):r}});return new Vr(i,this.indexSet_)}}let wu,ie=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&k1(this.priorityNode_),this.children_.isEmpty()&&I(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return wu||(wu=new n(new An(yE),null,Vr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||wu}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?wu:i}}getChild(t){const i=ue(t);return null===i?this:this.getImmediateChild(i).getChild($e(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if(I(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new ge(t,i);let s,o;i.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),o=this.indexMap_.addToIndexes(r,this.children_));const a=s.isEmpty()?wu:this.priorityNode_;return new n(s,a,o)}}updateChild(t,i){const r=ue(t);if(null===r)return i;{I(".priority"!==ue(t)||1===gs(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild($e(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,o=!0;if(this.forEachChild(Ke,(a,l)=>{i[a]=l.val(t),r++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*r){const a=[];for(const l in i)a[l]=i[l];return a}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+A1(this.getPriority().val())+":"),this.forEachChild(Ke,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":WN(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const o=s.getPredecessorKey(new ge(t,i));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new ge(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new ge(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,ge.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,ge.Wrap);let o=s.peek();for(;null!=o&&i.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Eu?-1:0}withIndex(t){if(t===ir||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===ir||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Ke),s=i.getIterator(Ke);let o=r.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(t){return t===ir?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Eu=new class extends ie{constructor(){super(new An(yE),ie.EMPTY_NODE,Vr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ie.EMPTY_NODE}isEmpty(){return!1}};function ot(n,e=null){if(null===n)return ie.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),I(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new ol(n,ot(e));if(n instanceof Array){let t=ie.EMPTY_NODE;return jt(n,(i,r)=>{if(Ar(n,i)&&"."!==i.substring(0,1)){const s=ot(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(ot(e))}{const t=[];let i=!1;if(jt(n,(o,a)=>{if("."!==o.substring(0,1)){const l=ot(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),t.push(new ge(o,l)))}}),0===t.length)return ie.EMPTY_NODE;const s=tp(t,zee,o=>o.name,yE);if(i){const o=tp(t,Ke.getCompare());return new ie(s,ot(e),new Vr({".priority":o},{".priority":Ke}))}return new ie(s,ot(e),Vr.Default)}}Object.defineProperties(ge,{MIN:{value:new ge(Lr,ie.EMPTY_NODE)},MAX:{value:new ge(nr,Eu)}}),M1.__EMPTY_NODE=ie.EMPTY_NODE,ol.__childrenNodeConstructor=ie,function(n){vE=n}(Eu),function(n){O1=n}(Eu),function(n){x1=n}(ot);class CE extends Zf{constructor(e){super(),this.indexPath_=e,I(!de(e)&&".priority"!==ue(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?yo(e.name,t.name):s}makePost(e,t){const i=ot(e),r=ie.EMPTY_NODE.updateChild(this.indexPath_,i);return new ge(t,r)}maxPost(){const e=ie.EMPTY_NODE.updateChild(this.indexPath_,Eu);return new ge(nr,e)}toString(){return bu(this.indexPath_,0).join("/")}}const wE=new class extends Zf{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?yo(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ge.MIN}maxPost(){return ge.MAX}makePost(e,t){const i=ot(e);return new ge(t,i)}toString(){return".value"}};function V1(n){return{type:"value",snapshotNode:n}}function cl(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Du(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Tu(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class DE{constructor(e){this.index_=e}updateChild(e,t,i,r,s,o){I(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(null!=o&&(i.isEmpty()?e.hasChild(t)?o.trackChildChange(Du(t,a)):I(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(cl(t,i)):o.trackChildChange(Tu(t,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(Ke,(r,s)=>{t.hasChild(r)||i.trackChildChange(Du(r,s))}),t.isLeafNode()||t.forEachChild(Ke,(r,s)=>{if(e.hasChild(r)){const o=e.getImmediateChild(r);o.equals(s)||i.trackChildChange(Tu(r,s,o))}else i.trackChildChange(cl(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?ie.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Su{constructor(e){this.indexedFilter_=new DE(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Su.getStartPost_(e),this.endPost_=Su.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,i,r,s,o){return this.matches(new ge(t,i))||(i=ie.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,o)}updateFullNode(e,t,i){t.isLeafNode()&&(t=ie.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(ie.EMPTY_NODE);const s=this;return t.forEachChild(Ke,(o,a)=>{s.matches(new ge(o,a))||(r=r.updateImmediateChild(o,ie.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class nte{constructor(e){this.rangedFilter_=new Su(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,i,r,s,o){return this.rangedFilter_.matches(new ge(t,i))||(i=ie.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,o):this.fullLimitUpdateChild_(e,t,i,s,o)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=ie.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=ie.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();let l;if(l=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0,!l)break;r=r.updateImmediateChild(a.name,a.node),o++}}else{let s,o,a,l;if(r=t.withIndex(this.index_),r=r.updatePriority(ie.EMPTY_NODE),this.reverse_){l=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),o=this.rangedFilter_.getStartPost();const d=this.index_.getCompare();a=(h,f)=>d(f,h)}else l=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),o=this.rangedFilter_.getEndPost(),a=this.index_.getCompare();let c=0,u=!1;for(;l.hasNext();){const d=l.getNext();!u&&a(s,d)<=0&&(u=!0),u&&c<this.limit_&&a(d,o)<=0?c++:r=r.updateImmediateChild(d.name,ie.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();const a=e;I(a.numChildren()===this.limit_,"");const l=new ge(t,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(t)){const d=a.getImmediateChild(t);let h=r.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=h&&(h.name===t||a.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);const f=null==h?1:o(h,l);if(u&&!i.isEmpty()&&f>=0)return null!=s&&s.trackChildChange(Tu(t,i,d)),a.updateImmediateChild(t,i);{null!=s&&s.trackChildChange(Du(t,d));const g=a.updateImmediateChild(t,ie.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=s&&s.trackChildChange(cl(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}return i.isEmpty()?e:u&&o(c,l)>=0?(null!=s&&(s.trackChildChange(Du(c.name,c.node)),s.trackChildChange(cl(t,i))),a.updateImmediateChild(t,i).updateImmediateChild(c.name,ie.EMPTY_NODE)):e}}class TE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ke}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return I(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return I(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Lr}hasEnd(){return this.endSet_}getIndexEndValue(){return I(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return I(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:nr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return I(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ke}copy(){const e=new TE;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function B1(n){const e={};if(n.isDefault())return e;let t;return n.index_===Ke?t="$priority":n.index_===wE?t="$value":n.index_===ir?t="$key":(I(n.index_ instanceof CE,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=kt(t),n.startSet_&&(e.startAt=kt(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+kt(n.indexStartName_))),n.endSet_&&(e.endAt=kt(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+kt(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function H1(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Ke&&(e.i=n.index_.toString()),e}class ip extends b1{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=pu("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(I(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=ip.getListenId_(e,i),a={};this.listens_[o]=a;const l=B1(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(s,d,!1,i),Wa(this.listens_,o)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",r(h,null)}})}unlisten(e,t){const i=ip.getListenId_(e,t);delete this.listens_[i]}get(e){const t=B1(e._queryParams),i=e._path.toString(),r=new us;return this.restRequest_(i+".json",t,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Wc(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=zc(a.responseText)}catch(c){gn("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else 401!==a.status&&404!==a.status&&gn("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}class lte{constructor(){this.rootNode_=ie.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function rp(){return{value:null,children:new Map}}function ul(n,e,t){if(de(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=ue(e);n.children.has(i)||n.children.set(i,rp()),ul(n.children.get(i),e=$e(e),t)}}function AE(n,e,t){null!==n.value?t(e,n.value):function(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{AE(r,new Fe(e.toString()+"/"+i),t)})}class ute{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&jt(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class fte{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new ute(e);const i=1e4+2e4*Math.random();gu(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;jt(e,(r,s)=>{s>0&&Ar(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),gu(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var li=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(li||(li={})),li))();function xE(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class sp{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=li.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(de(this.path)){if(null!=this.affectedTree.value)return I(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Fe(e));return new sp(Me(),t,this.revert)}}return I(ue(this.path)===e,"operationForChild called for unrelated child."),new sp($e(this.path),this.affectedTree,this.revert)}}class Iu{constructor(e,t){this.source=e,this.path=t,this.type=li.LISTEN_COMPLETE}operationForChild(e){return de(this.path)?new Iu(this.source,Me()):new Iu(this.source,$e(this.path))}}class Co{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=li.OVERWRITE}operationForChild(e){return de(this.path)?new Co(this.source,Me(),this.snap.getImmediateChild(e)):new Co(this.source,$e(this.path),this.snap)}}class dl{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=li.MERGE}operationForChild(e){if(de(this.path)){const t=this.children.subtree(new Fe(e));return t.isEmpty()?null:t.value?new Co(this.source,Me(),t.value):new dl(this.source,Me(),t)}return I(ue(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new dl(this.source,$e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class _s{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(de(e))return this.isFullyInitialized()&&!this.filtered_;const t=ue(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class pte{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Mu(n,e,t,i,r,s){const o=i.filter(a=>a.type===t);o.sort((a,l)=>function(n,e,t){if(null==e.childName||null==t.childName)throw za("Should only compare child_ events.");const i=new ge(e.childName,e.snapshotNode),r=new ge(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,a,l)),o.forEach(a=>{const l=function(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,s);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,n.query_))})})}function op(n,e){return{eventCache:n,serverCache:e}}function Au(n,e,t,i){return op(new _s(e,t,i),n.serverCache)}function j1(n,e,t,i){return op(n.eventCache,new _s(e,t,i))}function ap(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function wo(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let OE;class Ye{constructor(e,t=(()=>(OE||(OE=new An(eee)),OE))()){this.value=e,this.children=t}static fromObject(e){let t=new Ye(null);return jt(e,(i,r)=>{t=t.set(new Fe(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Me(),value:this.value};if(de(e))return null;{const i=ue(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue($e(e),t);return null!=s?{path:it(new Fe(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(de(e))return this;{const t=ue(e),i=this.children.get(t);return null!==i?i.subtree($e(e)):new Ye(null)}}set(e,t){if(de(e))return new Ye(t,this.children);{const i=ue(e),s=(this.children.get(i)||new Ye(null)).set($e(e),t),o=this.children.insert(i,s);return new Ye(this.value,o)}}remove(e){if(de(e))return this.children.isEmpty()?new Ye(null):new Ye(null,this.children);{const t=ue(e),i=this.children.get(t);if(i){const r=i.remove($e(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new Ye(null):new Ye(this.value,s)}return this}}get(e){if(de(e))return this.value;{const t=ue(e),i=this.children.get(t);return i?i.get($e(e)):null}}setTree(e,t){if(de(e))return t;{const i=ue(e),s=(this.children.get(i)||new Ye(null)).setTree($e(e),t);let o;return o=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Ye(this.value,o)}}fold(e){return this.fold_(Me(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(it(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Me(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(de(e))return null;{const s=ue(e),o=this.children.get(s);return o?o.findOnPath_($e(e),it(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Me(),t)}foreachOnPath_(e,t,i){if(de(e))return this;{this.value&&i(t,this.value);const r=ue(e),s=this.children.get(r);return s?s.foreachOnPath_($e(e),it(t,r),i):new Ye(null)}}foreach(e){this.foreach_(Me(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(it(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Mi{constructor(e){this.writeTree_=e}static empty(){return new Mi(new Ye(null))}}function ku(n,e,t){if(de(e))return new Mi(new Ye(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const o=_n(r,e);return s=s.updateChild(o,t),new Mi(n.writeTree_.set(r,s))}{const r=new Ye(t),s=n.writeTree_.setTree(e,r);return new Mi(s)}}}function PE(n,e,t){let i=n;return jt(t,(r,s)=>{i=ku(i,it(e,r),s)}),i}function $1(n,e){if(de(e))return Mi.empty();{const t=n.writeTree_.setTree(e,new Ye(null));return new Mi(t)}}function NE(n,e){return null!=Eo(n,e)}function Eo(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(_n(t.path,e)):null}function z1(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Ke,(i,r)=>{e.push(new ge(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new ge(i,r.value))}),e}function ys(n,e){if(de(e))return n;{const t=Eo(n,e);return new Mi(null!=t?new Ye(t):n.writeTree_.subtree(e))}}function FE(n){return n.writeTree_.isEmpty()}function hl(n,e){return W1(Me(),n.writeTree_,e)}function W1(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?(I(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=W1(it(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(it(n,".priority"),i)),t}}function lp(n,e){return Q1(e,n)}function Ete(n,e){if(n.snap)return ai(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&ai(it(n.path,t),e))return!0;return!1}function Tte(n){return n.visible}function G1(n,e,t){let i=Mi.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const o=s.path;let a;if(s.snap)ai(t,o)?(a=_n(t,o),i=ku(i,a,s.snap)):ai(o,t)&&(a=_n(o,t),i=ku(i,Me(),s.snap.getChild(a)));else{if(!s.children)throw za("WriteRecord should have .snap or .children");if(ai(t,o))a=_n(t,o),i=PE(i,a,s.children);else if(ai(o,t))if(a=_n(o,t),de(a))i=PE(i,Me(),s.children);else{const l=Wa(s.children,ue(a));if(l){const c=l.getChild($e(a));i=ku(i,Me(),c)}}}}}return i}function q1(n,e,t,i,r){if(i||r){const s=ys(n.visibleWrites,e);return!r&&FE(s)?t:r||null!=t||NE(s,Me())?hl(G1(n.allWrites,function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(ai(c.path,e)||ai(e,c.path))},e),t||ie.EMPTY_NODE):null}{const s=Eo(n.visibleWrites,e);if(null!=s)return s;{const o=ys(n.visibleWrites,e);return FE(o)?t:null!=t||NE(o,Me())?hl(o,t||ie.EMPTY_NODE):null}}}function cp(n,e,t,i){return q1(n.writeTree,n.treePath,e,t,i)}function LE(n,e){return function(n,e,t){let i=ie.EMPTY_NODE;const r=Eo(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Ke,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(t){const s=ys(n.visibleWrites,e);return t.forEachChild(Ke,(o,a)=>{const l=hl(ys(s,new Fe(o)),a);i=i.updateImmediateChild(o,l)}),z1(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}return z1(ys(n.visibleWrites,e)).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}(n.writeTree,n.treePath,e)}function K1(n,e,t,i){return function(n,e,t,i,r){I(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=it(e,t);if(NE(n.visibleWrites,s))return null;{const o=ys(n.visibleWrites,s);return FE(o)?r.getChild(t):hl(o,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function up(n,e){return function(n,e){return Eo(n.visibleWrites,e)}(n.writeTree,it(n.treePath,e))}function VE(n,e,t){return function(n,e,t,i){const r=it(e,t),s=Eo(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?hl(ys(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function Y1(n,e){return Q1(it(n.treePath,e),n.writeTree)}function Q1(n,e){return{treePath:n,writeTree:e}}class Ote{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;I("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),I(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,Tu(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,Du(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,cl(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw za("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,Tu(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const X1=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class BE{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new _s(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return VE(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:wo(this.viewCache_),s=function(n,e,t,i,r,s){return function(n,e,t,i,r,s,o){let a;const l=ys(n.visibleWrites,e),c=Eo(l,Me());if(null!=c)a=c;else{if(null==t)return[];a=hl(l,t)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let f=h.getNext();for(;f&&u.length<r;)0!==d(f,i)&&u.push(f),f=h.getNext();return u}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function Z1(n,e,t,i,r,s){const o=e.eventCache;if(null!=up(i,t))return e;{let a,l;if(de(t))if(I(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=wo(e),d=LE(i,c instanceof ie?c:ie.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=cp(i,wo(e));a=n.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=ue(t);if(".priority"===c){I(1===gs(t),"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=K1(i,t,u,l);a=null!=d?n.filter.updatePriority(u,d):o.getNode()}else{const u=$e(t);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=K1(i,t,o.getNode(),l);d=null!=h?o.getNode().getImmediateChild(c).updateChild(u,h):o.getNode().getImmediateChild(c)}else d=VE(i,c,e.serverCache);a=null!=d?n.filter.updateChild(o.getNode(),c,d,u,r,s):o.getNode()}}return Au(e,a,o.isFullyInitialized()||de(t),n.filter.filtersNodes())}}function dp(n,e,t,i,r,s,o,a){const l=e.serverCache;let c;const u=o?n.filter:n.filter.getIndexedFilter();if(de(t))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(t,i);c=u.updateFullNode(l.getNode(),f,null)}else{const f=ue(t);if(!l.isCompleteForPath(t)&&gs(t)>1)return e;const p=$e(t),_=l.getNode().getImmediateChild(f).updateChild(p,i);c=".priority"===f?u.updatePriority(l.getNode(),_):u.updateChild(l.getNode(),f,_,p,X1,null)}const d=j1(e,c,l.isFullyInitialized()||de(t),u.filtersNodes());return Z1(n,d,t,r,new BE(r,d,s),a)}function HE(n,e,t,i,r,s,o){const a=e.eventCache;let l,c;const u=new BE(r,e,s);if(de(t))c=n.filter.updateFullNode(e.eventCache.getNode(),i,o),l=Au(e,c,!0,n.filter.filtersNodes());else{const d=ue(t);if(".priority"===d)c=n.filter.updatePriority(e.eventCache.getNode(),i),l=Au(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=$e(t),f=a.getNode().getImmediateChild(d);let p;if(de(h))p=i;else{const g=u.getCompleteChild(d);p=null!=g?".priority"===mE(h)&&g.getChild(D1(h)).isEmpty()?g:g.updateChild(h,i):ie.EMPTY_NODE}l=f.equals(p)?e:Au(e,n.filter.updateChild(a.getNode(),d,p,h,u,o),a.isFullyInitialized(),n.filter.filtersNodes())}}return l}function J1(n,e){return n.eventCache.isCompleteForChild(e)}function eF(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function UE(n,e,t,i,r,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,l=e;c=de(t)?i:new Ye(null).setTree(t,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=eF(0,e.serverCache.getNode().getImmediateChild(d),h);l=dp(n,l,new Fe(d),p,r,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&void 0===h.value;if(!u.hasChild(d)&&!f){const g=eF(0,e.serverCache.getNode().getImmediateChild(d),h);l=dp(n,l,new Fe(d),g,r,s,o,a)}}),l}class $te{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new DE(i.getIndex()),s=function(n){return n.loadsAllData()?new DE(n.getIndex()):n.hasLimit()?new nte(n):new Su(n)}(i);this.processor_=function(n){return{filter:n}}(s);const o=t.serverCache,a=t.eventCache,l=r.updateFullNode(ie.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(ie.EMPTY_NODE,a.getNode(),null),u=new _s(l,o.isFullyInitialized(),r.filtersNodes()),d=new _s(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=op(d,u),this.eventGenerator_=new pte(this.query_)}get query(){return this.query_}}function Gte(n,e){const t=wo(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!de(e)&&!t.getImmediateChild(ue(e)).isEmpty())?t.getChild(e):null}function tF(n){return 0===n.eventRegistrations_.length}function nF(n,e,t){const i=[];if(t){I(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(t,r);o&&i.push(o)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const o=n.eventRegistrations_[s];if(o.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(o)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function iF(n,e,t,i){e.type===li.MERGE&&null!==e.source.queryId&&(I(wo(n.viewCache_),"We should always have a full cache before handling merges"),I(ap(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function(n,e,t,i,r){const s=new Ote;let o,a;if(t.type===li.OVERWRITE){const c=t;c.source.fromUser?o=HE(n,e,c.path,c.snap,i,r,s):(I(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!de(c.path),o=dp(n,e,c.path,c.snap,i,r,a,s))}else if(t.type===li.MERGE){const c=t;c.source.fromUser?o=function(n,e,t,i,r,s,o){let a=e;return i.foreach((l,c)=>{const u=it(t,l);J1(e,ue(u))&&(a=HE(n,a,u,c,r,s,o))}),i.foreach((l,c)=>{const u=it(t,l);J1(e,ue(u))||(a=HE(n,a,u,c,r,s,o))}),a}(n,e,c.path,c.children,i,r,s):(I(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=UE(n,e,c.path,c.children,i,r,a,s))}else if(t.type===li.ACK_USER_WRITE){const c=t;o=c.revert?function(n,e,t,i,r,s){let o;if(null!=up(i,t))return e;{const a=new BE(i,e,r),l=e.eventCache.getNode();let c;if(de(t)||".priority"===ue(t)){let u;if(e.serverCache.isFullyInitialized())u=cp(i,wo(e));else{const d=e.serverCache.getNode();I(d instanceof ie,"serverChildren would be complete if leaf node"),u=LE(i,d)}u=u,c=n.filter.updateFullNode(l,u,s)}else{const u=ue(t);let d=VE(i,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),c=null!=d?n.filter.updateChild(l,u,d,$e(t),a,s):e.eventCache.getNode().hasChild(u)?n.filter.updateChild(l,u,ie.EMPTY_NODE,$e(t),a,s):l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=cp(i,wo(e)),o.isLeafNode()&&(c=n.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=up(i,Me()),Au(e,c,o,n.filter.filtersNodes())}}(n,e,c.path,i,r,s):function(n,e,t,i,r,s,o){if(null!=up(r,t))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=i.value){if(de(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return dp(n,e,t,l.getNode().getChild(t),r,s,a,o);if(de(t)){let c=new Ye(null);return l.getNode().forEachChild(ir,(u,d)=>{c=c.set(new Fe(u),d)}),UE(n,e,t,c,r,s,a,o)}return e}{let c=new Ye(null);return i.foreach((u,d)=>{const h=it(t,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),UE(n,e,t,c,r,s,a,o)}}(n,e,c.path,c.affectedTree,i,r,s)}else{if(t.type!==li.LISTEN_COMPLETE)throw za("Unknown operation type: "+t.type);o=function(n,e,t,i,r){const s=e.serverCache;return Z1(n,j1(e,s.getNode(),s.isFullyInitialized()||de(t),s.isFiltered()),t,i,X1,r)}(n,e,t.path,i,s)}const l=s.getChanges();return function(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=ap(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(V1(ap(e)))}}(e,o,l),{viewCache:o,changes:l}}(n.processor_,r,e,t,i);return function(n,e){I(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),I(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),I(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,rF(n,s.changes,s.viewCache.eventCache.getNode(),null)}function rF(n,e,t,i){return function(n,e,t,i){const r=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(o.childName,o.snapshotNode))}),Mu(n,r,"child_removed",e,i,t),Mu(n,r,"child_added",e,i,t),Mu(n,r,"child_moved",s,i,t),Mu(n,r,"child_changed",e,i,t),Mu(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let hp,pp;class sF{constructor(){this.views=new Map}}function jE(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return I(null!=s,"SyncTree gave us an op for an invalid query."),iF(s,e,t,i)}{let s=[];for(const o of n.views.values())s=s.concat(iF(o,e,t,i));return s}}function oF(n,e,t,i,r){const o=n.views.get(e._queryIdentifier);if(!o){let a=cp(t,r?i:null),l=!1;a?l=!0:i instanceof ie?(a=LE(t,i),l=!1):(a=ie.EMPTY_NODE,l=!1);const c=op(new _s(a,l,!1),new _s(i,r,!1));return new $te(e,c)}return o}function aF(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function vs(n,e){let t=null;for(const i of n.views.values())t=t||Gte(i,e);return t}function lF(n,e){return e._queryParams.loadsAllData()?fp(n):n.views.get(e._queryIdentifier)}function cF(n,e){return null!=lF(n,e)}function bs(n){return null!=fp(n)}function fp(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let nne=1;class uF{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ye(null),this.pendingWriteTree_={visibleWrites:Mi.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function $E(n,e,t,i,r){return function(n,e,t,i,r){I(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=ku(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?fl(n,new Co({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Cs(n,e,t=!1){const i=function(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);I(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,o=n.allWrites.length-1;for(;r&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&Ete(a,i.path)?r=!1:ai(i.path,a.path)&&(s=!0)),o--}return!!r&&(s?(function(n){n.visibleWrites=G1(n.allWrites,Tte,Me()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=$1(n.visibleWrites,i.path):jt(i.children,l=>{n.visibleWrites=$1(n.visibleWrites,it(i.path,l))}),!0))}(n.pendingWriteTree_,e)){let s=new Ye(null);return null!=i.snap?s=s.set(Me(),!0):jt(i.children,o=>{s=s.set(new Fe(o),!0)}),fl(n,new sp(i.path,s,t))}return[]}function Ru(n,e,t){return fl(n,new Co({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function zE(n,e,t,i){const r=e._path,s=n.syncPointTree_.get(r);let o=[];if(s&&("default"===e._queryIdentifier||cF(s,e))){const a=function(n,e,t,i){const r=e._queryIdentifier,s=[];let o=[];const a=bs(n);if("default"===r)for(const[l,c]of n.views.entries())o=o.concat(nF(c,t,i)),tF(c)&&(n.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=n.views.get(r);l&&(o=o.concat(nF(l,t,i)),tF(l)&&(n.views.delete(r),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!bs(n)&&s.push(new(I(hp,"Reference.ts has not been loaded"),hp)(e._repo,e._path)),{removed:s,events:o}}(s,e,t,i);(function(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const l=a.removed;o=a.events;const c=-1!==l.findIndex(d=>d._queryParams.loadsAllData()),u=n.syncPointTree_.findOnPath(r,(d,h)=>bs(h));if(c&&!u){const d=n.syncPointTree_.subtree(r);if(!d.isEmpty()){const h=function(n){return n.fold((e,t,i)=>{if(t&&bs(t))return[fp(t)];{let r=[];return t&&(r=aF(t)),jt(i,(s,o)=>{r=r.concat(o)}),r}})}(d);for(let f=0;f<h.length;++f){const p=h[f],g=p.query,_=pF(n,p);n.listenProvider_.startListening(xu(g),gp(n,g),_.hashFn,_.onComplete)}}}if(!u&&l.length>0&&!i)if(c){const d=null;n.listenProvider_.stopListening(xu(e),d)}else l.forEach(d=>{const h=n.queryToTagMap.get(_p(d));n.listenProvider_.stopListening(xu(d),h)});!function(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=_p(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,l)}return o}function dF(n,e,t){const i=e._path;let r=null,s=!1;n.syncPointTree_.foreachOnPath(i,(d,h)=>{const f=_n(d,i);r=r||vs(h,f),s=s||bs(h)});let a,o=n.syncPointTree_.get(i);o?(s=s||bs(o),r=r||vs(o,Me())):(o=new sF,n.syncPointTree_=n.syncPointTree_.set(i,o)),null!=r?a=!0:(a=!1,r=ie.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((h,f)=>{const p=vs(f,Me());p&&(r=r.updateImmediateChild(h,p))}));const l=cF(o,e);if(!l&&!e._queryParams.loadsAllData()){const d=_p(e);I(!n.queryToTagMap.has(d),"View does not exist, but we have a tag");const h=nne++;n.queryToTagMap.set(d,h),n.tagToQueryMap.set(h,d)}let u=function(n,e,t,i,r,s){const o=oF(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,o),function(n,e){n.eventRegistrations_.push(e)}(o,t),function(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Ke,(s,o)=>{i.push(cl(s,o))}),t.isFullyInitialized()&&i.push(V1(t.getNode())),rF(n,i,t.getNode(),e)}(o,t)}(o,e,t,lp(n.pendingWriteTree_,i),r,a);if(!l&&!s){const d=lF(o,e);u=u.concat(function(n,e,t){const i=e._path,r=gp(n,e),s=pF(n,t),o=n.listenProvider_.startListening(xu(e),r,s.hashFn,s.onComplete),a=n.syncPointTree_.subtree(i);if(r)I(!bs(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!de(c)&&u&&bs(u))return[fp(u).query];{let h=[];return u&&(h=h.concat(aF(u).map(f=>f.query))),jt(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){const u=l[c];n.listenProvider_.stopListening(xu(u),gp(n,u))}}return o}(n,e,d))}return u}function mp(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{const c=vs(a,_n(o,e));if(c)return c});return q1(r,e,s,t,!0)}function fl(n,e){return hF(e,n.syncPointTree_,null,lp(n.pendingWriteTree_,Me()))}function hF(n,e,t,i){if(de(n.path))return fF(n,e,t,i);{const r=e.get(Me());null==t&&null!=r&&(t=vs(r,Me()));let s=[];const o=ue(n.path),a=n.operationForChild(o),l=e.children.get(o);if(l&&a){const c=t?t.getImmediateChild(o):null,u=Y1(i,o);s=s.concat(hF(a,l,c,u))}return r&&(s=s.concat(jE(r,n,i,t))),s}}function fF(n,e,t,i){const r=e.get(Me());null==t&&null!=r&&(t=vs(r,Me()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=t?t.getImmediateChild(o):null,c=Y1(i,o),u=n.operationForChild(o);u&&(s=s.concat(fF(u,a,l,c)))}),r&&(s=s.concat(jE(r,n,i,t))),s}function pF(n,e){const t=e.query,i=gp(n,t);return{hashFn:()=>(function(n){return n.viewCache_.serverCache.getNode()}(e)||ie.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function(n,e,t){const i=WE(n,t);if(i){const r=GE(i),s=r.path,o=r.queryId,a=_n(s,e);return qE(n,s,new Iu(xE(o),a))}return[]}(n,t._path,i):function(n,e){return fl(n,new Iu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return zE(n,t,null,s)}}}}function gp(n,e){const t=_p(e);return n.queryToTagMap.get(t)}function _p(n){return n._path.toString()+"$"+n._queryIdentifier}function WE(n,e){return n.tagToQueryMap.get(e)}function GE(n){const e=n.indexOf("$");return I(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Fe(n.substr(0,e))}}function qE(n,e,t){const i=n.syncPointTree_.get(e);return I(i,"Missing sync point for query tag that we're tracking"),jE(i,t,lp(n.pendingWriteTree_,e),null)}function xu(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(I(pp,"Reference.ts has not been loaded"),pp)(n._repo,n._path):n}class KE{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new KE(t)}node(){return this.node_}}class YE{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=it(this.path_,e);return new YE(this.syncTree_,t)}node(){return mp(this.syncTree_,this.path_)}}const mF=function(n,e,t){return n&&"object"==typeof n?(I(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?mne(n[".sv"],e,t):"object"==typeof n[".sv"]?gne(n[".sv"],e):void I(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},mne=function(n,e,t){if("timestamp"===n)return t.timestamp;I(!1,"Unexpected server value: "+n)},gne=function(n,e,t){n.hasOwnProperty("increment")||I(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&I(!1,"Unexpected increment value: "+i);const r=e.node();if(I(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return"number"!=typeof o?i:o+i},QE=function(n,e,t){return XE(n,new KE(e),t)};function XE(n,e,t){const i=n.getPriority().val(),r=mF(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,a=mF(o.getValue(),e,t);return a!==o.getValue()||r!==o.getPriority().val()?new ol(a,ot(r)):n}{const o=n;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new ol(r))),o.forEachChild(Ke,(a,l)=>{const c=XE(l,e.getImmediateChild(a),t);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}class ZE{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function yp(n,e){let t=e instanceof Fe?e:new Fe(e),i=n,r=ue(t);for(;null!==r;){const s=Wa(i.node.children,r)||{children:{},childCount:0};i=new ZE(r,i,s),t=$e(t),r=ue(t)}return i}function Do(n){return n.node.value}function JE(n,e){n.node.value=e,eD(n)}function _F(n){return n.node.childCount>0}function vp(n,e){jt(n.node.children,(t,i)=>{e(new ZE(t,n,i))})}function yF(n,e,t,i){t&&!i&&e(n),vp(n,r=>{yF(r,e,!0,i)}),t&&i&&e(n)}function Ou(n){return new Fe(null===n.parent?n.name:Ou(n.parent)+"/"+n.name)}function eD(n){null!==n.parent&&function(n,e,t){const i=function(n){return void 0===Do(n)&&!_F(n)}(t),r=Ar(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,eD(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,eD(n))}(n.parent,n.name,n)}const bne=/[\[\].#$\/\u0000-\u001F\u007F]/,Cne=/[\[\].#$\u0000-\u001F\u007F]/,tD=10485760,bp=function(n){return"string"==typeof n&&0!==n.length&&!bne.test(n)},vF=function(n){return"string"==typeof n&&0!==n.length&&!Cne.test(n)},Nu=function(n,e,t){const i=t instanceof Fe?new Nee(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+vo(i));if("function"==typeof e)throw new Error(n+"contains a function "+vo(i)+" with contents = "+e.toString());if(Kf(e))throw new Error(n+"contains "+e.toString()+" "+vo(i));if("string"==typeof e&&e.length>tD/3&&uf(e)>tD)throw new Error(n+"contains a string greater than "+tD+" utf8 bytes "+vo(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(jt(e,(o,a)=>{if(".value"===o)r=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!bp(o)))throw new Error(n+" contains an invalid key ("+o+") "+vo(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=uf(e),T1(n)})(i,o),Nu(n,a,i),function(n){const e=n.parts_.pop();n.byteLength_-=uf(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+vo(i)+" in addition to actual children.")}},iD=function(n,e,t,i){if(!(i&&void 0===t||vF(t)))throw new Error(Ga(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},sr=function(n,e){if(".info"===ue(e))throw new Error(n+" failed = Can't modify data under /.info/")};class Tne{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Cp(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!gE(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function rD(n,e,t){Cp(n,t),wF(n,i=>gE(i,e))}function ci(n,e,t){Cp(n,t),wF(n,i=>ai(i,e)||ai(e,i))}function wF(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(Sne(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function Sne(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();_o&&Ut("event: "+t.toString()),rl(i)}}}class Mne{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Tne,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=rp(),this.transactionQueueTree_=new ZE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function DF(n){const t=n.infoData_.getNode(new Fe(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Lu(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:DF(n)})}function TF(n,e,t,i,r){n.dataUpdateCount++;const s=new Fe(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(r)if(i){const l=lf(t,c=>ot(c));o=function(n,e,t,i){const r=WE(n,i);if(r){const s=GE(r),o=s.path,a=s.queryId,l=_n(o,e),c=Ye.fromObject(t);return qE(n,o,new dl(xE(a),l,c))}return[]}(n.serverSyncTree_,s,l,r)}else{const l=ot(t);o=function(n,e,t,i){const r=WE(n,i);if(null!=r){const s=GE(r),o=s.path,a=s.queryId,l=_n(o,e);return qE(n,o,new Co(xE(a),l,t))}return[]}(n.serverSyncTree_,s,l,r)}else if(i){const l=lf(t,c=>ot(c));o=function(n,e,t){const i=Ye.fromObject(t);return fl(n,new dl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,l)}else{const l=ot(t);o=Ru(n.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=ml(n,s)),ci(n.eventQueue_,a,o)}function SF(n,e){sD(n,"connected",e),!1===e&&function(n){pl(n,"onDisconnectEvents");const e=Lu(n),t=rp();AE(n.onDisconnect_,Me(),(r,s)=>{const o=function(n,e,t,i){return XE(e,new YE(t,n),i)}(r,s,n.serverSyncTree_,e);ul(t,r,o)});let i=[];AE(t,Me(),(r,s)=>{i=i.concat(Ru(n.serverSyncTree_,r,s));const o=cD(n,r);ml(n,o)}),n.onDisconnect_=rp(),ci(n.eventQueue_,Me(),i)}(n)}function sD(n,e,t){const i=new Fe("/.info/"+e),r=ot(t);n.infoData_.updateSnapshot(i,r);const s=Ru(n.infoSyncTree_,i,r);ci(n.eventQueue_,i,s)}function wp(n){return n.nextWriteId_++}function oD(n,e,t,i,r){pl(n,"set",{path:e.toString(),value:t,priority:i});const s=Lu(n),o=ot(t,i),a=mp(n.serverSyncTree_,e),l=QE(o,a,s),c=wp(n),u=$E(n.serverSyncTree_,e,l,c,!0);Cp(n.eventQueue_,u),n.server_.put(e.toString(),o.val(!0),(h,f)=>{const p="ok"===h;p||gn("set at "+e+" failed: "+h);const g=Cs(n.serverSyncTree_,c,!p);ci(n.eventQueue_,e,g),function(n,e,t,i){e&&rl(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const o=new Error(s);o.code=r,e(o)}})}(0,r,h,f)});const d=cD(n,e);ml(n,d),ci(n.eventQueue_,d,[])}function aD(n,e,t){let i;i=".info"===ue(e._path)?zE(n.infoSyncTree_,e,t):zE(n.serverSyncTree_,e,t),rD(n.eventQueue_,e._path,i)}function pl(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Ut(t,...e)}function lD(n,e,t){return mp(n.serverSyncTree_,e,t)||ie.EMPTY_NODE}function Ep(n,e=n.transactionQueueTree_){if(e||Dp(n,e),Do(e)){const t=kF(n,e);I(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function(n,e,t){const i=t.map(c=>c.currentWriteId),r=lD(n,e,i);let s=r;const o=r.hash();for(let c=0;c<t.length;c++){const u=t[c];I(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=_n(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;n.server_.put(l.toString(),a,c=>{pl(n,"transaction put response",{path:l.toString(),status:c});let u=[];if("ok"===c){const d=[];for(let h=0;h<t.length;h++)t[h].status=2,u=u.concat(Cs(n.serverSyncTree_,t[h].currentWriteId)),t[h].onComplete&&d.push(()=>t[h].onComplete(null,!0,t[h].currentOutputSnapshotResolved)),t[h].unwatcher();Dp(n,yp(n.transactionQueueTree_,e)),Ep(n,n.transactionQueueTree_),ci(n.eventQueue_,e,u);for(let h=0;h<d.length;h++)rl(d[h])}else{if("datastale"===c)for(let d=0;d<t.length;d++)t[d].status=3===t[d].status?4:0;else{gn("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=c}ml(n,e)}},o)}(n,Ou(e),t)}else _F(e)&&vp(e,t=>{Ep(n,t)})}function ml(n,e){const t=AF(n,e),i=Ou(t);return function(n,e,t){if(0===e.length)return;const i=[];let r=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=_n(t,l.path);let d,u=!1;if(I(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,d=l.abortReason,r=r.concat(Cs(n.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)u=!0,d="maxretry",r=r.concat(Cs(n.serverSyncTree_,l.currentWriteId,!0));else{const h=lD(n,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){Nu("transaction failed: Data returned ",f,l.path);let p=ot(f);"object"==typeof f&&null!=f&&Ar(f,".priority")||(p=p.updatePriority(h.getPriority()));const _=l.currentWriteId,b=Lu(n),v=QE(p,h,b);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=v,l.currentWriteId=wp(n),o.splice(o.indexOf(_),1),r=r.concat($E(n.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),r=r.concat(Cs(n.serverSyncTree_,_,!0))}else u=!0,d="nodata",r=r.concat(Cs(n.serverSyncTree_,l.currentWriteId,!0))}ci(n.eventQueue_,t,r),r=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&i.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}Dp(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)rl(i[a]);Ep(n,n.transactionQueueTree_)}(n,kF(n,t),i),i}function AF(n,e){let t,i=n.transactionQueueTree_;for(t=ue(e);null!==t&&void 0===Do(i);)i=yp(i,t),t=ue(e=$e(e));return i}function kF(n,e){const t=[];return RF(n,e,t),t.sort((i,r)=>i.order-r.order),t}function RF(n,e,t){const i=Do(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);vp(e,r=>{RF(n,r,t)})}function Dp(n,e){const t=Do(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,JE(e,t.length>0?t:void 0)}vp(e,i=>{Dp(n,i)})}function cD(n,e){const t=Ou(AF(n,e)),i=yp(n.transactionQueueTree_,e);return function(n,e,t){let i=n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{uD(n,r)}),uD(n,i),yF(i,r=>{uD(n,r)}),t}function uD(n,e){const t=Do(e);if(t){const i=[];let r=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?(I(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(I(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),r=r.concat(Cs(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&i.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?JE(e,void 0):t.length=s+1,ci(n.eventQueue_,Ou(e),r);for(let o=0;o<i.length;o++)rl(i[o])}}const dD=function(n,e){const t=zne(n),i=t.namespace;return"firebase.com"===t.domain&&tr(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&tr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&gn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new lE(t.host,t.secure,i,e,"ws"===t.scheme||"wss"===t.scheme,"",i!==t.subdomain),path:new Fe(t.pathString)}},zne=function(n){let e="",t="",i="",r="",s="",o=!0,a="https",l=443;if("string"==typeof n){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let u=n.indexOf("/");-1===u&&(u=n.length);let d=n.indexOf("?");-1===d&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(r=function(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(s){}e+="/"+r}return e}(n.substring(u,d)));const h=function(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):gn(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,d)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if("localhost"===f.toLowerCase())t="localhost";else if(f.split(".").length<=2)t=f;else{const p=e.indexOf(".");i=e.substring(0,p).toLowerCase(),t=e.substring(p+1),s=i}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:t,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};class xF{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+kt(this.snapshot.exportVal())}}class OF{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class PF{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return I(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class zn{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return de(this._path)?null:mE(this._path)}get ref(){return new Ai(this._repo,this._path)}get _queryIdentifier(){const e=H1(this._queryParams),t=sE(e);return"{}"===t?"default":t}get _queryObject(){return H1(this._queryParams)}isEqual(e){if(!((e=Vt(e))instanceof zn))return!1;const t=this._repo===e._repo,i=gE(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Ai extends zn{constructor(e,t){super(e,t,new TE,!1)}get parent(){const e=D1(this._path);return null===e?null:new Ai(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class To{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Fe(e),i=Ds(this.ref,e);return new To(this._node.getChild(t),i,Ke)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new To(r,Ds(this.ref,i),Ke)))}hasChild(e){const t=new Fe(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function NF(n,e){return(n=Vt(n))._checkNotDeleted("ref"),void 0!==e?Ds(n._root,e):n._root}function Ds(n,e){return null===ue((n=Vt(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),iD("child","path",t,!1)):iD("child","path",e,!1),new Ai(n._repo,it(n._path,e));var t}function Gne(n){return sr("remove",n._path),hD(n,null)}function hD(n,e){n=Vt(n),sr("set",n._path),function(n,e,t,i){i&&void 0===e||Nu(Ga(n,"value"),e,t)}("set",e,n._path,!1);const t=new us;return oD(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function qne(n){return function(n,e){const t=function(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(c,u)=>{const d=_n(c,t);i=i||vs(u,d)});let r=n.syncPointTree_.get(t);r?i=i||vs(r,Me()):(r=new sF,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,o=s?new _s(i,!0,!1):null;return function(n){return ap(n.viewCache_)}(oF(r,e,lp(n.pendingWriteTree_,e._path),s?o.getNode():ie.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=t?Promise.resolve(t):n.server_.get(e).then(i=>{const r=ot(i).withIndex(e._queryParams.getIndex()),s=Ru(n.serverSyncTree_,e._path,r);return rD(n.eventQueue_,e._path,s),Promise.resolve(r)},i=>(pl(n,"get for query "+kt(e)+" failed: "+i),Promise.reject(new Error(i))))}((n=Vt(n))._repo,n).then(e=>new To(e,new Ai(n._repo,n._path),n._queryParams.getIndex()))}class Ip{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new xF("value",this,new To(e.snapshotNode,new Ai(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new OF(this,e,t):null}matches(e){return e instanceof Ip&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Mp{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new OF(this,e,t):null}createEvent(e,t){I(null!=e.childName,"Child events should have a childName.");const i=Ds(new Ai(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new xF(e.type,this,new To(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Mp&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Vu(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const l=t,c=(u,d)=>{aD(n._repo,n,a),l(u,d)};c.userCallback=t.userCallback,c.context=t.context,t=c}const o=new PF(t,s||void 0),a="value"===e?new Ip(o):new Mp(e,o);return function(n,e,t){let i;i=".info"===ue(e._path)?dF(n.infoSyncTree_,e,t):dF(n.serverSyncTree_,e,t),rD(n.eventQueue_,e._path,i)}(n._repo,n,a),()=>aD(n._repo,n,a)}(function(n){I(!hp,"__referenceConstructor has already been defined"),hp=n})(Ai),function(n){I(!pp,"__referenceConstructor has already been defined"),pp=n}(Ai);const fD={};function uie(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||tr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ut("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l,c,o=dD(s,r),a=o.repoInfo;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=dD(s,r),a=o.repoInfo):l=!o.repoInfo.secure;const u=r&&l?new _u(_u.OWNER):new aee(n.name,n.options,e);(function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!bp(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),vF(n)}(t))throw new Error(Ga(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",o),de(o.path)||tr("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(n,e,t,i){let r=fD[e.name];r||(r={},fD[e.name]=r);let s=r[n.toURLString()];return s&&tr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Mne(n,false,t,i),r[n.toURLString()]=s,s}(a,n,u,new oee(n.name,t));return new pie(d,n)}class pie{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(n,e,t){if(n.stats_=dE(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new ip(n.repoInfo_,(i,r,s,o)=>{TF(n,i,r,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>SF(n,!0),0);else{if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{kt(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new bo(n.repoInfo_,e,(i,r,s,o)=>{TF(n,i,r,s,o)},i=>{SF(n,i)},i=>{!function(n,e){jt(e,(t,i)=>{sD(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function(n,e){const t=n.toString();return uE[t]||(uE[t]=e()),uE[t]}(n.repoInfo_,()=>new fte(n.stats_,n.server_)),n.infoData_=new lte,n.infoSyncTree_=new uF({startListening:(i,r,s,o)=>{let a=[];const l=n.infoData_.getNode(i._path);return l.isEmpty()||(a=Ru(n.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),sD(n,"connected",!1),n.serverSyncTree_=new uF({startListening:(i,r,s,o)=>(n.server_.listen(i,s,r,(a,l)=>{const c=o(a,l);ci(n.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ai(this._repo,Me())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(n,e){const t=fD[e];(!t||t[n.key]!==n)&&tr(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&tr("Cannot call "+e+" on a deleted database.")}}function mie(n=Yc(),e){return ds(n,"database").getImmediate({identifier:e})}bo.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},bo.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},nE="9.6.1",Dn(new pn("database",(e,{instanceIdentifier:t})=>uie(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),st(UN,"0.12.4",void 0),st(UN,"0.12.4","esm2017");class gl{constructor(e){return e}}const HF="database",pD=new M("angularfire2.database-instances");function wie(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new gl(i)}}const Eie={provide:class{constructor(){return Bb(HF)}},deps:[[new tt,pD]]},Die={provide:gl,useFactory:function(n,e){const t=Vb(HF,n,e);return t&&new gl(t)},deps:[[new tt,pD],el]};let UF=(()=>{class n{constructor(){st("angularfire",Jc.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({providers:[Die,Eie]}),n})();function Tie(n,...e){return{ngModule:UF,providers:[{provide:pD,useFactory:wie(n),multi:!0,deps:[ee,Ze,wf,Ef,[new tt,VN],[new tt,iC],...e]}]}}const Iie=Sn(mie,!0),mD=Sn(NF,!0),Mie=Sn(Gne,!0);function jF(n,e){return e?t=>Bh(e.pipe(Et(1),lt((n,e)=>{n.subscribe(new Je(e,Yn))})),t.pipe(jF(n))):gt((t,i)=>n(t,i).pipe(Et(1),function(n){return ne(()=>n)}(t)))}function $F(n=0,e,t=iP){let i=-1;return null!=e&&(kT(e)?t=e:i=e),new Ee(r=>{let s=function(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function gD(n,e=Cf){const t=$F(n,e);return jF(()=>t)}function zF(n,e=Kr){return n=null!=n?n:xie,lt((t,i)=>{let r,s=!0;t.subscribe(new Je(i,o=>{const a=e(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}function xie(n,e){return n===e}var Ap=function(){return Ap=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var s in t=arguments[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Ap.apply(this,arguments)};function yD(n,e){for(var t=0,i=e.length,r=n.length;t<i;t++,r++)n[r]=e[t];return n}var So,ft=(()=>(function(n){n.added="child_added",n.removed="child_removed",n.changed="child_changed",n.moved="child_moved",n.value="value"}(ft||(ft={})),ft))(),Nie=Object.freeze(((So={})[ft.added]=function(n,e,t,i){return Vu(n,"child_added",e,t,i)},So[ft.removed]=function(n,e,t,i){return Vu(n,"child_removed",e,t,i)},So[ft.changed]=function(n,e,t,i){return Vu(n,"child_changed",e,t,i)},So[ft.moved]=function(n,e,t,i){return Vu(n,"child_moved",e,t,i)},So[ft.value]=function(n,e,t,i){return Vu(n,"value",e,t,i)},So));function Vie(n,e){void 0===e&&(e={});var t=function(n){return(null==n||0===n.length)&&(n=[ft.added,ft.removed,ft.changed,ft.moved]),n}(e.events);return function(n){return ct(qne(n)).pipe(ne(function(e){return{snapshot:e,prevKey:null,event:ft.value}}))}(n).pipe(Ki(function(i){if(!i.snapshot.exists())return V([]);var r=[V(i)];return t.forEach(function(s){r.push(function(n,e){return new Ee(function(t){var i=Nie[e](n,function(r,s){t.next({snapshot:r,prevKey:s,event:e})},t.error.bind(t));return{unsubscribe:function(){!function(n,e,t){let i=null;const r=t?new PF(t):null;"value"===e?i=new Ip(r):e&&(i=new Mp(e,r)),aD(n._repo,n,i)}(n,e,i)}}}).pipe(gD(0))}(n,s))}),Fs.apply(void 0,r).pipe(Ay(Uie,[]))}),zF())}function YF(n,e){for(var t=n.length,i=0;i<t;i++)if(n[i].snapshot.key===e)return i;return-1}function Uie(n,e){var t=e.snapshot,i=e.prevKey,r=e.event,s=t.key,o=YF(n,s),a=function(n,e){if(null==e)return 0;var t=YF(n,e);return-1===t?n.length:t+1}(n,i||void 0);switch(r){case ft.value:if(e.snapshot&&e.snapshot.exists()){var l=null;e.snapshot.forEach(function(d){var h={snapshot:d,event:ft.value,prevKey:l};return l=d.key,n=yD(yD([],n),[h]),!1})}return n;case ft.added:if(o>-1){var c=n[o-1];(c&&c.snapshot.key||null)!==i&&(n=n.filter(function(d){return d.snapshot.key!==t.key})).splice(a,0,e)}else{if(null==i)return yD([e],n);(n=n.slice()).splice(a,0,e)}return n;case ft.removed:return n.filter(function(d){return d.snapshot.key!==t.key});case ft.changed:return n.map(function(d){return d.snapshot.key===s?e:d});case ft.moved:if(o>-1){var u=n.splice(o,1)[0];return(n=n.slice()).splice(a,0,u),n}return n;default:return n}}class zie{constructor(e){this.type=e.type,this.projectId=e.project_id,this.privateKeyId=e.private_key_id,this.privateKey=e.private_key,this.clientEmail=e.client_email,this.clientId=e.client_id,this.authUri=e.auth_uri,this.tokenUri=e.token_uri,this.authProviderX509CertUrl=e.auth_provider_x509_cert_url,this.clientC509CertUrl=e.client_x509_cert_url}}class Wie{constructor(e,t,i,r){this.isEncrypted=!1,this.id=e,this.name=t,this.projectUrl=i,this.credential=r}}var Rp,Gie=new Uint8Array(16);function qie(){if(!Rp&&!(Rp="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Rp(Gie)}const Kie=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Qie=function(n){return"string"==typeof n&&Kie.test(n)};for(var Kt=[],vD=0;vD<256;++vD)Kt.push((vD+256).toString(16).substr(1));const ere=function(n,e,t){var i=(n=n||{}).random||(n.rng||qie)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){t=t||0;for(var r=0;r<16;++r)e[t+r]=i[r];return e}return function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(Kt[n[e+0]]+Kt[n[e+1]]+Kt[n[e+2]]+Kt[n[e+3]]+"-"+Kt[n[e+4]]+Kt[n[e+5]]+"-"+Kt[n[e+6]]+Kt[n[e+7]]+"-"+Kt[n[e+8]]+Kt[n[e+9]]+"-"+Kt[n[e+10]]+Kt[n[e+11]]+Kt[n[e+12]]+Kt[n[e+13]]+Kt[n[e+14]]+Kt[n[e+15]]).toLowerCase();if(!Qie(t))throw TypeError("Stringified UUID is invalid");return t}(i)};function kn(n){return null!=n&&"false"!=`${n}`}function Hu(n,e=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function QF(n){return Array.isArray(n)?n:[n]}function wt(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Br(n){return n instanceof J?n.nativeElement:n}const nre=["addListener","removeListener"],ire=["addEventListener","removeEventListener"],rre=["on","off"];function Uu(n,e,t,i){if(he(t)&&(i=t,t=void 0),i)return Uu(n,e,t).pipe(Iy(i));const[r,s]=function(n){return he(n.addEventListener)&&he(n.removeEventListener)}(n)?ire.map(o=>a=>n[o](e,a,t)):function(n){return he(n.addListener)&&he(n.removeListener)}(n)?nre.map(XF(n,e)):function(n){return he(n.on)&&he(n.off)}(n)?rre.map(XF(n,e)):[];if(!r&&xm(n))return gt(o=>Uu(o,e,t))(xn(n));if(!r)throw new TypeError("Invalid event target");return new Ee(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function XF(n,e){return t=>i=>n[t](e,i)}const ju={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=ju;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new Ae(()=>null==t?void 0:t(r))},requestAnimationFrame(...n){const{delegate:e}=ju;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=ju;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};new class extends bf{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let i,r=-1;e=e||t.shift();const s=t.length;do{if(i=e.execute(e.state,e.delay))break}while(++r<s&&(e=t.shift()));if(this._active=!1,i){for(;++r<s&&(e=t.shift());)e.unsubscribe();throw i}}}(class extends vf{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=ju.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(ju.cancelAnimationFrame(t),e._scheduled=void 0)}});let bD,dre=1;const xp={};function ZF(n){return n in xp&&(delete xp[n],!0)}const hre={setImmediate(n){const e=dre++;return xp[e]=!0,bD||(bD=Promise.resolve()),bD.then(()=>ZF(e)&&n()),e},clearImmediate(n){ZF(n)}},{setImmediate:fre,clearImmediate:pre}=hre,Op={setImmediate(...n){const{delegate:e}=Op;return((null==e?void 0:e.setImmediate)||fre)(...n)},clearImmediate(n){const{delegate:e}=Op;return((null==e?void 0:e.clearImmediate)||pre)(n)},delegate:void 0},CD=new class extends bf{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let i,r=-1;e=e||t.shift();const s=t.length;do{if(i=e.execute(e.state,e.delay))break}while(++r<s&&(e=t.shift()));if(this._active=!1,i){for(;++r<s&&(e=t.shift());)e.unsubscribe();throw i}}}(class extends vf{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Op.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(Op.clearImmediate(t),e._scheduled=void 0)}});function JF(n,e=iP){return function(n){return lt((e,t)=>{let i=!1,r=null,s=null,o=!1;const a=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const c=r;r=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(new Je(t,c=>{i=!0,r=c,s||xn(n()).subscribe(s=new Je(t,a,l))},()=>{o=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>$F(n,e))}let wD;try{wD="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){wD=!1}let _l,nn=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function(n){return n===xR}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!wD)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(C(Ks))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ED=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({}),n})();const eL=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function tL(){if(_l)return _l;if("object"!=typeof document||!document)return _l=new Set(eL),_l;let n=document.createElement("input");return _l=new Set(eL.filter(e=>(n.setAttribute("type",e),n.type===e))),_l}let $u,Io,DD;function zu(n){return function(){if(null==$u&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>$u=!0}))}finally{$u=$u||!1}return $u}()?n:!!n.capture}function vre(){if(null==Io){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Io=!1,Io;if("scrollBehavior"in document.documentElement.style)Io=!0;else{const n=Element.prototype.scrollTo;Io=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Io}function nL(n){if(function(){if(null==DD){const n="undefined"!=typeof document?document.head:null;DD=!(!n||!n.createShadowRoot&&!n.attachShadow)}return DD}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function TD(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Mo(n){return n.composedPath?n.composedPath()[0]:n.target}function SD(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const Cre=new M("cdk-dir-doc",{providedIn:"root",factory:function(){return $d(te)}}),Ere=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let yl=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new Ie,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Ere.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(C(Cre,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({}),n})(),Sre=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new _e,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ee(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(JF(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):V()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(At(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Br(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Uu(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(C(ee),C(nn),C(te,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ID=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new _e,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(JF(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(C(nn),C(ee),C(te,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({}),n})(),AD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({imports:[[Wu,ED,MD],Wu,MD]}),n})();class kD{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class RD extends kD{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class xD extends kD{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Mre extends kD{constructor(e){super(),this.element=e instanceof J?e.nativeElement:e}}class OD{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof RD?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof xD?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Mre?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Are extends OD{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let iL=(()=>{class n extends OD{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Ie,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=i.createComponent(s,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(m(os),m(Nt),m(te))},n.\u0275dir=T({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[N]}),n})(),rL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({}),n})();function ki(n){return lt((e,t)=>{xn(n).subscribe(new Je(t,()=>t.complete(),Yn)),!t.closed&&e.subscribe(t)})}const sL=vre();class kre{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=wt(-this._previousScrollPosition.left),e.style.top=wt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),sL&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),sL&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class Rre{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class oL{enable(){}disable(){}attach(){}}function PD(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function aL(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class xre{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();PD(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ore=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new oL,this.close=o=>new Rre(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new kre(this._viewportRuler,this._document),this.reposition=o=>new xre(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(C(Sre),C(ID),C(ee),C(te))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ND{constructor(e){if(this.scrollStrategy=new oL,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Pre{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class Nre{constructor(e,t,i,r,s,o,a,l,c){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new _e,this._attachments=new _e,this._detachments=new _e,this._locationChanges=Ae.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._keydownEvents=new _e,this._outsidePointerEvents=new _e,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Et(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=wt(this._config.width),e.height=wt(this._config.height),e.minWidth=wt(this._config.minWidth),e.minHeight=wt(this._config.minHeight),e.maxWidth=wt(this._config.maxWidth),e.maxHeight=wt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const i=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",i),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",i)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(e,t,i){const r=QF(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ki(Fs(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}let FD=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||SD()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),SD()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(C(te),C(nn))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lL="cdk-overlay-connected-position-bounding-box",Fre=/([A-Za-z%]+)$/;class Lre{constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new _e,this._resizeSubscription=Ae.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(lL),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=[];let s;for(let o of this._preferredPositions){let a=this._getOriginPoint(e,o),l=this._getOverlayPoint(a,t,o),c=this._getOverlayFit(l,t,i,o);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,a);this._canFitWithFlexibleDimensions(c,l,i)?r.push({position:o,origin:a,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(a,o)}):(!s||s.overlayFit.visibleArea<c.visibleArea)&&(s={overlayFit:c,overlayPoint:l,originPoint:a,position:o,overlayRect:t})}if(r.length){let o=null,a=-1;for(const l of r){const c=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);c>a&&(a=c,o=l)}return this._isPushed=!1,void this._applyPosition(o.position,o.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ao(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(lL),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let i,r;if("center"==t.originX)i=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,o=this._isRtl()?e.left:e.right;i="start"==t.originX?s:o}return r="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:i,y:r}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=uL(t);let{x:o,y:a}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-i.height,p=this._subtractOverflows(s.width,0-o,o+s.width-i.width),g=this._subtractOverflows(s.height,h,f),_=p*g;return{visibleArea:_,isCompletelyWithinViewport:s.width*s.height===_,fitsInViewportVertically:g===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,o=cL(this._overlayRef.getConfig().minHeight),a=cL(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=a&&a<=s;return(e.fitsInViewportVertically||null!=o&&o<=r)&&c}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=uL(t),s=this._viewportRect,o=Math.max(e.x+r.width-s.width,0),a=Math.max(e.y+r.height-s.height,0),l=Math.max(s.top-i.top-e.y,0),c=Math.max(s.left-i.left-e.x,0);let u=0,d=0;return u=r.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-i.left-e.x:0,d=r.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Pre(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=i.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,s=i.height-a+this._viewportMargin;else{const f=Math.min(i.bottom-e.y+i.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)h=i.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)d=e.x,u=i.right-e.x;else{const f=Math.min(i.right-e.x+i.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=wt(i.height),r.top=wt(i.top),r.bottom=wt(i.bottom),r.width=wt(i.width),r.left=wt(i.left),r.right=wt(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=wt(s)),o&&(r.maxWidth=wt(o))}this._lastBoundingBoxSize=i,Ao(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ao(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ao(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();Ao(i,this._getExactOverlayY(t,e,u)),Ao(i,this._getExactOverlayX(t,e,u))}else i.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),o.maxHeight&&(r?i.maxHeight=wt(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=wt(o.maxWidth):s&&(i.maxWidth="")),Ao(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return s.y-=o,"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=wt(s.y),r}_getExactOverlayX(e,t,i){let o,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=wt(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:aL(e,i),isOriginOutsideView:PD(e,i),isOverlayClipped:aL(t,i),isOverlayOutsideView:PD(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&QF(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof J)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Ao(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function cL(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Fre);return t&&"px"!==t?null:parseFloat(e)}return n||null}function uL(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const dL="cdk-global-overlay-wrapper";class Vre{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(dL),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a);e.position=this._cssPosition,e.marginLeft=l?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,l?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(dL),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Bre=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new Vre}flexibleConnectedTo(t){return new Lre(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(C(ID),C(te),C(nn),C(FD))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hL=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(C(te))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hre=(()=>{class n extends hL{constructor(t){super(t),this._keydownListener=i=>{const r=this._attachedOverlays;for(let s=r.length-1;s>-1;s--)if(r[s]._keydownEvents.observers.length>0){r[s]._keydownEvents.next(i);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(C(te))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ure=(()=>{class n extends hL{constructor(t,i){super(t),this._platform=i,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=Mo(r)},this._clickListener=r=>{const s=Mo(r),o="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const a=this._attachedOverlays.slice();for(let l=a.length-1;l>-1;l--){const c=a[l];if(!(c._outsidePointerEvents.observers.length<1)&&c.hasAttached()){if(c.overlayElement.contains(s)||c.overlayElement.contains(o))break;c._outsidePointerEvents.next(r)}}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(C(te),C(nn))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jre=0,vl=(()=>{class n{constructor(t,i,r,s,o,a,l,c,u,d,h){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new ND(t);return o.direction=o.direction||this._directionality.value,new Nre(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+jre++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Na)),new Are(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(C(Ore),C(FD),C(os),C(Bre),C(Hre),C(Ze),C(ee),C(te),C(yl),C(Sc),C(Ure))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();const Wre={provide:new M("cdk-connected-overlay-scroll-strategy"),deps:[vl],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let fL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({providers:[vl,Wre],imports:[[Wu,rL,AD],AD]}),n})();function BD(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function yL(n,e=Cf){return lt((t,i)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=s;s=null,i.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}t.subscribe(new Je(i,c=>{s=c,o=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}class use extends class{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new _e,this._typeaheadSubscription=Ae.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new _e,this.change=new _e,e instanceof xa&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Ft(t=>this._pressedLetters.push(t)),yL(e),At(()=>this._pressedLetters.length>0),ne(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,o=i[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||BD(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e),r=t[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof xa?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let CL=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function(n){try{return n.frameElement}catch(e){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===EL(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),s=EL(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||wL(n))}(t)&&!this.isDisabled(t)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(C(nn))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wL(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function EL(n){if(!wL(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Cse{constructor(e,t,i,r,s=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return null==i||i.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Et(1)).subscribe(e)}}let wse=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new Cse(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(C(CL),C(ee),C(te))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function HD(n){return 0===n.offsetX&&0===n.offsetY}function UD(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Ese=new M("cdk-input-modality-detector-options"),Dse={ignoreKeys:[18,17,224,91,16]},bl=zu({passive:!0,capture:!0});let Tse=(()=>{class n{constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new jn(null),this._lastTouchMs=0,this._onKeydown=o=>{var a,l;(null===(l=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)||void 0===l?void 0:l.some(c=>c===o.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Mo(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(HD(o)?"keyboard":"mouse"),this._mostRecentTarget=Mo(o))},this._onTouchstart=o=>{UD(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Mo(o))},this._options=Object.assign(Object.assign({},Dse),s),this.modalityDetected=this._modality.pipe(At((e,t)=>1<=t)),this.modalityChanged=this.modalityDetected.pipe(zF()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,bl),r.addEventListener("mousedown",this._onMousedown,bl),r.addEventListener("touchstart",this._onTouchstart,bl)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,bl),document.removeEventListener("mousedown",this._onMousedown,bl),document.removeEventListener("touchstart",this._onTouchstart,bl))}}return n.\u0275fac=function(t){return new(t||n)(C(nn),C(ee),C(te),C(Ese,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ise=new M("cdk-focus-monitor-default-options"),Np=zu({passive:!0,capture:!0});let Gu=(()=>{class n{constructor(t,i,r,s,o){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new _e,this._rootNodeFocusAndBlurListener=a=>{const l=Mo(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,a,u)},this._document=s,this._detectionMode=(null==o?void 0:o.detectionMode)||0}monitor(t,i=!1){const r=Br(t);if(!this._platform.isBrowser||1!==r.nodeType)return V(null);const s=nL(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;const a={checkChildren:i,subject:new _e,rootNode:s};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Br(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=Br(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=Mo(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Np),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Np)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ki(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Np),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Np),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(C(ee),C(nn),C(Tse),C(te,8),C(Ise,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TL="cdk-high-contrast-black-on-white",SL="cdk-high-contrast-white-on-black",jD="cdk-high-contrast-active";let Mse=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(jD),t.remove(TL),t.remove(SL),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(jD),t.add(TL)):2===i&&(t.add(jD),t.add(SL))}}}return n.\u0275fac=function(t){return new(t||n)(C(nn),C(te))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class IL{}const Hr="*";function Fp(n,e){return{type:7,name:n,definitions:e,options:{}}}function Cl(n,e=null){return{type:4,styles:e,timings:n}}function ML(n,e=null){return{type:2,steps:n,options:e}}function Wn(n){return{type:6,styles:n,offset:null}}function qu(n,e,t){return{type:0,name:n,styles:e,options:t}}function wl(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function AL(n){Promise.resolve(null).then(n)}class El{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){AL(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class kL{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?AL(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function RL(){return"undefined"!=typeof window&&void 0!==window.document}function zD(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ts(n){switch(n.length){case 0:return new El;case 1:return n[0];default:return new kL(n)}}function xL(n,e,t,i,r={},s={}){const o=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const d=u.offset,h=d==l,f=h&&c||{};Object.keys(u).forEach(p=>{let g=p,_=u[p];if("offset"!==p)switch(g=e.normalizePropertyName(g,o),_){case"!":_=r[p];break;case Hr:_=s[p];break;default:_=e.normalizeStyleValue(p,g,_,o)}f[g]=_}),h||a.push(f),c=f,l=d}),o.length){const u="\n - ";throw new Error(`Unable to animate due to the following errors:${u}${o.join(u)}`)}return a}function WD(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&GD(t,"start",n)));break;case"done":n.onDone(()=>i(t&&GD(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&GD(t,"destroy",n)))}}function GD(n,e,t){const i=t.totalTime,s=qD(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function qD(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Gn(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function OL(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let KD=(n,e)=>!1,PL=(n,e,t)=>[];(zD()||"undefined"!=typeof Element)&&(KD=RL()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),PL=(n,e,t)=>{let i=[];if(t){const r=n.querySelectorAll(e);for(let s=0;s<r.length;s++)i.push(r[s])}else{const r=n.querySelector(e);r&&i.push(r)}return i});let ko=null,NL=!1;function YD(n){ko||(ko=("undefined"!=typeof document?document.body:null)||{},NL=!!ko.style&&"WebkitAppearance"in ko.style);let e=!0;return ko.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ko.style,!e&&NL&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in ko.style)),e}const QD=KD,XD=PL;function FL(n){const e={};return Object.keys(n).forEach(t=>{const i=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=n[t]}),e}let LL=(()=>{class n{validateStyleProperty(t){return YD(t)}matchesElement(t,i){return!1}containsElement(t,i){return QD(t,i)}query(t,i,r){return XD(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,o,a=[],l){return new El(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})(),ZD=(()=>{class n{}return n.NOOP=new LL,n})();const JD="ng-enter",Lp="ng-leave",Vp="ng-trigger",Bp=".ng-trigger",BL="ng-animating",e0=".ng-animating";function Ro(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:t0(parseFloat(e[1]),e[2])}function t0(n,e){return"s"===e?1e3*n:n}function Hp(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};r=t0(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=t0(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),a=!0),s<0&&(e.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&e.splice(l,0,`The provided timing value "${n}" is invalid.`)}return{duration:r,delay:s,easing:o}}(n,e,t)}function Dl(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Ss(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else Dl(n,t);return t}function UL(n,e,t){return t?e+":"+t+";":""}function jL(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=UL(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=UL(0,Lse(t),n.style[t]));n.setAttribute("style",e)}function or(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=r0(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),zD()&&jL(n))}function xo(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=r0(t);n.style[i]=""}),zD()&&jL(n))}function Ku(n){return Array.isArray(n)?1==n.length?n[0]:ML(n):n}const n0=new RegExp("{{\\s*(.+?)\\s*}}","g");function $L(n){let e=[];if("string"==typeof n){let t;for(;t=n0.exec(n);)e.push(t[1]);n0.lastIndex=0}return e}function Up(n,e,t){const i=n.toString(),r=i.replace(n0,(s,o)=>{let a=e[o];return e.hasOwnProperty(o)||(t.push(`Please provide a value for the animation param ${o}`),a=""),a.toString()});return r==i?n:r}function jp(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Fse=/-+([a-z0-9])/g;function r0(n){return n.replace(Fse,(...e)=>e[1].toUpperCase())}function Lse(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function zL(n,e){return 0===n||0===e}function WL(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let s=e[0],o=[];if(i.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=t[a]}),o.length)for(var r=1;r<e.length;r++){let a=e[r];o.forEach(function(l){a[l]=s0(n,l)})}}return e}function qn(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function s0(n,e){return window.getComputedStyle(n)[e]}function Vse(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,e,t){if(":"==n[0]){const l=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const r=i[1],s=i[2],o=i[3];e.push(GL(r,o));"<"==s[0]&&!("*"==r&&"*"==o)&&e.push(GL(o,r))}(i,t,e)):t.push(n),t}const zp=new Set(["true","1"]),Wp=new Set(["false","0"]);function GL(n,e){const t=zp.has(n)||Wp.has(n),i=zp.has(e)||Wp.has(e);return(r,s)=>{let o="*"==n||n==r,a="*"==e||e==s;return!o&&t&&"boolean"==typeof r&&(o=r?zp.has(n):Wp.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?zp.has(e):Wp.has(e)),o&&a}}const Use=new RegExp("s*:selfs*,?","g");function o0(n,e,t){return new jse(n).build(e,t)}class jse{constructor(e){this._driver=e}build(e,t){const i=new Wse(t);return this._resetContextStyleTimingState(i),qn(this,Ku(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};if(i.styles.forEach(a=>{if(Gp(a)){const l=a;Object.keys(l).forEach(c=>{$L(l[c]).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}}),s.size){const a=jp(s.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=qn(this,Ku(e.animation),t);return{type:1,matchers:Vse(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Oo(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>qn(this,i,t)),options:Oo(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(o=>{t.currentTime=i;const a=qn(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:s,options:Oo(e.options)}}visitAnimate(e,t){const i=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return a0(Hp(n,e).duration,0,"");const i=n;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=a0(0,0,"");return s.dynamic=!0,s.strValue=i,s}return t=t||Hp(i,e),a0(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:Wn({});if(5==s.type)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=Wn(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==Hr?i.push(o):t.errors.push(`The provided style string value ${o} is not allowed.`):i.push(o)}):i.push(e.styles);let r=!1,s=null;return i.forEach(o=>{if(Gp(o)){const a=o,l=a.easing;if(l&&(s=l,delete a.easing),!r)for(let c in a)if(a[c].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void t.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const l=t.collectedStyles[t.currentQuerySelector],c=l[a];let u=!0;c&&(s!=r&&s>=c.startTime&&r<=c.endTime&&(t.errors.push(`The CSS property "${a}" that exists between the times of "${c.startTime}ms" and "${c.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${r}ms"`),u=!1),s=c.startTime),u&&(l[a]={startTime:s,endTime:r}),t.options&&function(n,e,t){const i=e.params||{},r=$L(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(o[a],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(b=>{const v=this._makeStyleAst(b,t);let S=null!=v.offset?v.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Gp(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(Gp(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(v.styles),x=0;return null!=S&&(s++,x=v.offset=S),l=l||x<0||x>1,a=a||x<c,c=x,o.push(x),v});l&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,g=t.currentAnimateTimings,_=g.duration;return u.forEach((b,v)=>{const S=h>0?v==f?1:h*v:o[v],x=S*_;t.currentTime=p+g.delay+x,g.duration=x,this._validateStyleAst(b,t),b.offset=S,i.styles.push(b)}),i}visitReference(e,t){return{type:8,animation:qn(this,Ku(e.animation),t),options:Oo(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Oo(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Oo(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Use,"")),n=n.replace(/@\*/g,Bp).replace(/@\w+/g,t=>Bp+"-"+t.substr(1)).replace(/:animating/g,e0),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,Gn(t.collectedStyles,t.currentQuerySelector,{});const a=qn(this,Ku(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Oo(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Hp(e.timings,t.errors,!0);return{type:12,animation:qn(this,Ku(e.animation),t),timings:i,options:null}}}class Wse{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Gp(n){return!Array.isArray(n)&&"object"==typeof n}function Oo(n){return n?(n=Dl(n)).params&&(n.params=function(n){return n?Dl(n):null}(n.params)):n={},n}function a0(n,e,t){return{duration:n,delay:e,easing:t}}function l0(n,e,t,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class qp{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Qse=new RegExp(":enter","g"),Zse=new RegExp(":leave","g");function c0(n,e,t,i,r,s={},o={},a,l,c=[]){return(new Jse).buildKeyframes(n,e,t,i,r,s,o,a,l,c)}class Jse{buildKeyframes(e,t,i,r,s,o,a,l,c,u=[]){c=c||new qp;const d=new u0(e,t,c,r,s,u,[]);d.options=l,d.currentTimeline.setStyles([o],null,d.errors,l),qn(this,i,d);const h=d.timelines.filter(f=>f.containsAnimation());if(h.length&&Object.keys(a).length){const f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,d.errors,l)}return h.length?h.map(f=>f.buildKeyframes()):[l0(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const o=null!=i.duration?Ro(i.duration):null,a=null!=i.delay?Ro(i.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),qn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Kp);const o=Ro(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>qn(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Ro(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),qn(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Hp(t.params?Up(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Ro(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Kp);let o=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),qn(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;qn(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const Kp={};class u0{constructor(e,t,i,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Kp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Yp(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Ro(i.duration)),null!=i.delay&&(r.delay=Ro(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Up(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new u0(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Kp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},s=new eoe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(Qse,"."+this._enterClassName)).replace(Zse,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),a}}class Yp{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Yp(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Hr,this._currentKeyframe[t]=Hr}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const s=r&&r.params||{},o=function(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(s=>{t[s]=Hr})):Ss(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=Up(o[a],s,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Hr),this._updateStyle(a,l)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Ss(a,!0);Object.keys(c).forEach(u=>{const d=c[u];"!"==d?e.add(u):d==Hr&&t.add(u)}),i||(c.offset=l/this.duration),r.push(c)});const s=e.size?jp(e.values()):[],o=t.size?jp(t.values()):[];if(i){const a=r[0],l=Dl(a);a.offset=0,l.offset=1,r=[a,l]}return l0(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class eoe extends Yp{constructor(e,t,i,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=i+t,a=t/o,l=Ss(e[0],!1);l.offset=0,s.push(l);const c=Ss(e[0],!1);c.offset=YL(a),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=Ss(e[d],!1);h.offset=YL((t+h.offset*i)/o),s.push(h)}i=o,t=0,r="",e=s}return l0(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function YL(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class d0{}class noe extends d0{normalizePropertyName(e,t){return r0(e)}normalizeStyleValue(e,t,i,r){let s="";const o=i.toString().trim();if(ioe[t]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(`Please provide a CSS unit value for ${e}:${i}`)}return o+s}}const ioe=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function QL(n,e,t,i,r,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const h0={};class XL{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],s=this._stateStyles[e],o=r?r.buildStyles(t,i):{};return s?s.buildStyles(t,i):o}build(e,t,i,r,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||h0,p=this.buildStyles(i,a&&a.params||h0,d),g=l&&l.params||h0,_=this.buildStyles(r,g,d),b=new Set,v=new Map,S=new Map,x="void"===r,G={params:Object.assign(Object.assign({},h),g)},Be=u?[]:c0(e,t,this.ast.animation,s,o,p,_,G,c,d);let Qe=0;if(Be.forEach(Qt=>{Qe=Math.max(Qt.duration+Qt.delay,Qe)}),d.length)return QL(t,this._triggerName,i,r,x,p,_,[],[],v,S,Qe,d);Be.forEach(Qt=>{const bn=Qt.element,xl=Gn(v,bn,{});Qt.preStyleProps.forEach(Ri=>xl[Ri]=!0);const Wr=Gn(S,bn,{});Qt.postStyleProps.forEach(Ri=>Wr[Ri]=!0),bn!==t&&b.add(bn)});const vn=jp(b.values());return QL(t,this._triggerName,i,r,x,p,_,Be,vn,v,S,Qe)}}class ooe{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=Dl(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(r[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=Up(l,r,t));const c=this.normalizer.normalizePropertyName(a,t);l=this.normalizer.normalizeStyleValue(a,c,l,t),i[c]=l})}}),i}}class loe{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new ooe(r.style,r.options&&r.options.params||{},i)}),ZL(this.states,"true","1"),ZL(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new XL(e,r,this.states))}),this.fallbackTransition=function(n,e,t){return new XL(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function ZL(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const uoe=new qp;class doe{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],r=o0(this._driver,t,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[e]=r}_buildPlayer(e,t,i){const r=e.element,s=xL(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations[e];let o;const a=new Map;if(s?(o=c0(this._driver,t,s,JD,Lp,{},{},i,uoe,r),o.forEach(u=>{const d=Gn(a,u.element,{});u.postStyleProps.forEach(h=>d[h]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);a.forEach((u,d)=>{Object.keys(u).forEach(h=>{u[h]=this._driver.computeStyle(d,h,Hr)})});const c=Ts(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,{},d)}));return this._playersById[e]=c,c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,i,r){const s=qD(t,"","","");return WD(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const JL="ng-animate-queued",f0="ng-animate-disabled",goe=[],eV={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_oe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ui="__ng_removed";class p0{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(i?e.value:e),i){const s=Dl(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Yu="void",m0=new p0(Yu);class yoe{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,di(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${t}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${t}" is not supported!`);const s=Gn(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);const a=Gn(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(di(e,Vp),di(e,Vp+"-"+t),a[t]=m0),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),o=new g0(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(di(e,Vp),di(e,Vp+"-"+t),this._engine.statesByElement.set(e,a={}));let l=a[t];const c=new p0(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[t]=c,l||(l=m0),c.value!==Yu&&l.value===c.value){if(!function(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const g=[],_=s.matchStyles(l.value,l.params,g),b=s.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{xo(e,_),or(e,b)})}return}const h=Gn(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!r)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(di(e,JL),o.onStart(()=>{Tl(e,JL)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const _=this._engine.playersByElement.get(e);if(_){let b=_.indexOf(o);b>=0&&_.splice(b,1)}}),this.players.push(o),h.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Bp,!0);i.forEach(r=>{if(r[ui])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e);if(s){const o=[];if(Object.keys(s).forEach(a=>{if(this._triggers[a]){const l=this.trigger(e,a,Yu,r);l&&o.push(l)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),i&&Ts(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers[o].fallbackTransition,c=i[o]||m0,u=new p0(Yu),d=new g0(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[ui];(!s||s===eV)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){di(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=qD(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,WD(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class voe{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new yoe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList.length-1;if(i>=0){let r=!1;for(let s=i;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,t)){this._namespaceList.splice(s+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const o=i[r[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&t.add(a)}}}return t}trigger(e,t,i,r){if(Qp(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Qp(t))return;const s=t[ui];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),di(e,f0)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Tl(e,f0))}removeNode(e,t,i,r){if(Qp(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r){this.collectedLeaveElements.push(t),t[ui]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1}}listen(e,t,i,r,s){return Qp(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Bp,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,e0,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ts(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[ui];if(i&&i.setForRemoval){if(e[ui]=eV,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(f0))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)di(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Ts(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const i=new qp,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(P=>{u.add(P);const B=this.driver.query(P,".ng-animate-queued",!0);for(let q=0;q<B.length;q++)u.add(B[q])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=iV(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((P,B)=>{const q=JD+g++;p.set(B,q),P.forEach(Te=>di(Te,q))});const _=[],b=new Set,v=new Set;for(let P=0;P<this.collectedLeaveElements.length;P++){const B=this.collectedLeaveElements[P],q=B[ui];q&&q.setForRemoval&&(_.push(B),b.add(B),q.hasAnimation?this.driver.query(B,".ng-star-inserted",!0).forEach(Te=>b.add(Te)):v.add(B))}const S=new Map,x=iV(h,Array.from(b));x.forEach((P,B)=>{const q=Lp+g++;S.set(B,q),P.forEach(Te=>di(Te,q))}),e.push(()=>{f.forEach((P,B)=>{const q=p.get(B);P.forEach(Te=>Tl(Te,q))}),x.forEach((P,B)=>{const q=S.get(B);P.forEach(Te=>Tl(Te,q))}),_.forEach(P=>{this.processLeaveNode(P)})});const G=[],Be=[];for(let P=this._namespaceList.length-1;P>=0;P--)this._namespaceList[P].drainQueuedTransitions(t).forEach(q=>{const Te=q.player,$t=q.element;if(G.push(Te),this.collectedEnterElements.length){const hi=$t[ui];if(hi&&hi.setForMove)return void Te.destroy()}const cr=!d||!this.driver.containsElement(d,$t),Kn=S.get($t),xs=p.get($t),at=this._buildInstruction(q,i,xs,Kn,cr);if(at.errors&&at.errors.length)return void Be.push(at);if(cr)return Te.onStart(()=>xo($t,at.fromStyles)),Te.onDestroy(()=>or($t,at.toStyles)),void r.push(Te);if(q.isFallbackTransition)return Te.onStart(()=>xo($t,at.fromStyles)),Te.onDestroy(()=>or($t,at.toStyles)),void r.push(Te);const R2=[];at.timelines.forEach(hi=>{hi.stretchStartingKeyframe=!0,this.disabledNodes.has(hi.element)||R2.push(hi)}),at.timelines=R2,i.append($t,at.timelines),o.push({instruction:at,player:Te,element:$t}),at.queriedElements.forEach(hi=>Gn(a,hi,[]).push(Te)),at.preStyleProps.forEach((hi,fd)=>{const Im=Object.keys(hi);if(Im.length){let Vo=l.get(fd);Vo||l.set(fd,Vo=new Set),Im.forEach(hT=>Vo.add(hT))}}),at.postStyleProps.forEach((hi,fd)=>{const Im=Object.keys(hi);let Vo=c.get(fd);Vo||c.set(fd,Vo=new Set),Im.forEach(hT=>Vo.add(hT))})});if(Be.length){const P=[];Be.forEach(B=>{P.push(`@${B.triggerName} has failed due to:\n`),B.errors.forEach(q=>P.push(`- ${q}\n`))}),G.forEach(B=>B.destroy()),this.reportError(P)}const Qe=new Map,vn=new Map;o.forEach(P=>{const B=P.element;i.has(B)&&(vn.set(B,B),this._beforeAnimationBuild(P.player.namespaceId,P.instruction,Qe))}),r.forEach(P=>{const B=P.element;this._getPreviousPlayers(B,!1,P.namespaceId,P.triggerName,null).forEach(Te=>{Gn(Qe,B,[]).push(Te),Te.destroy()})});const Qt=_.filter(P=>sV(P,l,c)),bn=new Map;nV(bn,this.driver,v,c,Hr).forEach(P=>{sV(P,l,c)&&Qt.push(P)});const Wr=new Map;f.forEach((P,B)=>{nV(Wr,this.driver,new Set(P),l,"!")}),Qt.forEach(P=>{const B=bn.get(P),q=Wr.get(P);bn.set(P,Object.assign(Object.assign({},B),q))});const Ri=[],Ol=[],Pl={};o.forEach(P=>{const{element:B,player:q,instruction:Te}=P;if(i.has(B)){if(u.has(B))return q.onDestroy(()=>or(B,Te.toStyles)),q.disabled=!0,q.overrideTotalTime(Te.totalTime),void r.push(q);let $t=Pl;if(vn.size>1){let Kn=B;const xs=[];for(;Kn=Kn.parentNode;){const at=vn.get(Kn);if(at){$t=at;break}xs.push(Kn)}xs.forEach(at=>vn.set(at,$t))}const cr=this._buildAnimation(q.namespaceId,Te,Qe,s,Wr,bn);if(q.setRealPlayer(cr),$t===Pl)Ri.push(q);else{const Kn=this.playersByElement.get($t);Kn&&Kn.length&&(q.parentPlayer=Ts(Kn)),r.push(q)}}else xo(B,Te.fromStyles),q.onDestroy(()=>or(B,Te.toStyles)),Ol.push(q),u.has(B)&&r.push(q)}),Ol.forEach(P=>{const B=s.get(P.element);if(B&&B.length){const q=Ts(B);P.setRealPlayer(q)}}),r.forEach(P=>{P.parentPlayer?P.syncPlayerEvents(P.parentPlayer):P.destroy()});for(let P=0;P<_.length;P++){const B=_[P],q=B[ui];if(Tl(B,Lp),q&&q.hasAnimation)continue;let Te=[];if(a.size){let cr=a.get(B);cr&&cr.length&&Te.push(...cr);let Kn=this.driver.query(B,e0,!0);for(let xs=0;xs<Kn.length;xs++){let at=a.get(Kn[xs]);at&&at.length&&Te.push(...at)}}const $t=Te.filter(cr=>!cr.destroyed);$t.length?Eoe(this,B,$t):this.processLeaveNode(B)}return _.length=0,Ri.forEach(P=>{this.players.push(P),P.onDone(()=>{P.destroy();const B=this.players.indexOf(P);this.players.splice(B,1)}),P.play()}),Ri}elementContainsData(e,t){let i=!1;const r=t[ui];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==Yu;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=Gn(i,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}xo(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const g=p.element;u.add(g);const _=g[ui];if(_&&_.removedBeforeQueried)return new El(p.duration,p.delay);const b=g!==l,v=function(n){const e=[];return rV(n,e),e}((i.get(g)||goe).map(Qe=>Qe.getRealPlayer())).filter(Qe=>!!Qe.element&&Qe.element===g),S=s.get(g),x=o.get(g),G=xL(0,this._normalizer,0,p.keyframes,S,x),Be=this._buildPlayer(p,G,v);if(p.subTimeline&&r&&d.add(g),b){const Qe=new g0(e,a,g);Qe.setRealPlayer(Be),c.push(Qe)}return Be});c.forEach(p=>{Gn(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>di(p,BL));const f=Ts(h);return f.onDestroy(()=>{u.forEach(p=>Tl(p,BL)),or(l,t.toStyles)}),d.forEach(p=>{Gn(r,p,[]).push(f)}),f}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new El(e.duration,e.delay)}}class g0{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new El,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>WD(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Gn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Qp(n){return n&&1===n.nodeType}function tV(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function nV(n,e,t,i,r){const s=[];t.forEach(l=>s.push(tV(l)));const o=[];i.forEach((l,c)=>{const u={};l.forEach(d=>{const h=u[d]=e.computeStyle(c,d,r);(!h||0==h.length)&&(c[ui]=_oe,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>tV(l,s[a++])),o}function iV(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function di(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Tl(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function Eoe(n,e,t){Ts(t).onDone(()=>n.processLeaveNode(e))}function rV(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof kL?rV(i.players,e):e.push(i)}}function sV(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class Xp{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new voe(e,t,i),this._timelineEngine=new doe(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const o=e+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],c=o0(this._driver,s,l);if(l.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);a=function(n,e,t){return new loe(n,e,t)}(r,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,o]=OL(i);this._timelineEngine.command(s,t,o,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[o,a]=OL(i);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function oV(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=_0(e[0]),e.length>1&&(i=_0(e[e.length-1]))):e&&(t=_0(e)),t||i?new Soe(n,t,i):null}let Soe=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&or(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(or(this._element,this._initialStyles),this._endStyles&&(or(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(xo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xo(this._element,this._endStyles),this._endStyles=null),or(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function _0(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];Ioe(r)&&(e=e||{},e[r]=n[r])}return e}function Ioe(n){return"display"===n||"position"===n}const aV="animation",lV="animationend";class koe{constructor(e,t,i,r,s,o,a){this._element=e,this._name=t,this._duration=i,this._delay=r,this._easing=s,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function(n,e){const t=v0(n,"").trim();let i=0;t.length&&(function(n,e){let t=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&t++;return t}(t)+1,e=`${t}, ${e}`),Zp(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),dV(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){cV(this._element,this._name,"paused")}resume(){cV(this._element,this._name,"running")}setPosition(e){const t=uV(this._element,this._name);this._position=e*this._duration,Zp(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),dV(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const i=v0(n,"").split(","),r=y0(i,e);r>=0&&(i.splice(r,1),Zp(n,"",i.join(",")))}(this._element,this._name))}}function cV(n,e,t){Zp(n,"PlayState",t,uV(n,e))}function uV(n,e){const t=v0(n,"");return t.indexOf(",")>0?y0(t.split(","),e):y0([t],e)}function y0(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function dV(n,e,t){t?n.removeEventListener(lV,e):n.addEventListener(lV,e)}function Zp(n,e,t,i){const r=aV+e;if(null!=i){const s=n.style[r];if(s.length){const o=s.split(",");o[i]=t,t=o.join(",")}}n.style[r]=t}function v0(n,e){return n.style[aV+e]||""}class hV{constructor(e,t,i,r,s,o,a,l){this.element=e,this.keyframes=t,this.animationName=i,this._duration=r,this._delay=s,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+s,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new koe(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(e[i]=t?this._finalStyles[i]:s0(this.element,i))})}this.currentSnapshot=e}}class Foe extends El{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=FL(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class pV{constructor(){this._count=0}validateStyleProperty(e){return YD(e)}matchesElement(e,t){return!1}containsElement(e,t){return QD(e,t)}query(e,t,i){return XD(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,i){i=i.map(a=>FL(a));let r=`@keyframes ${t} {\n`,s="";i.forEach(a=>{s=" ";const l=parseFloat(a.offset);r+=`${s}${100*l}% {\n`,s+=" ",Object.keys(a).forEach(c=>{const u=a[c];switch(c){case"offset":return;case"easing":return void(u&&(r+=`${s}animation-timing-function: ${u};\n`));default:return void(r+=`${s}${c}: ${u};\n`)}}),r+=`${s}}\n`}),r+="}\n";const o=document.createElement("style");return o.textContent=r,o}animate(e,t,i,r,s,o=[],a){const l=o.filter(_=>_ instanceof hV),c={};zL(i,r)&&l.forEach(_=>{let b=_.currentSnapshot;Object.keys(b).forEach(v=>c[v]=b[v])});const u=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(r=>{"offset"==r||"easing"==r||(e[r]=i[r])})}),e}(t=WL(e,t,c));if(0==i)return new Foe(e,u);const d="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,d,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(h);const p=oV(e,t),g=new hV(e,t,d,i,r,s,u,p);return g.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(h)),g}}class gV{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:s0(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Uoe{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(_V().toString()),this._cssKeyframesDriver=new pV}validateStyleProperty(e){return YD(e)}matchesElement(e,t){return!1}containsElement(e,t){return QD(e,t)}query(e,t,i){return XD(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,i,r,s,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,i,r,s,o);const u={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(u.easing=s);const d={},h=o.filter(p=>p instanceof gV);zL(i,r)&&h.forEach(p=>{let g=p.currentSnapshot;Object.keys(g).forEach(_=>d[_]=g[_])});const f=oV(e,t=WL(e,t=t.map(p=>Ss(p,!1)),d));return new gV(e,t,u,f)}}function _V(){return RL()&&Element.prototype.animate||{}}let $oe=(()=>{class n extends IL{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:pi.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?ML(t):t;return yV(this._renderer,null,i,"register",[r]),new zoe(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(C(bc),C(te))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();class zoe extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Woe(this._id,e,t||{},this._renderer)}}class Woe{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return yV(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function yV(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const vV="@.disabled";let Goe=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,o)=>{const a=null==o?void 0:o.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(s);return u||(u=new bV("",s,this.engine),this._rendererCache.set(s,u)),u}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return i.data.animation.forEach(l),new qoe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(C(bc),C(Xp),C(ee))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();class bV{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==vV?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class qoe extends bV{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==vV?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let Qoe=(()=>{class n extends Xp{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(C(te),C(ZD),C(d0))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();const Ur=new M("AnimationModuleType"),CV=[{provide:IL,useClass:$oe},{provide:d0,useFactory:function(){return new noe}},{provide:Xp,useClass:Qoe},{provide:bc,useFactory:function(n,e,t){return new Goe(n,e,t)},deps:[Lh,Xp,ee]}],wV=[{provide:ZD,useFactory:function(){return"function"==typeof _V()?new Uoe:new pV}},{provide:Ur,useValue:"BrowserAnimations"},...CV],eae=[{provide:ZD,useClass:LL},{provide:Ur,useValue:"NoopAnimations"},...CV];let tae=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?eae:wV}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({providers:wV,imports:[zR]}),n})();const iae=new M("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let ze=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!SD()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(C(Mse),C(iae,8),C(te))},n.\u0275mod=Q({type:n}),n.\u0275inj=W({imports:[[Wu],Wu]}),n})();function DV(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=kn(e)}}}function Sl(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function TV(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=kn(e)}}}function rae(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new _e,this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}let SV=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({imports:[[ze],ze]}),n})();class oae{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const MV={enterDuration:225,exitDuration:150},b0=zu({passive:!0}),AV=["mousedown","touchstart"],kV=["mouseup","mouseleave","touchend","touchcancel"];class lae{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Br(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},MV),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const o=i.radius||function(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,l=t-r.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u),function(n){window.getComputedStyle(n).getPropertyValue("opacity")}(u),u.style.transform="scale(1)";const d=new oae(this,u,i);return d.state=0,this._activeRipples.add(d),i.persistent||(this._mostRecentTransientRipple=d),this._runTimeoutOutsideZone(()=>{const h=d===this._mostRecentTransientRipple;d.state=1,!i.persistent&&(!h||!this._isPointerDown)&&d.fadeOut()},c),d}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r=Object.assign(Object.assign({},MV),e.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Br(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(AV))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(kV),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=HD(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!UD(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,b0)})})}_removeTriggerEvents(){this._triggerElement&&(AV.forEach(e=>{this._triggerElement.removeEventListener(e,this,b0)}),this._pointerUpEventsRegistered&&kV.forEach(e=>{this._triggerElement.removeEventListener(e,this,b0)}))}}const dae=new M("mat-ripple-global-options");let em=(()=>{class n{constructor(t,i,r,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new lae(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(m(J),m(ee),m(nn),m(dae,8),m(Ur,8))},n.\u0275dir=T({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&vt("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),RV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({imports:[[ze,ED],ze]}),n})();function hae(n,e){}class C0{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0}}const fae={dialogContainer:Fp("dialogContainer",[qu("void, exit",Wn({opacity:0,transform:"scale(0.7)"})),qu("enter",Wn({transform:"none"})),wl("* => enter",Cl("150ms cubic-bezier(0, 0, 0.2, 1)",Wn({transform:"none",opacity:1}))),wl("* => void, * => exit",Cl("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Wn({opacity:0})))])};let pae=(()=>{class n extends OD{constructor(t,i,r,s,o,a,l,c){super(),this._elementRef=t,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=o,this._interactivityChecker=a,this._ngZone=l,this._focusMonitor=c,this._animationStateChanged=new Ie,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(u)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{t.addEventListener("blur",()=>t.removeAttribute("tabindex")),t.addEventListener("mousedown",()=>t.removeAttribute("tabindex"))})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const i=TD(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=TD())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=TD();return t===i||t.contains(i)}}return n.\u0275fac=function(t){return new(t||n)(m(J),m(wse),m(Ys),m(te,8),m(C0),m(CL),m(ee),m(Gu))},n.\u0275dir=T({type:n,viewQuery:function(t,i){if(1&t&&zt(iL,7),2&t){let r;ae(r=le())&&(i._portalOutlet=r.first)}},features:[N]}),n})(),mae=(()=>{class n extends pae{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:i}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:t,totalTime:i}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Re(n)))(i||n)}}(),n.\u0275cmp=ke({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,i){1&t&&C_("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&t&&(mc("id",i._id),Ve("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),S_("@dialogContainer",i._state))},features:[N],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&ce(0,hae,0,0,"ng-template",0)},directives:[iL],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[fae.dialogContainer]}}),n})(),gae=0;class Xu{constructor(e,t,i="mat-dialog-"+gae++){this._overlayRef=e,this._containerInstance=t,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new _e,this._afterClosed=new _e,this._beforeClosed=new _e,this._state=0,t._id=i,t._animationStateChanged.pipe(At(r=>"opened"===r.state),Et(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(At(r=>"closed"===r.state),Et(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(At(r=>27===r.keyCode&&!this.disableClose&&!BD(r))).subscribe(r=>{r.preventDefault(),w0(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():w0(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(At(t=>"closing"===t.state),Et(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function w0(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const xV=new M("MatDialogData"),_ae=new M("mat-dialog-default-options"),OV=new M("mat-dialog-scroll-strategy"),vae={provide:OV,deps:[vl],useFactory:function(n){return()=>n.scrollStrategies.block()}};let bae=(()=>{class n{constructor(t,i,r,s,o,a,l,c,u,d){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=o,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._animationMode=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new _e,this._afterOpenedAtThisLevel=new _e,this._ariaHiddenElements=new Map,this._dialogAnimatingOpen=!1,this.afterAllClosed=My(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ls(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,i){if(i=function(n,e){return Object.assign(Object.assign({},e),n)}(i,this._defaultOptions||new C0),i.id&&this.getDialogById(i.id),this._dialogAnimatingOpen)return this._lastDialogRef;const r=this._createOverlay(i),s=this._attachDialogContainer(r,i);if("NoopAnimations"!==this._animationMode){const a=s._animationStateChanged.subscribe(l=>{"opening"===l.state&&(this._dialogAnimatingOpen=!0),"opened"===l.state&&(this._dialogAnimatingOpen=!1,a.unsubscribe())});this._animationStateSubscriptions||(this._animationStateSubscriptions=new Ae),this._animationStateSubscriptions.add(a)}const o=this._attachDialogContent(t,s,r,i);return this._lastDialogRef=o,this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this._removeOpenDialog(o)),this.afterOpened.next(o),s._initializeWithAttachedContent(),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._animationStateSubscriptions&&this._animationStateSubscriptions.unsubscribe()}_createOverlay(t){const i=this._getOverlayConfig(t);return this._overlay.create(i)}_getOverlayConfig(t){const i=new ND({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachDialogContainer(t,i){const s=Ze.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:C0,useValue:i}]}),o=new RD(this._dialogContainerType,i.viewContainerRef,s,i.componentFactoryResolver);return t.attach(o).instance}_attachDialogContent(t,i,r,s){const o=new this._dialogRefConstructor(r,i,s.id);if(t instanceof It)i.attachTemplatePortal(new xD(t,null,{$implicit:s.data,dialogRef:o}));else{const a=this._createInjector(s,o,i),l=i.attachComponentPortal(new RD(t,s.viewContainerRef,a));o.componentInstance=l.instance}return o.updateSize(s.width,s.height).updatePosition(s.position),o}_createInjector(t,i,r){const s=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:i}];return t.direction&&(!s||!s.get(yl,null,Y.Optional))&&o.push({provide:yl,useValue:{value:t.direction,change:V()}}),Ze.create({parent:s||this._injector,providers:o})}_removeOpenDialog(t){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){let s=i[r];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){ah()},n.\u0275dir=T({type:n}),n})(),Zu=(()=>{class n extends bae{constructor(t,i,r,s,o,a,l,c){super(t,i,s,a,l,o,Xu,mae,xV,c)}}return n.\u0275fac=function(t){return new(t||n)(C(vl),C(Ze),C(Sc,8),C(_ae,8),C(OV),C(n,12),C(FD),C(Ur,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})(),wae=0,Eae=(()=>{class n{constructor(t,i,r){this.dialogRef=t,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=LV(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const i=t._matDialogClose||t._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(t){w0(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(m(Xu,8),m(J),m(Zu))},n.\u0275dir=T({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,i){1&t&&Pe("click",function(s){return i._onButtonClick(s)}),2&t&&Ve("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Pt]}),n})(),PV=(()=>{class n{constructor(t,i,r){this._dialogRef=t,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+wae++}ngOnInit(){this._dialogRef||(this._dialogRef=LV(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(t){return new(t||n)(m(Xu,8),m(J),m(Zu))},n.\u0275dir=T({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,i){2&t&&mc("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),NV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=T({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),FV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=T({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})();function LV(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?e.find(i=>i.id===t.id):null}let Dae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({providers:[Zu,vae],imports:[[fL,rL,ze],ze]}),n})();const VV=["mat-button",""],BV=["*"],Iae=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Mae=Sl(DV(TV(class{constructor(n){this._elementRef=n}})));let Il=(()=>{class n extends Mae{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of Iae)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(m(J),m(Gu),m(Ur,8))},n.\u0275cmp=ke({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&zt(em,5),2&t){let r;ae(r=le())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(Ve("disabled",i.disabled||null),vt("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[N],attrs:VV,ngContentSelectors:BV,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(ji(),E(0,"span",0),yt(1),D(),De(2,"span",1),De(3,"span",2)),2&t&&(L(2),vt("mat-button-ripple-round",i.isRoundButton||i.isIconButton),H("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[em],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),Aae=(()=>{class n extends Il{constructor(t,i,r){super(i,t,r)}_haltDisabledEvents(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}}return n.\u0275fac=function(t){return new(t||n)(m(Gu),m(J),m(Ur,8))},n.\u0275cmp=ke({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(t,i){1&t&&Pe("click",function(s){return i._haltDisabledEvents(s)}),2&t&&(Ve("tabindex",i.disabled?-1:i.tabIndex||0)("disabled",i.disabled||null)("aria-disabled",i.disabled.toString()),vt("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[N],attrs:VV,ngContentSelectors:BV,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(ji(),E(0,"span",0),yt(1),D(),De(2,"span",1),De(3,"span",2)),2&t&&(L(2),vt("mat-button-ripple-round",i.isRoundButton||i.isIconButton),H("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[em],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),kae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({imports:[[RV,ze],ze]}),n})();function HV(...n){const e=RT(n),{args:t,keys:i}=YR(n),r=new Ee(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;xn(t[u]).subscribe(new Je(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?QR(i,a):a),s.complete())}))}});return e?r.pipe(Iy(e)):r}class xae{}class Is{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Is?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Is;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Is?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Oae{encodeKey(e){return UV(e)}encodeValue(e){return UV(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Nae=/%(\d[a-f0-9])/gi,Fae={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function UV(n){return encodeURIComponent(n).replace(Nae,(e,t)=>{var i;return null!==(i=Fae[t])&&void 0!==i?i:e})}function jV(n){return`${n}`}class Ms{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Oae,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ms({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(jV(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(jV(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Lae{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function $V(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function zV(n){return"undefined"!=typeof Blob&&n instanceof Blob}function WV(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Ju{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Is),this.context||(this.context=new Lae),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Ms,this.urlWithParams=t}serializeBody(){return null===this.body?null:$V(this.body)||zV(this.body)||WV(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ms?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||WV(this.body)?null:zV(this.body)?this.body.type||null:$V(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ms?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const d=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),u)),new Ju(i,r,o,{params:u,headers:c,context:d,reportProgress:l,responseType:s,withCredentials:a})}}var Yt=(()=>((Yt=Yt||{})[Yt.Sent=0]="Sent",Yt[Yt.UploadProgress=1]="UploadProgress",Yt[Yt.ResponseHeader=2]="ResponseHeader",Yt[Yt.DownloadProgress=3]="DownloadProgress",Yt[Yt.Response=4]="Response",Yt[Yt.User=5]="User",Yt))();class E0 extends class{constructor(e,t=200,i="OK"){this.headers=e.headers||new Is,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Yt.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new E0({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function D0(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let qV=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof Ju)s=t;else{let l,c;l=r.headers instanceof Is?r.headers:new Is(r.headers),r.params&&(c=r.params instanceof Ms?r.params:new Ms({fromObject:r.params})),s=new Ju(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=V(s).pipe(Va(l=>this.handler.handle(l)));if(t instanceof Ju||"events"===r.observe)return o;const a=o.pipe(At(l=>l instanceof E0));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ne(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(ne(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(ne(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(ne(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Ms).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,D0(r,i))}post(t,i,r={}){return this.request("POST",t,D0(r,i))}put(t,i,r={}){return this.request("PUT",t,D0(r,i))}}return n.\u0275fac=function(t){return new(t||n)(C(xae))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();const jae=["*"];let tm;function ed(n){var e;return(null===(e=function(){if(void 0===tm&&(tm=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(tm=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return tm}())||void 0===e?void 0:e.createHTML(n))||n}function KV(n){return Error(`Unable to find icon with the name "${n}"`)}function YV(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function QV(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Po{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let nm=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new Po(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const o=this._sanitizer.sanitize(xe.HTML,r);if(!o)throw QV(r);const a=ed(o);return this._addSvgIconConfig(t,i,new Po("",a,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Po(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(xe.HTML,i);if(!s)throw QV(i);const o=ed(s);return this._addSvgIconSetConfig(t,new Po("",o,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(xe.RESOURCE_URL,t);if(!i)throw YV(t);const r=this._cachedIconsByUrl.get(i);return r?V(im(r)):this._loadSvgIconFromConfig(new Po(t,null)).pipe(Ft(s=>this._cachedIconsByUrl.set(i,s)),ne(s=>im(s)))}getNamedSvgIcon(t,i=""){const r=XV(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(i);return o?this._getSvgFromIconSetConfigs(t,o):function(n,e){const t=he(n)?n:()=>n,i=r=>r.error(t());return new Ee(i)}(KV(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?V(im(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(ne(i=>im(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?V(r):HV(i.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(Tr(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(xe.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),V(null)})))).pipe(ne(()=>{const o=this._extractIconWithNameFromAnySet(t,i);if(!o)throw KV(t);return o}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,t,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Ft(i=>t.svgText=i),ne(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?V(null):this._fetchIcon(t).pipe(Ft(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const a=this._svgElementFromString(ed("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(ed("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:o,value:a}=r[s];"id"!==o&&i.setAttribute(o,a)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){var i;const{url:r,options:s}=t,o=null!==(i=null==s?void 0:s.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const a=this._sanitizer.sanitize(xe.RESOURCE_URL,r);if(!a)throw YV(r);const l=this._inProgressUrlFetches.get(a);if(l)return l;const c=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(ne(u=>ed(u)),Ry(()=>this._inProgressUrlFetches.delete(a)),OT());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(XV(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return Gae(s)?new Po(s.url,null,s.options):new Po(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(C(qV,8),C(Sy),C(te,8),C(gr))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function im(n){return n.cloneNode(!0)}function XV(n,e){return n+":"+e}function Gae(n){return!(!n.url||!n.options)}const qae=Sl(class{constructor(n){this._elementRef=n}}),Kae=new M("mat-icon-location",{providedIn:"root",factory:function(){const n=$d(te),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),ZV=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Qae=ZV.map(n=>`[${n}]`).join(", "),Xae=/^url\(['"]?#(.*?)['"]?\)$/;let JV=(()=>{class n extends qae{constructor(t,i,r,s,o){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=o,this._inline=!1,this._currentIconFetch=Ae.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=kn(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=t.querySelectorAll("style");for(let s=0;s<i.length;s++)i[s].textContent+=" ";const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),i&&t.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${t}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(Qae),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)ZV.forEach(o=>{const a=i[s],l=a.getAttribute(o),c=l?l.match(Xae):null;if(c){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:o,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Et(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(m(J),m(nm),ts("aria-hidden"),m(Kae),m(gr))},n.\u0275cmp=ke({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(Ve("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),vt("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[N],ngContentSelectors:jae,decls:1,vars:0,template:function(t,i){1&t&&(ji(),yt(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),Zae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({imports:[[ze],ze]}),n})();function Jae(n,e){if(1&n&&(Xo(),De(0,"circle",3)),2&n){const t=je();$i("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),Ve("r",t._getCircleRadius())}}function ele(n,e){if(1&n&&(Xo(),De(0,"circle",3)),2&n){const t=je();$i("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),Ve("r",t._getCircleRadius())}}const nle=Sl(class{constructor(n){this._elementRef=n}},"primary"),ile=new M("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class ar extends nle{constructor(e,t,i,r,s){super(e),this._document=i,this._diameter=100,this._value=0,this.mode="determinate";const o=ar._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),o.has(i.head)||o.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!s&&!s._forceAnimations,s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth))}get diameter(){return this._diameter}set diameter(e){this._diameter=Hu(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=Hu(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,Hu(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=nL(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,i=ar._diameters;let r=i.get(e);if(!r||!r.has(t)){const s=this._document.createElement("style");s.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),s.textContent=this._getAnimationText(),e.appendChild(s),r||(r=new Set,i.set(e,r)),r.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}ar._diameters=new WeakMap,ar.\u0275fac=function(e){return new(e||ar)(m(J),m(nn),m(te,8),m(Ur,8),m(ile))},ar.\u0275cmp=ke({type:ar,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(Ve("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),$i("width",t.diameter,"px")("height",t.diameter,"px"),vt("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[N],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(Xo(),E(0,"svg",0),ce(1,Jae,1,9,"circle",1),ce(2,ele,1,7,"circle",2),D()),2&e&&($i("width",t.diameter,"px")("height",t.diameter,"px"),H("ngSwitch","indeterminate"===t.mode),Ve("viewBox",t._getViewBox()),L(1),H("ngSwitchCase",!0),L(1),H("ngSwitchCase",!1))},directives:[Ac,_y],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let ole=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({imports:[[ze,kc],ze]}),n})();const ale=["fileInput"];function lle(n,e){if(1&n&&(E(0,"li"),U(1),D()),2&n){const t=e.$implicit;L(1),ni(" ",t.name," ")}}function cle(n,e){1&n&&(E(0,"div",9),De(1,"mat-progress-spinner",10),U(2," Saving... "),D())}function ule(n,e){if(1&n){const t=Sa();E(0,"button",7),Pe("click",function(){return fr(t),je().save()}),E(1,"mat-icon"),U(2,"save"),D(),U(3," Save "),D()}}let dle=(()=>{class n{constructor(t,i){this.db=t,this.dialogRef=i,this.reader="",this.project=[],this.templateDoc=mD(this.db,"template"),this.isProgress=!1}ngOnInit(){}openFIleChooser(){this.fileInput.nativeElement.click()}fileInputChange(t){var i=this;return y(function*(){var r,s;const o=t.target;try{const a=new zie(JSON.parse(yield null===(s=null===(r=o.files)||void 0===r?void 0:r.item(0))||void 0===s?void 0:s.text())),l=new Wie(ere(),a.projectId,`https://console.firebase.google.com/project/${a.projectId}/overview`,a);i.project.find(c=>{var u,d;return(null===(u=c.credential)||void 0===u?void 0:u.projectId)==(null===(d=l.credential)||void 0===d?void 0:d.projectId)})||i.project.push(l)}catch(a){i.reader="Error cannot parse File"}finally{o.value=""}})()}save(){this.dialogRef.disableClose=!0,this.isProgress=!0,Promise.all(this.project.map(t=>hD(Ds(this.templateDoc,t.id),t))).finally(()=>{this.dialogRef.disableClose=!1,this.isProgress=!1}).then(t=>this.dialogRef.close()).catch(t=>this.reader=t)}}return n.\u0275fac=function(t){return new(t||n)(m(gl),m(Xu))},n.\u0275cmp=ke({type:n,selectors:[["app-create-template"]],viewQuery:function(t,i){if(1&t&&zt(ale,7,J),2&t){let r;ae(r=le())&&(i.fileInput=r.first)}},decls:15,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["type","file","accept",".json","hidden","",3,"change"],["fileInput",""],[4,"ngFor","ngForOf"],["class","flex flex-row items-center gap-2",4,"ngIf"],["mat-dialog-actions","","align","end"],["mat-button","",3,"click"],["mat-button","",3,"click",4,"ngIf"],[1,"flex","flex-row","items-center","gap-2"],["diameter","30","mode","indeterminate"]],template:function(t,i){1&t&&(E(0,"h1",0),U(1,"Add New Project"),D(),E(2,"div",1),E(3,"strong"),U(4,"Choose services_account.son"),D(),E(5,"input",2,3),Pe("change",function(s){return i.fileInputChange(s)}),D(),ce(7,lle,2,1,"li",4),ce(8,cle,3,0,"div",5),D(),E(9,"div",6),E(10,"button",7),Pe("click",function(){return i.openFIleChooser()}),E(11,"mat-icon"),U(12,"folder_open"),D(),U(13," Add File "),D(),ce(14,ule,4,0,"button",8),D()),2&t&&(L(7),H("ngForOf",i.project),L(1),H("ngIf",i.isProgress),L(6),H("ngIf",i.project.length>0))},directives:[PV,NV,SR,Zs,FV,Il,JV,ar],styles:[""]}),n})();function hle(n,e){1&n&&(E(0,"div",6),De(1,"mat-progress-spinner",7),U(2," Deleting... "),D())}let fle=(()=>{class n{constructor(t,i,r){this.dialogRef=t,this.data=i,this.db=r,this.isProgress=!1,this.templateRef=mD(this.db,"template")}ngOnInit(){}delete(){this.isProgress=!0,Mie(Ds(this.templateRef,this.data.id)).finally(()=>{this.isProgress=!1,this.dialogRef.close()})}}return n.\u0275fac=function(t){return new(t||n)(m(Xu),m(xV),m(gl))},n.\u0275cmp=ke({type:n,selectors:[["app-delete-template"]],decls:11,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["class","flex flex-row items-center gap-2",4,"ngIf"],["mat-dialog-actions","","align","end"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"click"],[1,"flex","flex-row","items-center","gap-2"],["diameter","30","mode","indeterminate"]],template:function(t,i){1&t&&(E(0,"h1",0),U(1,"Confirmation"),D(),E(2,"div",1),E(3,"strong"),U(4),D(),ce(5,hle,3,0,"div",2),D(),E(6,"div",3),E(7,"button",4),U(8," Cancel "),D(),E(9,"button",5),Pe("click",function(){return i.delete()}),U(10," OK "),D(),D()),2&t&&(L(4),ni("you want to delete ",i.data.id," template"),L(1),H("ngIf",i.isProgress))},directives:[PV,NV,Zs,FV,Il,Eae,ar],styles:[""]}),n})();function S0(n){return n&&"function"==typeof n.connect}class eB{applyChanges(e,t,i,r,s){e.forEachOperation((o,a,l)=>{let c,u;if(null==o.previousIndex){const d=i(o,a,l);c=t.createEmbeddedView(d.templateRef,d.context,d.index),u=1}else null==l?(t.remove(a),u=3):(c=t.get(a),t.move(c,l),u=2);s&&s({context:null==c?void 0:c.context,operation:u,record:o})})}detach(){}}const td=new M("_ViewRepeater"),mle=[[["caption"]],[["colgroup"],["col"]]],gle=["caption","colgroup, col"];function I0(n){return class extends n{constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=kn(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}}}const Ml=new M("CDK_TABLE");let Al=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(m(It))},n.\u0275dir=T({type:n,selectors:[["","cdkCellDef",""]]}),n})(),kl=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(m(It))},n.\u0275dir=T({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),rm=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(m(It))},n.\u0275dir=T({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class ble{}const Cle=I0(ble);let jr=(()=>{class n extends Cle{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const i=this._stickyEnd;this._stickyEnd=kn(t),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(m(Ml,8))},n.\u0275dir=T({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,i,r){if(1&t&&(nt(r,Al,5),nt(r,kl,5),nt(r,rm,5)),2&t){let s;ae(s=le())&&(i.cell=s.first),ae(s=le())&&(i.headerCell=s.first),ae(s=le())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[Z([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),N]}),n})();class M0{constructor(e,t){const i=t.nativeElement.classList;for(const r of e._columnCssClassName)i.add(r)}}let A0=(()=>{class n extends M0{constructor(t,i){super(t,i)}}return n.\u0275fac=function(t){return new(t||n)(m(jr),m(J))},n.\u0275dir=T({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[N]}),n})(),k0=(()=>{class n extends M0{constructor(t,i){var r;if(super(t,i),1===(null===(r=t._table)||void 0===r?void 0:r._elementRef.nativeElement.nodeType)){const s=t._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===s||"treegrid"===s?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(m(jr),m(J))},n.\u0275dir=T({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[N]}),n})();class iB{constructor(){this.tasks=[],this.endTasks=[]}}const R0=new M("_COALESCED_STYLE_SCHEDULER");let rB=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new _e}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new iB,this._getScheduleObservable().pipe(ki(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new iB;for(const i of t.tasks)i();for(const i of t.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?ct(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Et(1))}}return n.\u0275fac=function(t){return new(t||n)(C(ee))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})(),x0=(()=>{class n{constructor(t,i){this.template=t,this._differs=i}ngOnChanges(t){if(!this._columnsDiffer){const i=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof nd?t.headerCell.template:this instanceof id?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(m(It),m(Gi))},n.\u0275dir=T({type:n,features:[Pt]}),n})();class wle extends x0{}const Ele=I0(wle);let nd=(()=>{class n extends Ele{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(m(It),m(Gi),m(Ml,8))},n.\u0275dir=T({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[N,Pt]}),n})();class Dle extends x0{}const Tle=I0(Dle);let id=(()=>{class n extends Tle{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(m(It),m(Gi),m(Ml,8))},n.\u0275dir=T({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[N,Pt]}),n})(),sm=(()=>{class n extends x0{constructor(t,i,r){super(t,i),this._table=r}}return n.\u0275fac=function(t){return new(t||n)(m(It),m(Gi),m(Ml,8))},n.\u0275dir=T({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[N]}),n})(),$r=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(m(Nt))},n.\u0275dir=T({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),O0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ke({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&dn(0,0)},directives:[$r],encapsulation:2}),n})(),N0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ke({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&dn(0,0)},directives:[$r],encapsulation:2}),n})(),om=(()=>{class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(t){return new(t||n)(m(It))},n.\u0275dir=T({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const sB=["top","bottom","left","right"];class Sle{constructor(e,t,i,r,s=!0,o=!0,a){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=o,this._positionListener=a,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const i=[];for(const r of e)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,t)})}updateStickyColumns(e,t,i,r=!0){if(!e.length||!this._isBrowser||!t.some(h=>h)&&!i.some(h=>h))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=e[0],o=s.children.length,a=this._getCellWidths(s,r),l=this._getStickyStartColumnPositions(a,t),c=this._getStickyEndColumnPositions(a,i),u=t.lastIndexOf(!0),d=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const h="rtl"===this.direction,f=h?"right":"left",p=h?"left":"right";for(const g of e)for(let _=0;_<o;_++){const b=g.children[_];t[_]&&this._addStickyStyle(b,f,l[_],_===u),i[_]&&this._addStickyStyle(b,p,c[_],_===d)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===u?[]:a.slice(0,u+1).map((g,_)=>t[_]?g:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===d?[]:a.slice(d).map((g,_)=>i[_+d]?g:null).reverse()}))})}stickRows(e,t,i){if(!this._isBrowser)return;const r="bottom"===i?e.slice().reverse():e,s="bottom"===i?t.slice().reverse():t,o=[],a=[],l=[];for(let u=0,d=0;u<r.length;u++){if(!s[u])continue;o[u]=d;const h=r[u];l[u]=this._isNativeHtmlTable?Array.from(h.children):[h];const f=h.getBoundingClientRect().height;d+=f,a[u]=f}const c=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var u,d;for(let h=0;h<r.length;h++){if(!s[h])continue;const f=o[h],p=h===c;for(const g of l[h])this._addStickyStyle(g,i,f,p)}"top"===i?null===(u=this._positionListener)||void 0===u||u.stickyHeaderRowsUpdated({sizes:a,offsets:o,elements:l}):null===(d=this._positionListener)||void 0===d||d.stickyFooterRowsUpdated({sizes:a,offsets:o,elements:l})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const i=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const r of t)e.style[r]="",e.classList.remove(this._borderCellCss[r]);sB.some(r=>-1===t.indexOf(r)&&e.style[r])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,i,r){e.classList.add(this._stickCellCss),r&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${i}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let i=0;for(const r of sB)e.style[r]&&(i+=t[r]);return i?`${i}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=e.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(e,t){const i=[];let r=0;for(let s=0;s<e.length;s++)t[s]&&(i[s]=r,r+=e[s]);return i}_getStickyEndColumnPositions(e,t){const i=[];let r=0;for(let s=e.length;s>0;s--)t[s]&&(i[s]=r,r+=e[s]);return i}}const F0=new M("CDK_SPL");let am=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(m(Nt),m(J))},n.\u0275dir=T({type:n,selectors:[["","rowOutlet",""]]}),n})(),lm=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(m(Nt),m(J))},n.\u0275dir=T({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),cm=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(m(Nt),m(J))},n.\u0275dir=T({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),um=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(m(Nt),m(J))},n.\u0275dir=T({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),dm=(()=>{class n{constructor(t,i,r,s,o,a,l,c,u,d,h){this._differs=t,this._changeDetectorRef=i,this._elementRef=r,this._dir=o,this._platform=l,this._viewRepeater=c,this._coalescedStyleScheduler=u,this._viewportRuler=d,this._stickyPositioningListener=h,this._onDestroy=new _e,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new Ie,this.viewChange=new jn({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=a,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=kn(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=kn(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(ki(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),S0(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,i,(r,s,o)=>this._getEmbeddedViewArgs(r.item,o),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=t.length?"":"none");const s=this._headerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,s,"top"),this._headerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=t.length?"":"none");const s=this._footerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((s,o)=>{this._addStickyColumnStyles([s],this._headerRowDefs[o])}),this._rowDefs.forEach(s=>{const o=[];for(let a=0;a<i.length;a++)this._renderRows[a].rowDef===s&&o.push(i[a]);this._addStickyColumnStyles(o,s)}),r.forEach((s,o)=>{this._addStickyColumnStyles([s],this._footerRowDefs[o])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const t=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const o=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let a=0;a<o.length;a++){let l=o[a];const c=this._cachedRenderRowsMap.get(l.data);c.has(l.rowDef)?c.get(l.rowDef).push(l):c.set(l.rowDef,[l]),t.push(l)}}return t}_getRenderRowsForData(t,i,r){return this._getRowDefs(t,i).map(o=>{const a=r&&r.has(o)?r.get(o):[];if(a.length){const l=a.shift();return l.dataIndex=i,l}return{data:t,rowDef:o,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),hm(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=hm(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=hm(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=hm(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(o,a)=>o||!!a.getColumnsDiff(),i=this._rowDefs.reduce(t,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(t,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(t,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(t){this._data=[],S0(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;S0(this.dataSource)?t=this.dataSource.connect(this):function(n){return!!n&&(n instanceof Ee||he(n.lift)&&he(n.subscribe))}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=V(this.dataSource)),this._renderChangeSubscription=t.pipe(ki(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,i)=>this._renderRow(this._headerRowOutlet,t,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,i)=>this._renderRow(this._footerRowOutlet,t,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,i){const r=Array.from(i.columns||[]).map(a=>this._columnDefsByName.get(a)),s=r.map(a=>a.sticky),o=r.map(a=>a.stickyEnd);this._stickyStyler.updateStickyColumns(t,s,o,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const i=[];for(let r=0;r<t.viewContainer.length;r++){const s=t.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(t,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,t));else{let s=this._rowDefs.find(o=>o.when&&o.when(i,t))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(t,i){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:i}}_renderRow(t,i,r,s={}){const o=t.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),o}_renderCellTemplateForItem(t,i){for(let r of this._getCellTemplates(t))$r.mostRecentCellOutlet&&$r.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let i=0,r=t.length;i<r;i++){const o=t.get(i).context;o.count=r,o.first=0===i,o.last=i===r-1,o.even=i%2==0,o.odd=!o.even,this.multiTemplateDataRows?(o.dataIndex=this._renderRows[i].dataIndex,o.renderIndex=i):o.index=this._renderRows[i].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,i=>{const r=this._columnDefsByName.get(i);return t.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const o of r.outlets)s.appendChild(o.elementRef.nativeElement);t.appendChild(s)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Sle(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:V()).pipe(ki(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(t.templateRef),o=s.rootNodes[0];1===s.rootNodes.length&&(null==o?void 0:o.nodeType)===this._document.ELEMENT_NODE&&(o.setAttribute("role","row"),o.classList.add(t._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(t){return new(t||n)(m(Gi),m(Ys),m(J),ts("role"),m(yl,8),m(te),m(nn),m(td),m(R0),m(ID),m(F0,12))},n.\u0275cmp=ke({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,i,r){if(1&t&&(nt(r,om,5),nt(r,jr,5),nt(r,sm,5),nt(r,nd,5),nt(r,id,5)),2&t){let s;ae(s=le())&&(i._noDataRow=s.first),ae(s=le())&&(i._contentColumnDefs=s),ae(s=le())&&(i._contentRowDefs=s),ae(s=le())&&(i._contentHeaderRowDefs=s),ae(s=le())&&(i._contentFooterRowDefs=s)}},viewQuery:function(t,i){if(1&t&&(zt(am,7),zt(lm,7),zt(cm,7),zt(um,7)),2&t){let r;ae(r=le())&&(i._rowOutlet=r.first),ae(r=le())&&(i._headerRowOutlet=r.first),ae(r=le())&&(i._footerRowOutlet=r.first),ae(r=le())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,i){2&t&&vt("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[Z([{provide:Ml,useExisting:n},{provide:td,useClass:eB},{provide:R0,useClass:rB},{provide:F0,useValue:null}])],ngContentSelectors:gle,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(ji(mle),yt(0),yt(1,1),dn(2,0),dn(3,1),dn(4,2),dn(5,3))},directives:[lm,am,um,cm],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function hm(n,e){return n.concat(Array.from(e))}let Mle=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({imports:[[AD]]}),n})();const Ale=[[["caption"]],[["colgroup"],["col"]]],kle=["caption","colgroup, col"];let aB=(()=>{class n extends dm{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Re(n)))(i||n)}}(),n.\u0275cmp=ke({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,i){2&t&&vt("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[Z([{provide:td,useClass:eB},{provide:dm,useExisting:n},{provide:Ml,useExisting:n},{provide:R0,useClass:rB},{provide:F0,useValue:null}]),N],ngContentSelectors:kle,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(ji(Ale),yt(0),yt(1,1),dn(2,0),dn(3,1),dn(4,2),dn(5,3))},directives:[lm,am,um,cm],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),n})(),L0=(()=>{class n extends Al{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Re(n)))(i||n)}}(),n.\u0275dir=T({type:n,selectors:[["","matCellDef",""]],features:[Z([{provide:Al,useExisting:n}]),N]}),n})(),V0=(()=>{class n extends kl{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Re(n)))(i||n)}}(),n.\u0275dir=T({type:n,selectors:[["","matHeaderCellDef",""]],features:[Z([{provide:kl,useExisting:n}]),N]}),n})(),B0=(()=>{class n extends jr{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Re(n)))(i||n)}}(),n.\u0275dir=T({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[Z([{provide:jr,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),N]}),n})(),H0=(()=>{class n extends A0{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Re(n)))(i||n)}}(),n.\u0275dir=T({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[N]}),n})(),U0=(()=>{class n extends k0{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Re(n)))(i||n)}}(),n.\u0275dir=T({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[N]}),n})(),lB=(()=>{class n extends nd{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Re(n)))(i||n)}}(),n.\u0275dir=T({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[Z([{provide:nd,useExisting:n}]),N]}),n})(),cB=(()=>{class n extends sm{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Re(n)))(i||n)}}(),n.\u0275dir=T({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[Z([{provide:sm,useExisting:n}]),N]}),n})(),uB=(()=>{class n extends O0{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Re(n)))(i||n)}}(),n.\u0275cmp=ke({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[Z([{provide:O0,useExisting:n}]),N],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&dn(0,0)},directives:[$r],encapsulation:2}),n})(),dB=(()=>{class n extends N0{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Re(n)))(i||n)}}(),n.\u0275cmp=ke({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[Z([{provide:N0,useExisting:n}]),N],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&dn(0,0)},directives:[$r],encapsulation:2}),n})(),Hle=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({imports:[[Mle,ze],ze]}),n})();class jle{constructor(e,t){this._document=t;const i=this._textarea=this._document.createElement("textarea"),r=i.style;r.position="fixed",r.top=r.opacity="0",r.left="-999em",i.setAttribute("aria-hidden","true"),i.value=e,this._document.body.appendChild(i)}copy(){const e=this._textarea;let t=!1;try{if(e){const i=this._document.activeElement;e.select(),e.setSelectionRange(0,e.value.length),t=this._document.execCommand("copy"),i&&i.focus()}}catch(i){}return t}destroy(){const e=this._textarea;e&&(e.remove(),this._textarea=void 0)}}let $le=(()=>{class n{constructor(t){this._document=t}copy(t){const i=this.beginCopy(t),r=i.copy();return i.destroy(),r}beginCopy(t){return new jle(t,this._document)}}return n.\u0275fac=function(t){return new(t||n)(C(te))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zle=new M("CDK_COPY_TO_CLIPBOARD_CONFIG");let Wle=(()=>{class n{constructor(t,i,r){this._clipboard=t,this._ngZone=i,this.text="",this.attempts=1,this.copied=new Ie,this._pending=new Set,r&&null!=r.attempts&&(this.attempts=r.attempts)}copy(t=this.attempts){if(t>1){let i=t;const r=this._clipboard.beginCopy(this.text);this._pending.add(r);const s=()=>{const o=r.copy();o||!--i||this._destroyed?(this._currentTimeout=null,this._pending.delete(r),r.destroy(),this.copied.emit(o)):this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(s,1))};s()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(t=>t.destroy()),this._pending.clear(),this._destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(m($le),m(ee),m(zle,8))},n.\u0275dir=T({type:n,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(t,i){1&t&&Pe("click",function(){return i.copy()})},inputs:{text:["cdkCopyToClipboard","text"],attempts:["cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"}}),n})(),Gle=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({}),n})();const qle=["fileInput"];function Kle(n,e){1&n&&(E(0,"th",12),U(1," Project Id "),D())}function Yle(n,e){if(1&n&&(E(0,"td",13),E(1,"a",14),U(2),D(),D()),2&n){const t=e.$implicit;L(2),Gs(t.name)}}function Qle(n,e){1&n&&(E(0,"th",15),U(1," Actions "),D())}function Xle(n,e){if(1&n){const t=Sa();E(0,"td",16),E(1,"button",17),Pe("click",function(){const s=fr(t).$implicit;return je().actionDelete(s.id)}),U(2," Delete "),D(),E(3,"a",18),U(4,"Link"),D(),E(5,"button",19),U(6," Copy Id "),D(),D()}if(2&n){const t=e.$implicit;L(3),E_("href",t.projectUrl,Kd),L(2),H("cdkCopyToClipboard",t.id)}}function Zle(n,e){1&n&&De(0,"tr",20)}function Jle(n,e){1&n&&De(0,"tr",21)}let ece=(()=>{class n{constructor(t,i){this.db=t,this.dialog=i,this.token="",this.projects=[],this.displayedColumns=["name","actions"]}ngOnInit(){const t=mD(this.db,"template");this.subscription$=function(n,e){return void 0===e&&(e={}),Vie(n).pipe(ne(function(t){return t.map(function(i){return function(n,e){var t;void 0===e&&(e={});var i=n.snapshot.val();return n.snapshot.exists()&&"object"==typeof i?Ap(Ap({},i),e.keyField?((t={})[e.keyField]=n.snapshot.key,t):null):i}(i,e)})}))}(t).subscribe(i=>this.projects=null!=i?i:[])}pickFile(){this.dialog.open(dle,{width:"50%"})}actionDelete(t){this.dialog.open(fle,{width:"50%",data:{id:t}})}ngOnDestroy(){var t;null===(t=this.subscription$)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(m(gl),m(Zu))},n.\u0275cmp=ke({type:n,selectors:[["app-index"]],viewQuery:function(t,i){if(1&t&&zt(qle,7,J),2&t){let r;ae(r=le())&&(i.filePicker=r.first)}},decls:13,vars:3,consts:[[1,"container","mx-auto","flex","flex-col","justify-center","items-center","p-4"],[1,"w-full","text-right","mb-1"],["mat-raised-button","","type","button",3,"click"],["mat-table","",1,"mat-elevation-z8","w-full",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","break-normal",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","","class","!text-center",4,"matHeaderCellDef"],["mat-cell","","class","text-center",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"break-normal"],["href","#"],["mat-header-cell","",1,"!text-center"],["mat-cell","",1,"text-center"],["mat-flat-button","","color","warn",3,"click"],["mat-flat-button","","target","_blank",1,"!ml-2","!bg-yellow-400",3,"href"],["mat-flat-button","",1,"!ml-2","!bg-green-400",3,"cdkCopyToClipboard"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(E(0,"div",0),E(1,"div",1),E(2,"button",2),Pe("click",function(){return i.pickFile()}),U(3,"Add Project"),D(),D(),E(4,"table",3),rs(5,4),ce(6,Kle,2,0,"th",5),ce(7,Yle,3,1,"td",6),ss(),rs(8,7),ce(9,Qle,2,0,"th",8),ce(10,Xle,7,2,"td",9),ss(),ce(11,Zle,1,0,"tr",10),ce(12,Jle,1,0,"tr",11),D(),D()),2&t&&(L(4),H("dataSource",i.projects),L(7),H("matHeaderRowDef",i.displayedColumns),L(1),H("matRowDefColumns",i.displayedColumns))},directives:[Il,aB,B0,V0,L0,lB,cB,H0,U0,Aae,Wle,uB,dB],styles:[""]}),n})(),hB=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(m(vr),m(J))},n.\u0275dir=T({type:n}),n})(),No=(()=>{class n extends hB{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Re(n)))(i||n)}}(),n.\u0275dir=T({type:n,features:[N]}),n})();const lr=new M("NgValueAccessor"),nce={provide:lr,useExisting:We(()=>fm),multi:!0},rce=new M("CompositionEventMode");let fm=(()=>{class n extends hB{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=qi()?qi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(m(vr),m(J),m(rce,8))},n.\u0275dir=T({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&Pe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Z([nce]),N]}),n})();function As(n){return null==n||0===n.length}function pB(n){return null!=n&&"number"==typeof n.length}const rn=new M("NgValidators"),ks=new M("NgAsyncValidators"),sce=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class rd{static min(e){return function(n){return e=>{if(As(e.value)||As(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function(n){return e=>{if(As(e.value)||As(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function(n){return As(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function(n){return As(n.value)||sce.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function(n){return e=>As(e.value)||!pB(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function(n){return e=>pB(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function(n){if(!n)return sd;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(As(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return MB(e)}static composeAsync(e){return AB(e)}}function sd(n){return null}function EB(n){return null!=n}function DB(n){const e=fc(n)?ct(n):n;return b_(e),e}function TB(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function SB(n,e){return e.map(t=>t(n))}function IB(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function MB(n){if(!n)return null;const e=n.filter(EB);return 0==e.length?null:function(t){return TB(SB(t,e))}}function j0(n){return null!=n?MB(IB(n)):null}function AB(n){if(!n)return null;const e=n.filter(EB);return 0==e.length?null:function(t){return HV(SB(t,e).map(DB)).pipe(ne(TB))}}function $0(n){return null!=n?AB(IB(n)):null}function kB(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function RB(n){return n._rawValidators}function xB(n){return n._rawAsyncValidators}function z0(n){return n?Array.isArray(n)?n:[n]:[]}function pm(n,e){return Array.isArray(n)?n.includes(e):n===e}function OB(n,e){const t=z0(e);return z0(n).forEach(r=>{pm(t,r)||t.push(r)}),t}function PB(n,e){return z0(e).filter(t=>!pm(n,t))}class NB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=j0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class zr extends NB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yn extends NB{get formDirective(){return null}get path(){return null}}class FB{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}let LB=(()=>{class n extends FB{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(m(zr,2))},n.\u0275dir=T({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&vt("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[N]}),n})(),VB=(()=>{class n extends FB{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(m(yn,10))},n.\u0275dir=T({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&vt("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[N]}),n})();function od(n,e){q0(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&BB(n,e)})}(n,e),function(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&BB(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function _m(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),vm(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ym(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function q0(n,e){const t=RB(n);null!==e.validator?n.setValidators(kB(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=xB(n);null!==e.asyncValidator?n.setAsyncValidators(kB(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();ym(e._rawValidators,r),ym(e._rawAsyncValidators,r)}function vm(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=RB(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=xB(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return ym(e._rawValidators,i),ym(e._rawAsyncValidators,i),t}function BB(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function HB(n,e){q0(n,e)}function UB(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function bm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ad="VALID",Cm="INVALID",Rl="PENDING",ld="DISABLED";function Q0(n){return(Z0(n)?n.validators:n)||null}function jB(n){return Array.isArray(n)?j0(n):n||null}function X0(n,e){return(Z0(e)?e.asyncValidators:n)||null}function $B(n){return Array.isArray(n)?$0(n):n||null}function Z0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class J0{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=jB(this._rawValidators),this._composedAsyncValidatorFn=$B(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ad}get invalid(){return this.status===Cm}get pending(){return this.status==Rl}get disabled(){return this.status===ld}get enabled(){return this.status!==ld}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=jB(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=$B(e)}addValidators(e){this.setValidators(OB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(OB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(PB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(PB(e,this._rawAsyncValidators))}hasValidator(e){return pm(this._rawValidators,e)}hasAsyncValidator(e){return pm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Rl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ld,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ad,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ad||this.status===Rl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ld:ad}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Rl,this._hasOwnPendingAsyncValidator=!0;const t=DB(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=i instanceof cd?i.controls.hasOwnProperty(r)?i.controls[r]:null:i instanceof eT&&i.at(r)||null}),i}(this,e)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ie,this.statusChanges=new Ie}_calculateStatus(){return this._allControlsDisabled()?ld:this.errors?Cm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rl)?Rl:this._anyControlsHaveStatus(Cm)?Cm:ad}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Z0(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Rs extends J0{constructor(e=null,t,i){super(Q0(t),X0(i,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){bm(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){bm(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class cd extends J0{constructor(e,t,i){super(Q0(t),X0(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t instanceof Rs?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class eT extends J0{constructor(e,t,i){super(Q0(t),X0(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((i,r)=>{this._throwIfControlMissing(r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Rs?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const yce={provide:yn,useExisting:We(()=>wm)},ud=(()=>Promise.resolve(null))();let wm=(()=>{class n extends yn{constructor(t,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Ie,this.form=new cd({},j0(t),$0(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ud.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),od(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ud.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),bm(this._directives,t)})}addFormGroup(t){ud.then(()=>{const i=this._findContainer(t.path),r=new cd({});HB(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ud.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){ud.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,UB(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(m(rn,10),m(ks,10))},n.\u0275dir=T({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&Pe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Z([yce]),N]}),n})(),KB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=T({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),QB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({}),n})();const tT=new M("NgModelWithFormControlWarning"),Sce={provide:yn,useExisting:We(()=>dd)};let dd=(()=>{class n extends yn{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ie,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(vm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return od(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){_m(t.control||null,t,!1),bm(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,UB(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(_m(i||null,t),r instanceof Rs&&(od(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);HB(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function(n,e){return vm(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){q0(this.form,this),this._oldForm&&vm(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(m(rn,10),m(ks,10))},n.\u0275dir=T({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&Pe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Z([Sce]),N,Pt]}),n})();const Ace={provide:zr,useExisting:We(()=>rT)};let rT=(()=>{class n extends zr{constructor(t,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Ie,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===fm?t=s:function(n){return Object.getPrototypeOf(n.constructor)===No}(s)?i=s:r=s}),r||i||t||null}(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(m(yn,13),m(rn,10),m(ks,10),m(lr,10),m(tT,8))},n.\u0275dir=T({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Z([Ace]),N,Pt]}),n})(),f2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({imports:[[QB]]}),n})(),zce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({imports:[f2]}),n})(),p2=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:tT,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({imports:[f2]}),n})(),Gce=(()=>{class n{group(t,i=null){const r=this._reduceControls(t);let a,s=null,o=null;return null!=i&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(s=null!=i.validators?i.validators:null,o=null!=i.asyncValidators?i.asyncValidators:null,a=null!=i.updateOn?i.updateOn:void 0):(s=null!=i.validator?i.validator:null,o=null!=i.asyncValidator?i.asyncValidator:null)),new cd(r,{asyncValidators:o,updateOn:a,validators:s})}control(t,i,r){return new Rs(t,i,r)}array(t,i,r){const s=t.map(o=>this._createControl(o));return new eT(s,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof Rs||t instanceof cd||t instanceof eT?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:p2}),n})();const Fo_firebase={projectId:"auth-custom-claim-manager",appId:"1:831416126337:web:8603fe95a28b2b85597680",databaseURL:"https://auth-custom-claim-manager-default-rtdb.asia-southeast1.firebasedatabase.app",storageBucket:"auth-custom-claim-manager.appspot.com",apiKey:"AIzaSyCDxL6-SMOMRGWGi_ziYlepIllI_9wt9_Y",authDomain:"auth-custom-claim-manager.firebaseapp.com",messagingSenderId:"831416126337",measurementId:"G-YRJSK81ZTR"};let m2=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qce=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Br(t);return new Ee(r=>{const o=this._observeElement(i).subscribe(r);return()=>{o.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new _e,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(C(m2))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kce=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new Ie,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=kn(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Hu(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(yL(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(m(qce),m(J),m(ee))},n.\u0275dir=T({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Yce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({providers:[m2]}),n})();const Qce=["connectionContainer"],Xce=["inputContainer"],Zce=["label"];function Jce(n,e){1&n&&(rs(0),E(1,"div",14),De(2,"div",15),De(3,"div",16),De(4,"div",17),D(),E(5,"div",18),De(6,"div",15),De(7,"div",16),De(8,"div",17),D(),ss())}function eue(n,e){if(1&n){const t=Sa();E(0,"div",19),Pe("cdkObserveContent",function(){return fr(t),je().updateOutlineGap()}),yt(1,1),D()}2&n&&H("cdkObserveContentDisabled","outline"!=je().appearance)}function tue(n,e){if(1&n&&(rs(0),yt(1,2),E(2,"span"),U(3),D(),ss()),2&n){const t=je(2);L(3),Gs(t._control.placeholder)}}function nue(n,e){1&n&&yt(0,3,["*ngSwitchCase","true"])}function iue(n,e){1&n&&(E(0,"span",23),U(1," *"),D())}function rue(n,e){if(1&n){const t=Sa();E(0,"label",20,21),Pe("cdkObserveContent",function(){return fr(t),je().updateOutlineGap()}),ce(2,tue,4,1,"ng-container",12),ce(3,nue,1,0,"ng-content",12),ce(4,iue,2,0,"span",22),D()}if(2&n){const t=je();vt("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),H("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),Ve("for",t._control.id)("aria-owns",t._control.id),L(2),H("ngSwitchCase",!1),L(1),H("ngSwitchCase",!0),L(1),H("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function sue(n,e){1&n&&(E(0,"div",24),yt(1,4),D())}function oue(n,e){if(1&n&&(E(0,"div",25),De(1,"span",26),D()),2&n){const t=je();L(1),vt("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function aue(n,e){1&n&&(E(0,"div"),yt(1,5),D()),2&n&&H("@transitionMessages",je()._subscriptAnimationState)}function lue(n,e){if(1&n&&(E(0,"div",30),U(1),D()),2&n){const t=je(2);H("id",t._hintLabelId),L(1),Gs(t.hintLabel)}}function cue(n,e){if(1&n&&(E(0,"div",27),ce(1,lue,2,2,"div",28),yt(2,6),De(3,"div",29),yt(4,7),D()),2&n){const t=je();H("@transitionMessages",t._subscriptAnimationState),L(1),H("ngIf",t.hintLabel)}}const uue=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],due=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let hue=0;const g2=new M("MatError");let fue=(()=>{class n{constructor(t,i){this.id="mat-error-"+hue++,t||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(ts("aria-live"),m(J))},n.\u0275dir=T({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,i){2&t&&Ve("id",i.id)},inputs:{id:"id"},features:[Z([{provide:g2,useExisting:n}])]}),n})();const pue={transitionMessages:Fp("transitionMessages",[qu("enter",Wn({opacity:1,transform:"translateY(0%)"})),wl("void => enter",[Wn({opacity:0,transform:"translateY(-5px)"}),Cl("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let lT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=T({type:n}),n})();const mue=new M("MatHint");let cT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=T({type:n,selectors:[["mat-label"]]}),n})(),gue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=T({type:n,selectors:[["mat-placeholder"]]}),n})();const _ue=new M("MatPrefix"),yue=new M("MatSuffix");let _2=0;const bue=Sl(class{constructor(n){this._elementRef=n}},"primary"),Cue=new M("MAT_FORM_FIELD_DEFAULT_OPTIONS"),v2=new M("MatFormField");let wue=(()=>{class n extends bue{constructor(t,i,r,s,o,a,l){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=o,this._ngZone=a,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new _e,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+_2++,this._labelId="mat-form-field-label-"+_2++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==l,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=kn(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(ls(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(ki(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ki(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Fs(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(ls(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(ls(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(ki(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Uu(this._label.nativeElement,"transitionend").pipe(Et(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let i=0,r=0;const s=this._connectionContainerRef.nativeElement,o=s.querySelectorAll(".mat-form-field-outline-start"),a=s.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const l=s.getBoundingClientRect();if(0===l.width&&0===l.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const c=this._getStartEnd(l),u=t.children,d=this._getStartEnd(u[0].getBoundingClientRect());let h=0;for(let f=0;f<u.length;f++)h+=u[f].offsetWidth;i=Math.abs(d-c)-5,r=h>0?.75*h+10:0}for(let l=0;l<o.length;l++)o[l].style.width=`${i}px`;for(let l=0;l<a.length;l++)a[l].style.width=`${r}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(m(J),m(Ys),m(yl,8),m(Cue,8),m(nn),m(ee),m(Ur,8))},n.\u0275cmp=ke({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(nt(r,lT,5),nt(r,lT,7),nt(r,cT,5),nt(r,cT,7),nt(r,gue,5),nt(r,g2,5),nt(r,mue,5),nt(r,_ue,5),nt(r,yue,5)),2&t){let s;ae(s=le())&&(i._controlNonStatic=s.first),ae(s=le())&&(i._controlStatic=s.first),ae(s=le())&&(i._labelChildNonStatic=s.first),ae(s=le())&&(i._labelChildStatic=s.first),ae(s=le())&&(i._placeholderChild=s.first),ae(s=le())&&(i._errorChildren=s),ae(s=le())&&(i._hintChildren=s),ae(s=le())&&(i._prefixChildren=s),ae(s=le())&&(i._suffixChildren=s)}},viewQuery:function(t,i){if(1&t&&(zt(Qce,7),zt(Xce,5),zt(Zce,5)),2&t){let r;ae(r=le())&&(i._connectionContainerRef=r.first),ae(r=le())&&(i._inputContainerRef=r.first),ae(r=le())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&vt("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[Z([{provide:v2,useExisting:n}]),N],ngContentSelectors:due,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(ji(uue),E(0,"div",0),E(1,"div",1,2),Pe("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),ce(3,Jce,9,0,"ng-container",3),ce(4,eue,2,1,"div",4),E(5,"div",5,6),yt(7),E(8,"span",7),ce(9,rue,5,16,"label",8),D(),D(),ce(10,sue,2,0,"div",9),D(),ce(11,oue,2,4,"div",10),E(12,"div",11),ce(13,aue,2,1,"div",12),ce(14,cue,5,2,"div",13),D(),D()),2&t&&(L(3),H("ngIf","outline"==i.appearance),L(1),H("ngIf",i._prefixChildren.length),L(5),H("ngIf",i._hasFloatingLabel()),L(1),H("ngIf",i._suffixChildren.length),L(1),H("ngIf","outline"!=i.appearance),L(1),H("ngSwitch",i._getDisplayedMessages()),L(1),H("ngSwitchCase","error"),L(1),H("ngSwitchCase","hint"))},directives:[Zs,Ac,_y,Kce],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[pue.transitionMessages]},changeDetection:0}),n})(),b2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({imports:[[kc,ze,Yce],ze]}),n})();const C2=zu({passive:!0});let Eue=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Oi;const i=Br(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new _e,o="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||i.classList.contains(o)?"cdk-text-field-autofill-end"===l.animationName&&i.classList.contains(o)&&(i.classList.remove(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!1}))):(i.classList.add(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,C2),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",a,C2)}}),s}stopMonitoring(t){const i=Br(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(C(nn),C(ee))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),w2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({imports:[[ED]]}),n})();const Due=new M("MAT_INPUT_VALUE_ACCESSOR"),Tue=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Sue=0;const Iue=rae(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i}});let Mue=(()=>{class n extends Iue{constructor(t,i,r,s,o,a,l,c,u,d){super(a,s,o,r),this._elementRef=t,this._platform=i,this._autofillMonitor=c,this._formField=d,this._uid="mat-input-"+Sue++,this.focused=!1,this.stateChanges=new _e,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(p=>tL().has(p));const h=this._elementRef.nativeElement,f=h.nodeName.toLowerCase();this._inputValueAccessor=l||h,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",p=>{const g=p.target;!g.value&&0===g.selectionStart&&0===g.selectionEnd&&(g.setSelectionRange(1,1),g.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===f,this._isTextarea="textarea"===f,this._isInFormField=!!d,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=kn(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,i,r,s;return null!==(s=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(rd.required))&&void 0!==s&&s}set required(t){this._required=kn(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&tL().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=kn(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,i;const r=(null===(i=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===i?void 0:i.call(t))?null:this.placeholder;if(r!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=r,r?s.setAttribute("placeholder",r):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){Tue.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(m(J),m(nn),m(zr,10),m(wm,8),m(dd,8),m(SV),m(Due,10),m(Eue),m(ee),m(v2,8))},n.\u0275dir=T({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(t,i){1&t&&Pe("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(mc("disabled",i.disabled)("required",i.required),Ve("id",i.id)("data-placeholder",i.placeholder)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),vt("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Z([{provide:lT,useExisting:n}]),N,Pt]}),n})(),Aue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({providers:[SV],imports:[[w2,b2,ze],w2,b2]}),n})();const kue=["primaryValueBar"],Rue=Sl(class{constructor(n){this._elementRef=n}},"primary"),xue=new M("mat-progress-bar-location",{providedIn:"root",factory:function(){const n=$d(te),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),Pue=new M("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let Nue=0,Fue=(()=>{class n extends Rue{constructor(t,i,r,s,o){super(t),this._ngZone=i,this._animationMode=r,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new Ie,this._animationEndSubscription=Ae.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+Nue++;const a=s?s.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${a}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===r,o&&(o.color&&(this.color=this.defaultColor=o.color),this.mode=o.mode||this.mode)}get value(){return this._value}set value(t){this._value=E2(Hu(t)||0)}get bufferValue(){return this._bufferValue}set bufferValue(t){this._bufferValue=E2(t||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=this._primaryValueBar.nativeElement;this._animationEndSubscription=Uu(t,"transitionend").pipe(At(i=>i.target===t)).subscribe(()=>{("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(m(J),m(ee),m(Ur,8),m(xue,8),m(Pue,8))},n.\u0275cmp=ke({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(t,i){if(1&t&&zt(kue,5),2&t){let r;ae(r=le())&&(i._primaryValueBar=r.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(t,i){2&t&&(Ve("aria-valuenow","indeterminate"===i.mode||"query"===i.mode?null:i.value)("mode",i.mode),vt("_mat-animation-noopable",i._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[N],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(t,i){1&t&&(E(0,"div",0),Xo(),E(1,"svg",1),E(2,"defs"),E(3,"pattern",2),De(4,"circle",3),D(),D(),De(5,"rect",4),D(),z.lFrame.currentNamespace=null,De(6,"div",5),De(7,"div",6,7),De(9,"div",8),D()),2&t&&(L(3),H("id",i.progressbarId),L(2),Ve("fill",i._rectangleFillValue),L(1),H("ngStyle",i._bufferTransform()),L(1),H("ngStyle",i._primaryTransform()))},directives:[kR],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),n})();function E2(n,e=0,t=100){return Math.max(e,Math.min(t,n))}let Lue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({imports:[[kc,ze],ze]}),n})();function Vue(n,e){1&n&&(E(0,"mat-error"),U(1," Please enter a valid email address "),D())}function Bue(n,e){1&n&&(E(0,"mat-error"),U(1," Email is "),E(2,"strong"),U(3,"required"),D(),D())}function Hue(n,e){1&n&&(E(0,"mat-error"),U(1," Password is "),E(2,"strong"),U(3,"required"),D(),D())}function Uue(n,e){if(1&n&&(E(0,"mat-error"),U(1," Minimum "),E(2,"strong"),U(3),D(),U(4," digit "),D()),2&n){const t=je();L(3),Gs(null==t.passwordFormControl.errors?null:t.passwordFormControl.errors.minlength.requiredLength)}}function jue(n,e){if(1&n&&(E(0,"p",9),U(1),D()),2&n){const t=je();L(1),Gs(t.errorMessage)}}function $ue(n,e){1&n&&De(0,"mat-progress-bar",10)}let zue=(()=>{class n{constructor(t,i,r,s){this.fb=t,this.auth=i,this.router=r,this.titleServces=s,this.matcher=new Wue,this.emailFormControl=new Rs("",[rd.required,rd.email]),this.passwordFormControl=new Rs("",[rd.required,rd.minLength(6)]),this.isProgress=!1,this.errorMessage=null,this.titleServces.setTitle("Login"),this.control=this.fb.group({email:this.emailFormControl,password:this.passwordFormControl})}get password(){return this.passwordFormControl.value}get email(){return this.emailFormControl.value}ngOnInit(){}login(){!this.control.valid||(this.isProgress=!0,this.errorMessage=null,ct(qJ(this.auth,this.email,this.password)).pipe(Ry(()=>this.isProgress=!1)).subscribe({error:t=>{t instanceof Xi&&(this.errorMessage=t.message)},complete:()=>this.router.navigate([""])}))}}return n.\u0275fac=function(t){return new(t||n)(m(Gce),m(ms),m(tn),m(WR))},n.\u0275cmp=ke({type:n,selectors:[["app-login"]],decls:19,vars:9,consts:[[3,"formGroup"],[1,"container"],["appearance","fill",1,"full-width"],["type","email","matInput","","formControlName","email","placeholder","Ex. pat@example.com",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","formControlName","password","placeholder","Placeholder","type","password",3,"errorStateMatcher"],["class","text-red-500",4,"ngIf"],["mat-raised-button","","type","submit","color","primary",1,"full-width",3,"click"],["class","mt-1","mode","indeterminate",4,"ngIf"],[1,"text-red-500"],["mode","indeterminate",1,"mt-1"]],template:function(t,i){1&t&&(E(0,"form",0),E(1,"div",1),E(2,"div"),E(3,"mat-form-field",2),E(4,"mat-label"),U(5,"Email"),D(),De(6,"input",3),ce(7,Vue,2,0,"mat-error",4),ce(8,Bue,4,0,"mat-error",4),D(),E(9,"mat-form-field",2),E(10,"mat-label"),U(11,"Password"),D(),De(12,"input",5),ce(13,Hue,4,0,"mat-error",4),ce(14,Uue,5,1,"mat-error",4),D(),ce(15,jue,2,1,"p",6),E(16,"button",7),Pe("click",function(){return i.login()}),U(17,"Login"),D(),ce(18,$ue,1,0,"mat-progress-bar",8),D(),D(),D()),2&t&&(H("formGroup",i.control),L(6),H("errorStateMatcher",i.matcher),L(1),H("ngIf",i.emailFormControl.hasError("email")&&!i.emailFormControl.hasError("required")),L(1),H("ngIf",i.emailFormControl.hasError("required")),L(4),H("errorStateMatcher",i.matcher),L(1),H("ngIf",i.passwordFormControl.hasError("required")),L(1),H("ngIf",i.passwordFormControl.hasError("minlength")),L(1),H("ngIf",i.errorMessage),L(3),H("ngIf",i.isProgress))},directives:[KB,VB,dd,wue,cT,Mue,fm,LB,rT,Zs,Il,fue,Fue],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]{height:100%}.container[_ngcontent-%COMP%]{height:100%;align-items:center;justify-content:center;display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:60%;display:flex;flex-direction:column;justify-content:center;align-items:center}"]}),n})();class Wue{isErrorState(e,t){return!!(e&&e.invalid&&(e.dirty||e.touched||t&&t.submitted))}}const uT=ne(n=>!!n);let Dm=(()=>{class n{constructor(t,i){this.router=t,this.auth=i,this.canActivate=(r,s)=>{const o=r.data.authGuardPipe||(()=>uT);return $J(this.auth).pipe(Et(1),o(r,s),ne(a=>"boolean"==typeof a?a:Array.isArray(a)?this.router.createUrlTree(a):this.router.parseUrl(a)))}}}return n.\u0275fac=function(t){return new(t||n)(C(tn),C(ms))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Yue=(()=>{class n{constructor(t,i){this.route=t,this.auth=i}ngOnInit(){var t=this;return y(function*(){yield KJ(t.auth),t.route.navigate(["login"])})()}}return n.\u0275fac=function(t){return new(t||n)(m(tn),m(ms))},n.\u0275cmp=ke({type:n,selectors:[["app-index"]],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),Que=(()=>{class n{constructor(t){this.auth=t,this.idToken=""}ngOnInit(){ct(WJ(this.auth.currentUser)).pipe(Et(1)).subscribe(t=>this.idToken=t)}}return n.\u0275fac=function(t){return new(t||n)(m(ms))},n.\u0275cmp=ke({type:n,selectors:[["app-token"]],decls:4,vars:1,consts:[[1,"container"],[1,"grid","grid-cols-1","m-2"],[1,"break-words"]],template:function(t,i){1&t&&(E(0,"div",0),E(1,"div",1),E(2,"p",2),U(3),D(),D(),D()),2&t&&(L(3),ni(" ",i.idToken," "))},styles:[""]}),n})();const D2=()=>(n=>fT(uT,ne(e=>e||n)))(["login"]),Zue=[{path:"",component:ece,canActivate:[Dm],data:{authGuardPipe:D2}},{path:"login",component:zue,canActivate:[Dm],data:{authGuardPipe:()=>(n=>fT(uT,ne(e=>e&&n||!0)))([""])}},{path:"logout",component:Yue},{path:"token",component:Que,canActivate:[Dm],data:{authGuardPipe:D2}}];let Jue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({imports:[[Xx.forRoot(Zue)],Xx]}),n})();const ede=["*",[["mat-toolbar-row"]]],tde=["*","mat-toolbar-row"],nde=Sl(class{constructor(n){this._elementRef=n}});let ide=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=T({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),rde=(()=>{class n extends nde{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(m(J),m(nn),m(te))},n.\u0275cmp=ke({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&nt(r,ide,5),2&t){let s;ae(s=le())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&vt("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[N],ngContentSelectors:tde,decls:2,vars:0,template:function(t,i){1&t&&(ji(ede),yt(0),yt(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),sde=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({imports:[[ze],ze]}),n})();const ode=["mat-menu-item",""];function ade(n,e){1&n&&(Xo(),E(0,"svg",2),De(1,"polygon",3),D())}const T2=["*"];function lde(n,e){if(1&n){const t=Sa();E(0,"div",0),Pe("keydown",function(r){return fr(t),je()._handleKeydown(r)})("click",function(){return fr(t),je().closed.emit("click")})("@transformMenu.start",function(r){return fr(t),je()._onAnimationStart(r)})("@transformMenu.done",function(r){return fr(t),je()._onAnimationDone(r)}),E(1,"div",1),yt(2),D(),D()}if(2&n){const t=je();H("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),Ve("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const Tm={transformMenu:Fp("transformMenu",[qu("void",Wn({opacity:0,transform:"scale(0.8)"})),wl("void => enter",Cl("120ms cubic-bezier(0, 0, 0.2, 1)",Wn({opacity:1,transform:"scale(1)"}))),wl("* => void",Cl("100ms 25ms linear",Wn({opacity:0})))]),fadeInItems:Fp("fadeInItems",[qu("showing",Wn({opacity:1})),wl("void => *",[Wn({opacity:0}),Cl("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},cde=new M("MatMenuContent"),dT=new M("MAT_MENU_PANEL"),ude=TV(DV(class{}));let Sm=(()=>{class n extends ude{constructor(t,i,r,s,o){super(),this._elementRef=t,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=o,this.role="menuitem",this._hovered=new _e,this._focused=new _e,this._highlighted=!1,this._triggersSubmenu=!1,s&&s.addItem&&s.addItem(this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var t;const i=this._elementRef.nativeElement.cloneNode(!0),r=i.querySelectorAll("mat-icon, .material-icons");for(let s=0;s<r.length;s++)r[s].remove();return(null===(t=i.textContent)||void 0===t?void 0:t.trim())||""}_setHighlighted(t){var i;this._highlighted=t,null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(m(J),m(te),m(Gu),m(dT,8),m(Ys))},n.\u0275cmp=ke({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,i){1&t&&Pe("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&t&&(Ve("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),vt("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[N],attrs:ode,ngContentSelectors:T2,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,i){1&t&&(ji(),yt(0),De(1,"div",0),ce(2,ade,2,0,"svg",1)),2&t&&(L(1),H("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),L(1),H("ngIf",i._triggersSubmenu))},directives:[em,Zs],encapsulation:2,changeDetection:0}),n})();const S2=new M("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let hde=0,hd=(()=>{class n{constructor(t,i,r){this._elementRef=t,this._ngZone=i,this._defaultOptions=r,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new xa,this._tabSubscription=Ae.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new _e,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new Ie,this.close=this.closed,this.panelId="mat-menu-panel-"+hde++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=kn(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=kn(t)}set panelClass(t){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new use(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(ls(this._directDescendantItems),Ki(t=>Fs(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(ls(this._directDescendantItems),Ki(i=>Fs(...i.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,r=this._keyManager;switch(i){case 27:BD(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:(38===i||40===i)&&r.setFocusOrigin("keyboard"),r.onKeydown(t)}}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.pipe(Et(1)).subscribe(()=>this._focusFirstItem(t)):this._focusFirstItem(t)}_focusFirstItem(t){const i=this._keyManager;if(i.setFocusOrigin(t).setFirstItemActive(),!i.activeItem&&this._directDescendantItems.length){let r=this._directDescendantItems.first._getHostElement().parentElement;for(;r;){if("menu"===r.getAttribute("role")){r.focus();break}r=r.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const i=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(o=>o.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===t,r["mat-menu-after"]="after"===t,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(ls(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(m(J),m(ee),m(S2))},n.\u0275dir=T({type:n,contentQueries:function(t,i,r){if(1&t&&(nt(r,cde,5),nt(r,Sm,5),nt(r,Sm,4)),2&t){let s;ae(s=le())&&(i.lazyContent=s.first),ae(s=le())&&(i._allItems=s),ae(s=le())&&(i.items=s)}},viewQuery:function(t,i){if(1&t&&zt(It,5),2&t){let r;ae(r=le())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),fde=(()=>{class n extends hd{constructor(t,i,r){super(t,i,r),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(t){return new(t||n)(m(J),m(ee),m(S2))},n.\u0275cmp=ke({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,i){2&t&&Ve("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Z([{provide:dT,useExisting:n}]),N],ngContentSelectors:T2,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,i){1&t&&(ji(),ce(0,lde,3,6,"ng-template"))},directives:[my],styles:["mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,data:{animation:[Tm.transformMenu,Tm.fadeInItems]},changeDetection:0}),n})();const I2=new M("mat-menu-scroll-strategy"),mde={provide:I2,deps:[vl],useFactory:function(n){return()=>n.scrollStrategies.reposition()}},A2=zu({passive:!0});let gde=(()=>{class n{constructor(t,i,r,s,o,a,l,c){this._overlay=t,this._element=i,this._viewContainerRef=r,this._menuItemInstance=a,this._dir=l,this._focusMonitor=c,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Ae.EMPTY,this._hoverSubscription=Ae.EMPTY,this._menuCloseSubscription=Ae.EMPTY,this._handleTouchStart=u=>{UD(u)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new Ie,this.onMenuOpen=this.menuOpened,this.menuClosed=new Ie,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=o instanceof hd?o:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,A2),a&&(a._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,A2),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),i=t.getConfig();this._setPosition(i.positionStrategy),i.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof hd&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){var t;null===(t=this._overlayRef)||void 0===t||t.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof hd?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(At(r=>"void"===r.toState),Et(1),ki(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i.lazyContent&&i.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let t=0,i=this.menu.parentMenu;for(;i;)t++,i=i.parentMenu;this.menu.setElevation(t)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new ND({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(i=>{this.menu.setPositionClasses("start"===i.connectionPair.overlayX?"after":"before","top"===i.connectionPair.overlayY?"below":"above")})}_setPosition(t){let[i,r]="before"===this.menu.xPosition?["end","start"]:["start","end"],[s,o]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[a,l]=[s,o],[c,u]=[i,r],d=0;this.triggersSubmenu()?(u=i="before"===this.menu.xPosition?"start":"end",r=c="end"===i?"start":"end",d="bottom"===s?8:-8):this.menu.overlapTrigger||(a="top"===s?"bottom":"top",l="top"===o?"bottom":"top"),t.withPositions([{originX:i,originY:a,overlayX:c,overlayY:s,offsetY:d},{originX:r,originY:a,overlayX:u,overlayY:s,offsetY:d},{originX:i,originY:l,overlayX:c,overlayY:o,offsetY:-d},{originX:r,originY:l,overlayX:u,overlayY:o,offsetY:-d}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments();return Fs(t,this._parentMaterialMenu?this._parentMaterialMenu.closed:V(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(At(o=>o!==this._menuItemInstance),At(()=>this._menuOpen)):V(),i)}_handleMousedown(t){HD(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(At(t=>t===this._menuItemInstance&&!t.disabled),gD(0,CD)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof hd&&this.menu._isAnimating?this.menu._animationDone.pipe(Et(1),gD(0,CD),ki(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new xD(this.menu.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(m(vl),m(J),m(Nt),m(I2),m(dT,8),m(Sm,10),m(yl,8),m(Gu))},n.\u0275dir=T({type:n,hostAttrs:["aria-haspopup","true"],hostVars:2,hostBindings:function(t,i){1&t&&Pe("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&t&&Ve("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),_de=(()=>{class n extends gde{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=Re(n)))(i||n)}}(),n.\u0275dir=T({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[N]}),n})(),yde=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({providers:[mde],imports:[[kc,ze,RV,fL],MD,ze]}),n})();function vde(n,e){if(1&n&&(E(0,"div",11),U(1),D()),2&n){const t=je(2);L(1),ni(" ",null==t.user?null:t.user.displayName," ")}}function bde(n,e){if(1&n&&(E(0,"mat-toolbar",1),E(1,"a",2),E(2,"span"),U(3,"My App"),D(),D(),De(4,"span",3),E(5,"button",4),E(6,"mat-icon"),U(7,"account_circle"),D(),D(),E(8,"mat-menu",null,5),ce(10,vde,2,1,"div",6),E(11,"div",7),E(12,"mat-icon"),U(13,"email"),D(),U(14),E(15,"mat-icon",8),U(16,"circle"),D(),D(),E(17,"div",9),E(18,"mat-icon"),U(19,"token"),D(),U(20," Token "),D(),E(21,"div",10),E(22,"mat-icon"),U(23,"logout"),D(),U(24," Signout "),D(),D(),D()),2&n){const t=function(n){return function(n,e){return n[e]}(z.lFrame.contextLView,20+n)}(9),i=je();L(5),H("matMenuTriggerFor",t),L(5),H("ngIf",null==i.user?null:i.user.displayName),L(4),ni(" ",null==i.user?null:i.user.email," "),L(1),H("ngClass",null!=i.user&&i.user.emailVerified?"!text-green-400":"!text-red-400")}}let Cde=(()=>{class n{constructor(t,i){this.auth=t,this.dialog=i,this.user=null,this.dispose=null}get isLoggedIn(){return null!=this.user}ngOnDestroy(){var t;null===(t=this.dispose)||void 0===t||t.call("cancel")}ngOnInit(){var t=this;return y(function*(){t.dispose=GJ(t.auth,i=>t.user=i)})()}}return n.\u0275fac=function(t){return new(t||n)(m(ms),m(Zu))},n.\u0275cmp=ke({type:n,selectors:[["app-tool-bar"]],decls:1,vars:1,consts:[["class","my-toolbar",4,"ngIf"],[1,"my-toolbar"],["routerLink","/",1,"app-title"],[1,"w-full"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",4,"ngIf"],["mat-menu-item","",1,"inline-block","!align-middle"],[1,"!text-xs",3,"ngClass"],["mat-menu-item","","routerLink","/token"],["mat-menu-item","","routerLink","/logout"],["mat-menu-item",""]],template:function(t,i){1&t&&ce(0,bde,25,4,"mat-toolbar",0),2&t&&H("ngIf",i.isLoggedIn)},directives:[Zs,rde,nf,Il,_de,JV,fde,Sm,my,tf],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.my-toolbar[_ngcontent-%COMP%]{background-color:#00f;color:#fff;position:-webkit-sticky;top:0;z-index:1000}.app-title[_ngcontent-%COMP%]{text-decoration:none;color:#fff}"]}),n})(),wde=(()=>{class n{constructor(){this.title="firebase_auth_credentail_manager"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ke({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"flex","flex-col","h-full"],[1,"grow"],[1,"grow","w-screen","h-full","overflow-auto"]],template:function(t,i){1&t&&(E(0,"div",0),E(1,"div",1),De(2,"app-tool-bar"),D(),E(3,"div",2),De(4,"router-outlet"),D(),D())},directives:[Cde,zy],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100vw;height:100%}.wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2){flex-grow:1;overflow:auto}"]}),n})(),Ede=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({imports:[[ze],ze]}),n})(),Sde=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({imports:[[IV,ze],IV,ze]}),n})(),Ide=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({providers:[],imports:[kae,sde,Ede,Zae,Aue,Sde,Lue,yde,Dae,Hle,ole]}),n})(),Mde=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({imports:[[tX(()=>{const e=new eC("6LefPr4dAAAAAF0d-FFP57NQTFXpXNIRuWP-mwds");return nX(oQ(),{provider:e,isTokenAutoRefreshEnabled:!0})})],kP]}),n})(),Ade=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n}),n.\u0275inj=W({providers:[],imports:[[sQ(()=>aQ(Fo_firebase)),Tie(()=>{const e=Iie();return e}),jJ(()=>HN())],lP,BN,UF,Mde]}),n})(),kde=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Q({type:n,bootstrap:[wde]}),n.\u0275inj=W({providers:[],imports:[[zR,Jue,tae,Ide,zce,p2,Ade,Gle]]}),n})();(function(){if(tR)throw new Error("Cannot enable prod mode after platform setup.");eR=!1})(),kq().bootstrapModule(kde).catch(n=>console.error(n))},940:function(pd,md){!function(Os){"use strict";function he(F){return Array.prototype.slice.call(F)}function Bo(F){return new Promise(function(fe,Se){F.onsuccess=function(){fe(F.result)},F.onerror=function(){Se(F.error)}})}function Gr(F,fe,Se){var Oe,ve=new Promise(function(on,qr){Bo(Oe=F[fe].apply(F,Se)).then(on,qr)});return ve.request=Oe,ve}function Ho(F,fe,Se){var Oe=Gr(F,fe,Se);return Oe.then(function(ve){if(ve)return new xi(ve,Oe.request)})}function Ae(F,fe,Se){Se.forEach(function(Oe){Object.defineProperty(F.prototype,Oe,{get:function(){return this[fe][Oe]},set:function(ve){this[fe][Oe]=ve}})})}function Uo(F,fe,Se,Oe){Oe.forEach(function(ve){ve in Se.prototype&&(F.prototype[ve]=function(){return Gr(this[fe],ve,arguments)})})}function Ps(F,fe,Se,Oe){Oe.forEach(function(ve){ve in Se.prototype&&(F.prototype[ve]=function(){return this[fe][ve].apply(this[fe],arguments)})})}function Nl(F,fe,Se,Oe){Oe.forEach(function(ve){ve in Se.prototype&&(F.prototype[ve]=function(){return Ho(this[fe],ve,arguments)})})}function sn(F){this._index=F}function xi(F,fe){this._cursor=F,this._request=fe}function Rn(F){this._store=F}function Yn(F){this._tx=F,this.complete=new Promise(function(fe,Se){F.oncomplete=function(){fe()},F.onerror=function(){Se(F.error)},F.onabort=function(){Se(F.error)}})}function jo(F,fe,Se){this._db=F,this.oldVersion=fe,this.transaction=new Yn(Se)}function $o(F){this._db=F}Ae(sn,"_index",["name","keyPath","multiEntry","unique"]),Uo(sn,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Nl(sn,"_index",IDBIndex,["openCursor","openKeyCursor"]),Ae(xi,"_cursor",["direction","key","primaryKey","value"]),Uo(xi,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(F){F in IDBCursor.prototype&&(xi.prototype[F]=function(){var fe=this,Se=arguments;return Promise.resolve().then(function(){return fe._cursor[F].apply(fe._cursor,Se),Bo(fe._request).then(function(Oe){if(Oe)return new xi(Oe,fe._request)})})})}),Rn.prototype.createIndex=function(){return new sn(this._store.createIndex.apply(this._store,arguments))},Rn.prototype.index=function(){return new sn(this._store.index.apply(this._store,arguments))},Ae(Rn,"_store",["name","keyPath","indexNames","autoIncrement"]),Uo(Rn,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Nl(Rn,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),Ps(Rn,"_store",IDBObjectStore,["deleteIndex"]),Yn.prototype.objectStore=function(){return new Rn(this._tx.objectStore.apply(this._tx,arguments))},Ae(Yn,"_tx",["objectStoreNames","mode"]),Ps(Yn,"_tx",IDBTransaction,["abort"]),jo.prototype.createObjectStore=function(){return new Rn(this._db.createObjectStore.apply(this._db,arguments))},Ae(jo,"_db",["name","version","objectStoreNames"]),Ps(jo,"_db",IDBDatabase,["deleteObjectStore","close"]),$o.prototype.transaction=function(){return new Yn(this._db.transaction.apply(this._db,arguments))},Ae($o,"_db",["name","version","objectStoreNames"]),Ps($o,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(F){[Rn,sn].forEach(function(fe){F in fe.prototype&&(fe.prototype[F.replace("open","iterate")]=function(){var Se=he(arguments),Oe=Se[Se.length-1],ve=this._store||this._index,on=ve[F].apply(ve,Se.slice(0,-1));on.onsuccess=function(){Oe(on.result)}})})}),[sn,Rn].forEach(function(F){F.prototype.getAll||(F.prototype.getAll=function(fe,Se){var Oe=this,ve=[];return new Promise(function(on){Oe.iterateCursor(fe,function(qr){qr?(ve.push(qr.value),void 0===Se||ve.length!=Se?qr.continue():on(ve)):on(ve)})})})}),Os.openDb=function(F,fe,Se){var Oe=Gr(indexedDB,"open",[F,fe]),ve=Oe.request;return ve&&(ve.onupgradeneeded=function(on){Se&&Se(new jo(ve.result,on.oldVersion,ve.transaction))}),Oe.then(function(on){return new $o(on)})},Os.deleteDb=function(F){return Gr(indexedDB,"deleteDatabase",[F])},Object.defineProperty(Os,"__esModule",{value:!0})}(md)}},pd=>{pd(pd.s=238)}]);